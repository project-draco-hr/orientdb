{
  if (isRemoteStorage()) {
    final JMXServiceURL url=new JMXServiceURL("service:jmx:rmi://localhost:10005/jndi/rmi://127.0.0.1:10005/jmxrmi");
    jmxConnector=JMXConnectorFactory.connect(url,null);
    final MBeanServerConnection mbsc=jmxConnector.getMBeanServerConnection();
    final ObjectName onProfiler=new ObjectName("OrientDB:type=Profiler");
    return JMX.newMBeanProxy(mbsc,onProfiler,OProfilerMBean.class,false);
  }
 else {
    return Orient.instance().getProfiler();
  }
}
