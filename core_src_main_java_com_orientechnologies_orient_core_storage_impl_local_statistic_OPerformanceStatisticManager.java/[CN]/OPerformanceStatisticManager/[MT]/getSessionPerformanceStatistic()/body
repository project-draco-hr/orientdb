{
  if (!enabled && !enabledForCurrentThread.get())   return null;
  final Thread currentThread=Thread.currentThread();
  OSessionStoragePerformanceStatistic performanceStatistic=statistics.get(currentThread);
  if (performanceStatistic != null) {
    return performanceStatistic;
  }
  performanceStatistic=new OSessionStoragePerformanceStatistic(intervalBetweenSnapshots);
  final OSessionStoragePerformanceStatistic oldStatistic=statistics.putIfAbsent(currentThread,performanceStatistic);
  if (oldStatistic != null) {
    performanceStatistic=oldStatistic;
  }
  return performanceStatistic;
}
