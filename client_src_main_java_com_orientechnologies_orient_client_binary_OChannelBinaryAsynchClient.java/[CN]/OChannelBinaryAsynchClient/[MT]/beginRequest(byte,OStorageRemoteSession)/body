{
  final OStorageRemoteNodeSession nodeSession=session.getServerSession(getServerURL());
  if (nodeSession == null)   throw new OIOException("Invalid session for URL '" + getServerURL() + "'");
  writeByte(iCommand);
  writeInt(nodeSession.getSessionId());
  if (nodeSession.getToken() != null) {
    if (!session.hasConnection(this)) {
      writeBytes(nodeSession.getToken());
      session.addConnection(this);
    }
 else     writeBytes(new byte[]{});
  }
}
