{
  database.getEntityManager().registerEntityClass(CustomClass.class);
  OObjectSerializerContext serializerContext=new OObjectSerializerContext();
  serializerContext.bind(new OObjectSerializer<CustomType,Long>(){
    public Long serializeFieldValue(    Object iPojo,    String iFieldName,    CustomType iFieldValue){
      serialized++;
      return iFieldValue.value;
    }
    public CustomType unserializeFieldValue(    Object iPojo,    String iFieldName,    Long iFieldValue){
      unserialized++;
      return new CustomType(iFieldValue);
    }
  }
);
  OObjectSerializerHelper.bindSerializerContext(null,serializerContext);
  database.getMetadata().getSchema().createClass("CustomClass");
  List<CustomType> customTypesList=new ArrayList<CustomType>();
  customTypesList.add(new CustomType(101L));
  CustomClass pojo=new CustomClass("test",new CustomType(100L),customTypesList);
  database.save(pojo);
  Assert.assertEquals(serialized,2);
  Assert.assertEquals(unserialized,0);
  database.reload(pojo);
  Assert.assertEquals(serialized,2);
  Assert.assertEquals(unserialized,2);
}
