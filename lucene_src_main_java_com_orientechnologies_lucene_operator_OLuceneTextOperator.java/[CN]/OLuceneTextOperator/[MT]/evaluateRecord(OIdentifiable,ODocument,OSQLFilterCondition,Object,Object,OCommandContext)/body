{
  OLuceneFullTextIndex index=involvedIndex(iRecord,iCurrentResult,iCondition,iLeft,iRight);
  if (index == null) {
    throw new OCommandExecutionException("Cannot evaluate lucene condition without index configuration.");
  }
  MemoryIndex memoryIndex=(MemoryIndex)iContext.getVariable("_memoryIndex");
  if (memoryIndex == null) {
    memoryIndex=new MemoryIndex();
    iContext.setVariable("_memoryIndex",memoryIndex);
  }
  memoryIndex.reset();
  Document doc=index.buildDocument(iLeft);
  for (  IndexableField field : doc.getFields()) {
    memoryIndex.addField(field.name(),field.stringValue(),index.analyzer(field.name()));
  }
  Query query=null;
  try {
    query=index.buildQuery(iRight);
  }
 catch (  ParseException e) {
    OLogManager.instance().error(this,"error occurred while building query",e);
  }
  return memoryIndex.search(query) > 0.0f;
}
