{
  database.open("admin","admin");
  List<ODocument> result=database.command(new OSQLSynchQuery<ODocument>("select *, name.prefix('Mr. ').append(' ').append(surname).append('!') as test from Profile where name is not null")).execute();
  Assert.assertTrue(result.size() != 0);
  for (  ODocument d : result) {
    Assert.assertEquals(d.field("test").toString(),"Mr. " + d.field("name") + " "+ d.field("surname")+ "!");
    Assert.assertFalse(d.getIdentity().isPersistent());
    Assert.assertEquals(d.getRecordType(),ODocument.RECORD_TYPE);
  }
  database.close();
}
