{
  if (enginePool != null)   return;
  enginePool=new OResourcePool<Object,ScriptEngine>(maxEngines,new OResourcePoolListener<Object,ScriptEngine>(){
    @Override public ScriptEngine createNewResource(    Object iKey,    Object... iAdditionalArgs){
      try {
        return getGroovyEngine();
      }
 catch (      Throwable e) {
        throw new OConfigurationException("Error on loading Gremlin engine",e);
      }
    }
    @Override public ScriptEngine reuseResource(    Object iKey,    Object[] iAdditionalArgs,    ScriptEngine iReusedEngine){
      iReusedEngine.getBindings(ScriptContext.ENGINE_SCOPE).clear();
      return iReusedEngine;
    }
  }
);
  graphPool=new OResourcePool<String,OrientGraph>(maxGraphs,new OResourcePoolListener<String,OrientGraph>(){
    @Override public OrientGraph createNewResource(    final String iKey,    final Object... iAdditionalArgs){
      final String[] parts=iKey.split(",");
      return new OrientGraph(parts[1]);
    }
    @Override public OrientGraph reuseResource(    final String iKey,    final Object[] iAdditionalArgs,    final OrientGraph iReusedGraph){
      return iReusedGraph;
    }
  }
);
}
