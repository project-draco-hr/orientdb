{
  ODocument city=new ODocument("City");
  int size=10000;
  for (int i=0; i < size; i++) {
    city.field("name","Rome " + i);
    databaseDocumentTx.save(city);
    city.reset();
    city.setClassName("City");
  }
  String query="select * from City where [name] LUCENE \"(name:Rome)\")";
  List<ODocument> docs=databaseDocumentTx.query(new OSQLSynchQuery<ODocument>(query));
  Assert.assertEquals(docs.size(),size);
  databaseDocumentTx.close();
  databaseDocumentTx.open("admin","admin");
  docs=databaseDocumentTx.query(new OSQLSynchQuery<ODocument>(query));
  Assert.assertEquals(docs.size(),size);
  databaseDocumentTx.command(new OCommandSQL("delete from City")).execute();
  docs=databaseDocumentTx.query(new OSQLSynchQuery<ODocument>(query));
  Assert.assertEquals(docs.size(),0);
  databaseDocumentTx.close();
  databaseDocumentTx.open("admin","admin");
  docs=databaseDocumentTx.query(new OSQLSynchQuery<ODocument>(query));
  Assert.assertEquals(docs.size(),0);
}
