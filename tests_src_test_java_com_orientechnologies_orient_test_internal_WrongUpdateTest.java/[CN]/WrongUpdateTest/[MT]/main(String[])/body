{
  ODatabaseDocumentTx databaseDocumentTx=new ODatabaseDocumentTx("plocal:indexExceptionTest");
  if (databaseDocumentTx.exists()) {
    databaseDocumentTx.open("admin","admin");
    databaseDocumentTx.drop();
  }
  databaseDocumentTx.create();
  databaseDocumentTx.close();
  initializeExceptionRecordTable(databaseDocumentTx);
  System.out.println("Starting Writer...");
  try {
    for (int i=0; i < 10000; i++) {
      String id=createExceptionRecord(i);
      updateRecord(id);
      updateRecord(id);
      updateRecord(id);
      checkRecord(id);
      if (i % 100 == 0)       System.out.println(i + " records were created.");
    }
  }
 catch (  RuntimeException e) {
    throw e;
  }
catch (  InterruptedException e) {
    throw e;
  }
catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
