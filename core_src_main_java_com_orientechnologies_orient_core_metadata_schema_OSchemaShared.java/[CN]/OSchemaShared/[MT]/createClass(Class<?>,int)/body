{
  final OClass result;
  readWriteLock.writeLock().lock();
  startReloadRequest();
  try {
    final Class<?> superClass=clazz.getSuperclass();
    final OClass cls;
    if (superClass != null && superClass != Object.class && existsClass(superClass.getSimpleName()))     cls=getClass(superClass.getSimpleName());
 else     cls=null;
    result=createClass(clazz.getSimpleName(),cls,iDefaultClusterId);
  }
  finally {
    readWriteLock.writeLock().unlock();
    endReloadRequest();
  }
  reloadStorageMetadata();
  return result;
}
