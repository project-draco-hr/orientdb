{
  List<ODocument> result=database.query(new OSQLSynchQuery<ODocument>("select from Account where addresses.@class in [ 'Address' ]"));
  Assert.assertFalse(result.isEmpty());
  for (  ODocument d : result) {
    Assert.assertNotNull(d.field("addresses"));
    Assert.assertEquals(((ODocument)((Collection<OIdentifiable>)d.field("addresses")).iterator().next().getRecord()).getSchemaClass().getName(),"Address");
  }
}
