{
  final ORID[] ridToRemove=new ORID[size() - iThreshold];
  int entryNum=0;
  int i=0;
  for (  java.util.Map.Entry<ORID,ORecordInternal<?>> ridEntry : entrySet()) {
    if (!ridEntry.getValue().isDirty() && !ridEntry.getValue().isPinned())     if (entryNum++ >= iThreshold)     ridToRemove[i++]=ridEntry.getKey();
    if (i >= ridToRemove.length)     break;
  }
  for (  ORID rid : ridToRemove)   remove(rid);
}
