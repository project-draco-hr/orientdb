{
  if (!clustersCanNotBeSharedAmongClasses)   return;
  if (clusterId < 0)   return;
  rwLock.readLock().lock();
  try {
    final OClass existingCls=clustersToClasses.get(clusterId);
    if (existingCls != null && !cls.equals(existingCls))     throw new OSchemaException("Cluster with id " + clusterId + " already belongs to class "+ clustersToClasses.get(clusterId));
  }
  finally {
    rwLock.readLock().unlock();
  }
}
