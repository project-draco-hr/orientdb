{
  writer=null;
  try {
    writer=new OJSONWriter(new FileWriter(fileName));
    writer.beginSection(0,true,"");
    exportInfo();
    exportDictionary();
    exportSchema();
    exportClusters();
    writer.endSection(0,true);
    writer.flush();
  }
 catch (  Exception e) {
    throw new ODatabaseExportException("Error on exporting database '" + database.getName() + " to: "+ fileName,e);
  }
 finally {
    if (writer != null)     try {
      writer.close();
    }
 catch (    IOException e) {
    }
  }
}
