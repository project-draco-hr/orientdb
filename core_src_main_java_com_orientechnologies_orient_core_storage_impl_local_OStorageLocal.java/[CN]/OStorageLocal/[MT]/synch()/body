{
  checkOpeness();
  final long timer=OProfiler.getInstance().startChrono();
  final boolean locked=lock.acquireExclusiveLock();
  try {
    saveVersion();
    for (    OCluster cluster : clusters)     if (cluster != null)     cluster.synch();
    for (    ODataLocal data : dataSegments)     data.synch();
  }
 catch (  IOException e) {
    throw new OStorageException("Error on synch",e);
  }
 finally {
    lock.releaseExclusiveLock(locked);
    OProfiler.getInstance().stopChrono("storage." + name + ".synch",timer);
  }
}
