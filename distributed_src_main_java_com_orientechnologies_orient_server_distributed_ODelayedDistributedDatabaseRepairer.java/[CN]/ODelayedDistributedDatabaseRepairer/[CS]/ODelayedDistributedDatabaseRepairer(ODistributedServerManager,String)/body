{
  this.dManager=manager;
  this.databaseName=databaseName;
  checkTask=new TimerTask(){
    @Override public void run(){
      final long start=System.currentTimeMillis();
      try {
        check();
      }
 catch (      Throwable t) {
        OLogManager.instance().error(this,"Error on repairing distributed database",t);
      }
 finally {
        totalTimeProcessing.addAndGet(System.currentTimeMillis() - start);
      }
    }
  }
;
  Orient.instance().scheduleTask(checkTask,OGlobalConfiguration.DISTRIBUTED_DELAYED_AUTO_REPAIRER_CHECK_EVERY.getValueAsLong(),OGlobalConfiguration.DISTRIBUTED_DELAYED_AUTO_REPAIRER_CHECK_EVERY.getValueAsLong());
}
