{
  database=ODatabaseDocumentPool.global().acquire(url,"admin","admin");
  try {
    List<ODocument> result=database.query(new OSQLSynchQuery<ODocument>("select from Account"));
    ODocument doc=result.get(0);
    doc.field("name","modified");
    int oldVersion=doc.getVersion();
    ORecordVersion recordVersion=OVersionFactory.instance().createVersion();
    recordVersion.setCounter(-2);
    doc.getRecordVersion().copyFrom(recordVersion);
    doc.save();
    doc.reload();
    Assert.assertEquals(doc.getVersion(),oldVersion);
    Assert.assertEquals(doc.field("name"),"modified");
  }
  finally {
    database.close();
  }
}
