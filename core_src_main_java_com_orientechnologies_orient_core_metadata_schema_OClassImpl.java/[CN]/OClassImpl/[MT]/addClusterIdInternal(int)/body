{
  owner.checkClusterCanBeAdded(clusterId,this);
  for (  int currId : clusterIds)   if (currId == clusterId)   return this;
  clusterIds=OArrays.copyOf(clusterIds,clusterIds.length + 1);
  clusterIds[clusterIds.length - 1]=clusterId;
  Arrays.sort(clusterIds);
  polymorphicClusterIds=OArrays.copyOf(polymorphicClusterIds,polymorphicClusterIds.length + 1);
  polymorphicClusterIds[polymorphicClusterIds.length - 1]=clusterId;
  Arrays.sort(polymorphicClusterIds);
  if (defaultClusterId == NOT_EXISTENT_CLUSTER_ID)   defaultClusterId=clusterId;
  setDirty();
  addClusterIdToIndexes(clusterId);
  owner.addClusterForClass(clusterId,this);
  return this;
}
