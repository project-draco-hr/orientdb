{
  if (indexResult != null) {
    if (indexResult instanceof Collection<?>) {
      Collection<OIdentifiable> indexResultSet=(Collection<OIdentifiable>)indexResult;
      context.updateMetric("indexReads",indexResultSet.size());
      for (      OIdentifiable identifiable : indexResultSet) {
        ORecord<?> record=identifiable.getRecord();
        if (record == null)         throw new OException("Error during loading record with id : " + identifiable.getIdentity());
        if (filter((ORecordInternal<?>)record)) {
          final boolean continueResultParsing=handleResult(record);
          if (!continueResultParsing)           break;
        }
      }
    }
 else {
      final ORecord<?> record=((OIdentifiable)indexResult).getRecord();
      if (filter((ORecordInternal<?>)record))       handleResult(record);
    }
  }
}
