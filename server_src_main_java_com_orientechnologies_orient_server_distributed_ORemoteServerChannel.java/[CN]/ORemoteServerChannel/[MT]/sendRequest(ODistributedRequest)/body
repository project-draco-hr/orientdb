{
  networkOperation(OChannelBinaryProtocol.DISTRIBUTED_REQUEST,new OStorageRemoteOperation<Object>(){
    @Override public Object execute() throws IOException {
      try {
        final byte[] serializedRequest;
        final ByteArrayOutputStream out=new ByteArrayOutputStream();
        try {
          final ObjectOutputStream outStream=new ObjectOutputStream(out);
          try {
            req.writeExternal(outStream);
            serializedRequest=out.toByteArray();
            ODistributedServerLog.debug(this,manager.getLocalNodeName(),server,ODistributedServerLog.DIRECTION.OUT,"Sending request %s (%d bytes)",req,serializedRequest.length);
            channel.writeBytes(serializedRequest);
          }
  finally {
            outStream.close();
          }
        }
  finally {
          out.close();
        }
      }
  finally {
        channel.flush();
      }
      return null;
    }
  }
,"Cannot send distributed request",MAX_RETRY,true);
}
