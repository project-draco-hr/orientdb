{
  if (embeddedStreaming != iValue) {
    embeddedStreaming=iValue;
    if (!iValue) {
      watchDog=new Listener(){
        public void memoryUsageLow(        final long iFreeMemory,        final long iFreeMemoryPercentage){
          tree.setOptimization(iFreeMemoryPercentage < 10 ? 2 : 1);
        }
      }
;
    }
    Orient.instance().getMemoryWatchDog().addListener(watchDog);
  }
}
