{
  setDirty();
  final ODatabasePojoAbstract<TYPE> database=getDatabase();
  boolean modified=super.retainAll(c);
  Set<Object> toRetain=new HashSet<Object>();
  for (  Object o : c) {
    toRetain.add(database.getRecordByUserObject(o,false));
    if (underlying.retainAll(toRetain))     modified=true;
  }
  return modified;
}
