{
  final ODatabaseDocumentInternal currentDatabase=ODatabaseRecordThreadLocal.INSTANCE.get();
  if (currentDatabase != this)   throw new IllegalStateException("Current database instance (" + toString() + ") is not active on current thread ("+ Thread.currentThread()+ "). Current active database is: "+ currentDatabase);
}
