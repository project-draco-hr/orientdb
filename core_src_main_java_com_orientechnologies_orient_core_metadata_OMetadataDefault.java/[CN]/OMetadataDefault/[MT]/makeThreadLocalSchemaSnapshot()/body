{
  ThreadLocalSchemaSnapshot schemaSnapshot=threadLocalSchemaSnapshot.get();
  if (schemaSnapshot == null) {
    final OImmutableSchema immutableSchema=getImmutableSchemaSnapshot();
    schemaSnapshot=new ThreadLocalSchemaSnapshot(immutableSchema);
    threadLocalSchemaSnapshot.set(schemaSnapshot);
    return;
  }
  schemaSnapshot.snapshotCounter++;
}
