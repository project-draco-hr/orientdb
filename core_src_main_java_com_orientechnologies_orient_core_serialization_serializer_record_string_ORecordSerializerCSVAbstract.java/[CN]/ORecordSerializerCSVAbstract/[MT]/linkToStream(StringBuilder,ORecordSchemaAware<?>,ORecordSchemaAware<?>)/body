{
  ORID link=iLinkedRecord.getIdentity();
  if (!link.isValid()) {
    iLinkedRecord.setDatabase(iParentRecord.getDatabase());
    iLinkedRecord.getDatabase().save((ORecordInternal)iLinkedRecord);
  }
  buffer.append(OStringSerializerHelper.LINK);
  if (iLinkedRecord.getClassName() != null) {
    buffer.append(iLinkedRecord.getClassName());
    buffer.append(OStringSerializerHelper.CLASS_SEPARATOR);
  }
  buffer.append(link.toString());
}
