{
  if (currentIterator.hasNext())   return nextCollectionEntry();
  if (!treeIterator.hasNext())   return null;
  if (valuesTransformer == null) {
    final Map.Entry<Object,V> entry=treeIterator.next();
    currentKey=entry.getKey();
    currentIterator=Collections.singletonList((OIdentifiable)entry.getValue()).iterator();
  }
 else {
    while (!currentIterator.hasNext() && treeIterator.hasNext()) {
      final Map.Entry<Object,V> entry=treeIterator.next();
      currentKey=entry.getKey();
      currentIterator=valuesTransformer.transformFromValue(entry.getValue()).iterator();
    }
  }
  if (!currentIterator.hasNext())   return null;
  return nextCollectionEntry();
}
