{
  Thread[] threads=new Thread[THREADS];
  System.out.println("Spanning " + THREADS + " threads...");
  for (int i=0; i < THREADS; ++i) {
    threads[i]=new Thread(new CommandExecutor(url,"thread" + i),"ConcurrentTest1");
  }
  System.out.println("Starting " + THREADS + " threads...");
  for (int i=0; i < THREADS; ++i) {
    threads[i].start();
  }
  System.out.println("Waiting for " + THREADS + " threads...");
  for (int i=0; i < THREADS; ++i) {
    threads[i].join();
  }
  System.out.println("Done! Total queries executed in parallel: " + counter.get() + " average retries: "+ ((float)totalRetries.get() / (float)counter.get()));
  Assert.assertEquals(counter.get(),CYCLES * THREADS);
}
