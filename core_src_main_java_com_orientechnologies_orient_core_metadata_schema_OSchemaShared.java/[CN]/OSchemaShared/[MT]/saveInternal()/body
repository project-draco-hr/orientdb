{
  getDatabase();
  if (document.getDatabase().getTransaction().isActive())   throw new OSchemaException("Cannot change the schema while a transaction is active. Schema changes are not transactional");
  lock.acquireExclusiveLock();
  try {
    document.setDirty();
    super.save(OMetadata.CLUSTER_INTERNAL_NAME);
  }
  finally {
    lock.releaseExclusiveLock();
  }
}
