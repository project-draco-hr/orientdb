{
  final boolean txBegun=database.getTransaction().isActive();
  if (!isAutoStartTx()) {
    if (isRequireTransaction() && !txBegun)     throw new OTransactionException("Transaction required to change the Graph");
    return;
  }
  if (!txBegun) {
    database.begin();
    database.getTransaction().setUsingLog(settings.isUseLog());
  }
}
