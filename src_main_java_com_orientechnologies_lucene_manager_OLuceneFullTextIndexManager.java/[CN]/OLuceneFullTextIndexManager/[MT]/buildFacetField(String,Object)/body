{
  String[] path=null;
  if (val instanceof String) {
    path=new String[1];
    path[0]=(String)val;
  }
 else   if (val instanceof Iterable) {
    Iterable iterable=(Iterable)val;
    List<String> values=new ArrayList<String>();
    for (    Object s : iterable) {
      if (s instanceof String) {
        values.add((String)s);
      }
 else {
        throw new OIndexEngineException("Cannot facet value " + val + " because it is not a string");
      }
    }
    path=values.toArray(new String[values.size()]);
  }
  return new FacetField(f,path);
}
