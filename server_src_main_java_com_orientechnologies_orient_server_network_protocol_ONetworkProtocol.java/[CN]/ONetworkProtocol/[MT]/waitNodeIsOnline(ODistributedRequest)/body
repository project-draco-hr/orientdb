{
  final ODistributedServerManager mgr=server.getDistributedManager();
  if (mgr != null && mgr.isEnabled() && mgr.isOffline()) {
    for (int retry=0; retry < MAX_RETRIES; ++retry) {
      if (mgr != null && mgr.isOffline()) {
        OLogManager.instance().info(this,"Node is not online yet (status=%s), blocking request %s until it is online %d/%d",mgr.getNodeStatus(),request,retry + 1,MAX_RETRIES);
        pauseCurrentThread(300);
      }
 else       return;
    }
    throw new OOfflineNodeException("Cannot execute operation while the node is not online (status=" + mgr.getNodeStatus() + ")");
  }
}
