{
  StringBuilder buffer=new StringBuilder();
  write(buffer,version);
  write(buffer,name);
  write(buffer,schemaRecordId);
  write(buffer,dictionaryRecordId);
  write(buffer,localeLanguage);
  write(buffer,localeCountry);
  write(buffer,dateFormat);
  write(buffer,dateTimeFormat);
  write(buffer,clusters.size());
  for (  OStorageClusterConfiguration c : clusters) {
    if (c instanceof OStoragePhysicalClusterConfiguration) {
      write(buffer,"p");
      phySegmentToStream(buffer,(OStoragePhysicalClusterConfiguration)c);
      fileToStream(buffer,((OStoragePhysicalClusterConfiguration)c).holeFile);
    }
 else {
      write(buffer,"l");
      logSegmentToStream(buffer,(OStorageLogicalClusterConfiguration)c);
    }
  }
  write(buffer,dataSegments.size());
  for (  OStorageDataConfiguration d : dataSegments) {
    phySegmentToStream(buffer,d);
    fileToStream(buffer,d.holeFile);
  }
  fileToStream(buffer,txSegment);
  write(buffer,txSegment.isSynchRecord());
  write(buffer,txSegment.isSynchTx());
  write(buffer,properties.size());
  for (  OEntryConfiguration e : properties)   entryToStream(buffer,e);
  if (buffer.length() > FIXED_CONFIG_SIZE)   throw new OConfigurationException("Configuration data exceeded size limit: " + FIXED_CONFIG_SIZE + " bytes");
  buffer.append("|");
  buffer.setLength(FIXED_CONFIG_SIZE);
  return buffer.toString().getBytes();
}
