{
  _immutableClazz=null;
  _immutableSchemaVersion=-1;
  if (className == null) {
    _className=null;
    return;
  }
  OMetadataInternal metadata=(OMetadataInternal)getDatabase().getMetadata();
  this._immutableClazz=metadata.getImmutableSchemaSnapshot().getClass(className);
  OClass clazz;
  if (this._immutableClazz != null) {
    clazz=this._immutableClazz;
  }
 else {
    clazz=metadata.getSchema().getOrCreateClass(className);
  }
  if (clazz != null) {
    _className=clazz.getName();
    convertFieldsToClass(clazz);
  }
}
