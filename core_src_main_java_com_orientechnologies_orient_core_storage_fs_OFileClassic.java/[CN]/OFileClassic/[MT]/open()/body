{
  acquireWriteLock();
  try {
    if (!osFile.exists())     throw new FileNotFoundException("File: " + osFile.getAbsolutePath());
    openChannel();
    init(-1);
    OLogManager.instance().debug(this,"Checking file integrity of " + osFile.getName() + "...");
    if (failCheck) {
      wasSoftlyClosed=isSoftlyClosed();
      if (wasSoftlyClosed)       setSoftlyClosed(false);
    }
    if (version < CURRENT_VERSION) {
      setVersion(CURRENT_VERSION);
      version=CURRENT_VERSION;
      setSoftlyClosed(!failCheck);
    }
    if (failCheck)     return wasSoftlyClosed;
    return true;
  }
  finally {
    releaseWriteLock();
  }
}
