{
  checkOpeness();
  final ORecordId rid=(ORecordId)record.getIdentity();
  if (rid == null)   throw new ODatabaseException("Cannot create record because it has no identity. Probably is not a regular record or contains projections of fields rather than a full record");
  if (rid.isNew())   throw new ODatabaseException("Passed in record was not saved and can not be treated as replica");
  return callInRecordLock(new ExecuteReplicaUpdateCallable(record),rid,true);
}
