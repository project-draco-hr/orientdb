{
  for (  Entry<String,String> storageEntry : serverInstance.getAvailableStorageNames().entrySet()) {
    final String databaseName=storageEntry.getKey();
    if (!messageServices.containsKey(databaseName)) {
      ODistributedServerLog.warn(this,getLocalNodeName(),null,DIRECTION.NONE,"opening database '%s'...",databaseName);
      if (!getConfigurationMap().containsKey(CONFIG_DATABASE_PREFIX + databaseName)) {
        final ODistributedConfiguration cfg=getDatabaseConfiguration(databaseName);
        getConfigurationMap().put(CONFIG_DATABASE_PREFIX + databaseName,cfg.serialize());
      }
      final OHazelcastDistributedMessageService msgService=new OHazelcastDistributedMessageService(this,databaseName);
      messageServices.put(databaseName,msgService);
      msgService.configureDatabase(databaseName);
      managedDatabases.put(databaseName,databaseName);
      checkLocalNodeInConfiguration(databaseName);
    }
  }
  installNewDatabases();
}
