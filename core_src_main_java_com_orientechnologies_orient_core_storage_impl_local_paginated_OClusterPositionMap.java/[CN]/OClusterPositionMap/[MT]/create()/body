{
  acquireExclusiveLock();
  try {
    final OAtomicOperation atomicOperation=storage.getAtomicOperationsManager().getCurrentOperation();
    fileId=addFile(atomicOperation,name + DEF_EXTENSION,diskCache);
  }
  finally {
    releaseExclusiveLock();
  }
}
