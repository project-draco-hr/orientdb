{
  if (iElement != null && iElement instanceof ORecord<?> && !((ORecord<?>)iElement).getIdentity().isNew()) {
    if (((ORecord<?>)iElement).isDirty() && !database.isClosed())     database.save((ORecordInternal<?>)iElement);
    return ((ORecord<?>)iElement).getIdentity();
  }
  return iElement;
}
