{
  if (iCommand.isIdempotent() && !executor.isIdempotent())   throw new OCommandExecutionException("Cannot execute non idempotent command");
  long beginTime=Orient.instance().getProfiler().startChrono();
  try {
    return executor.execute(iCommand.getParameters());
  }
 catch (  OException e) {
    throw e;
  }
catch (  Exception e) {
    throw new OCommandExecutionException("Error on execution of command: " + iCommand,e);
  }
 finally {
    if (Orient.instance().getProfiler().isRecording())     Orient.instance().getProfiler().stopChrono("db." + ODatabaseRecordThreadLocal.INSTANCE.get().getName() + ".command."+ iCommand.toString(),"Command executed against the database",beginTime,"db.*.command.*");
  }
}
