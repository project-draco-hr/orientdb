{
  final ODatabaseRecord database=ODatabaseRecordThreadLocal.INSTANCE.get();
  return OGlobalConfiguration.INDEX_AUTO_REBUILD_AFTER_NOTSOFTCLOSE.getValueAsBoolean() && (database.getStorage() instanceof OStorageLocalAbstract) && !((OStorageLocalAbstract)database.getStorage()).isClusterSoftlyClosed(OMetadata.CLUSTER_INDEX_NAME);
}
