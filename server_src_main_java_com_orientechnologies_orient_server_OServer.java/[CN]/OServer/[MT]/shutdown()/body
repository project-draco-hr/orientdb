{
  if (!running)   return;
  running=false;
  OLogManager.instance().info(this,"OrientDB Server is shutdowning...");
  try {
    lock.writeLock().lock();
    for (    OServerNetworkListener l : listeners) {
      OLogManager.instance().info(this,"Shutdowning connection listener '" + l + "'...");
      l.shutdown();
    }
    for (    OServerHandler h : handlers) {
      OLogManager.instance().info(this,"Shutdowning handler %s...",h.getName());
      try {
        h.shutdown();
      }
 catch (      Throwable t) {
      }
    }
    Orient.instance().shutdown();
  }
  finally {
    lock.writeLock().unlock();
  }
  OLogManager.instance().info(this,"OrientDB Server shutdown complete");
  System.out.println();
}
