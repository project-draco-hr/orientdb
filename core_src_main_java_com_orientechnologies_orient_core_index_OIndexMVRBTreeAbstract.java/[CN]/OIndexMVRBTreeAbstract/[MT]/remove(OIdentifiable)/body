{
  acquireExclusiveLock();
  try {
    int tot=0;
    Set<OIdentifiable> rids;
    for (    Entry<Object,Set<OIdentifiable>> entries : map.entrySet()) {
      rids=entries.getValue();
      if (rids != null) {
        if (rids.contains(iRecord)) {
          remove(entries.getKey(),iRecord);
          ++tot;
        }
      }
    }
    return tot;
  }
  finally {
    releaseExclusiveLock();
  }
}
