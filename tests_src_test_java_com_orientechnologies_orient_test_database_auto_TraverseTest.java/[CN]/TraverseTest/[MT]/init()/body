{
  if (database.getURL().startsWith("remote:"))   return;
  if ("memory:test".equals(database.getURL()))   database.create();
 else   database.open("admin","admin");
  OrientGraph graph=new OrientGraph(database);
  graph.setUseLightweightEdges(false);
  graph.createVertexType("Movie");
  graph.createVertexType("Actor");
  tomCruise=graph.addVertex("class:Actor","name","Tom Cruise").getRecord();
  totalElements++;
  megRyan=graph.addVertex("class:Actor","name","Meg Ryan").getRecord();
  totalElements++;
  nicoleKidman=graph.addVertex("class:Actor","name","Nicol Kidman").getRecord();
  totalElements++;
  ODocument topGun=graph.addVertex("class:Movie","name","Top Gun","year",1986).getRecord();
  totalElements++;
  ODocument missionImpossible=graph.addVertex("class:Movie","name","Mission: Impossible","year",1996).getRecord();
  totalElements++;
  ODocument youHaveGotMail=graph.addVertex("class:Movie","name","You've Got Mail","year",1998).getRecord();
  totalElements++;
  graph.addEdge(null,graph.getVertex(tomCruise),graph.getVertex(topGun),"actorIn");
  totalElements++;
  graph.addEdge(null,graph.getVertex(megRyan),graph.getVertex(topGun),"actorIn");
  totalElements++;
  graph.addEdge(null,graph.getVertex(tomCruise),graph.getVertex(missionImpossible),"actorIn");
  totalElements++;
  graph.addEdge(null,graph.getVertex(megRyan),graph.getVertex(youHaveGotMail),"actorIn");
  totalElements++;
  graph.addEdge(null,graph.getVertex(tomCruise),graph.getVertex(megRyan),"friend");
  totalElements++;
  graph.addEdge(null,graph.getVertex(tomCruise),graph.getVertex(nicoleKidman),"married").setProperty("year",1990);
  totalElements++;
  graph.commit();
}
