{
  Collection<?> oldCollection=toCollection(old);
  Collection<?> newCollection=new HashSet(toCollection(with));
  for (  Object oldItem : oldCollection) {
    if (!newCollection.contains(oldItem)) {
      index.remove(oldItem,iRecord);
    }
 else {
      newCollection.remove(oldItem);
    }
  }
  for (  Object newItem : newCollection) {
    index.put(newItem,iRecord.placeholder());
  }
}
