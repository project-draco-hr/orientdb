{
  if (memoryLocked.compareAndSet(false,true)) {
    lockMemory();
  }
  try {
    return new OStorageLocal(iDbName,iDbName,getMode(iConfiguration));
  }
 catch (  Throwable t) {
    OLogManager.instance().error(this,"Error on opening database: " + iDbName + ". Current location is: "+ new java.io.File(".").getAbsolutePath(),t,ODatabaseException.class);
  }
  return null;
}
