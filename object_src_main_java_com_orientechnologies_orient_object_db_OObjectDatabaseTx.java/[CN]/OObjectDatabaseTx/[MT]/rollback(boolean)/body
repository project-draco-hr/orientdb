{
  ((ODatabaseRecordTx)underlying.getUnderlying()).rollback(force);
  if (!underlying.getTransaction().isActive()) {
    final List<ORecordOperation> newEntries;
    if (getTransaction().getCurrentRecordEntries() != null) {
      newEntries=new ArrayList<ORecordOperation>();
      for (      ORecordOperation entry : getTransaction().getCurrentRecordEntries())       if (entry.type == ORecordOperation.CREATED)       newEntries.add(entry);
    }
 else     newEntries=null;
  }
  return this;
}
