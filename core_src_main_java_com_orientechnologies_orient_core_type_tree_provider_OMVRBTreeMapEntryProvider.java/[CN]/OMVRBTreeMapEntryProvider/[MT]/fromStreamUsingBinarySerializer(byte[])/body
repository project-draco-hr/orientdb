{
  int offset=deserializeMetadata(inBuffer);
  serializedKeys=new int[pageSize];
  keys=(K[])new Object[pageSize];
  final OBinarySerializer<K> keySerializer=((OMVRBTreeMapProvider<K,V>)treeDataProvider).keySerializer;
  if (keySerializer == null)   throw new IllegalStateException("key serializer wasn't found");
  for (int i=0; i < size; i++) {
    serializedKeys[i]=offset;
    offset+=keySerializer.getObjectSize(inBuffer,offset);
  }
  serializedValues=new int[pageSize];
  values=(V[])new Object[pageSize];
  final OBinarySerializer<V> valueSerializer=(OBinarySerializer<V>)((OMVRBTreeMapProvider<K,V>)treeDataProvider).valueSerializer;
  if (valueSerializer == null)   throw new IllegalStateException("value serializer wasn't found");
  for (int i=0; i < size; i++) {
    serializedValues[i]=offset;
    offset+=valueSerializer.getObjectSize(inBuffer,offset);
  }
  buffer=inBuffer;
}
