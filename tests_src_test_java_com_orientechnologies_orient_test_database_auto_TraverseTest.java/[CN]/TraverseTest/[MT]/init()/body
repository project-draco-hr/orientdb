{
  if ("memory:test".equals(database.getURL()))   database.create();
 else   database.open("admin","admin");
  database.createVertexType("Movie");
  database.createVertexType("Actor");
  tomCruise=database.createVertex("Actor").field("name","Tom Cruise");
  totalElements++;
  megRyan=database.createVertex("Actor").field("name","Meg Ryan");
  totalElements++;
  nicoleKidman=database.createVertex("Actor").field("name","Nicol Kidman");
  totalElements++;
  ODocument topGun=database.createVertex("Movie").field("name","Top Gun").field("year",1986);
  totalElements++;
  ODocument missionImpossible=database.createVertex("Movie").field("name","Mission: Impossible").field("year",1996);
  totalElements++;
  ODocument youHaveGotMail=database.createVertex("Movie").field("name","You've Got Mail").field("year",1998);
  totalElements++;
  database.createEdge(tomCruise,topGun).field("actorIn");
  totalElements++;
  database.createEdge(megRyan,topGun).field("actorIn");
  totalElements++;
  database.createEdge(tomCruise,missionImpossible).field("actorIn");
  totalElements++;
  database.createEdge(megRyan,youHaveGotMail).field("actorIn");
  totalElements++;
  database.createEdge(tomCruise,megRyan).field("friend",true);
  totalElements++;
  database.createEdge(tomCruise,nicoleKidman).field("married",true).field("year",1990);
  totalElements++;
  tomCruise.save();
}
