{
  final List<OTransactionEntry> allEntries=new ArrayList<OTransactionEntry>();
  final List<OTransactionEntry> tmpEntries=new ArrayList<OTransactionEntry>();
  while (iTx.getEntries().iterator().hasNext()) {
    for (    OTransactionEntry txEntry : iTx.getEntries())     tmpEntries.add(txEntry);
    iTx.clearEntries();
    for (    OTransactionEntry txEntry : tmpEntries)     commitEntry(iRequesterId,iTx.getId(),txEntry);
    allEntries.addAll(tmpEntries);
    tmpEntries.clear();
  }
  txSegment.clearLogEntries(iRequesterId,iTx.getId());
  OTransactionAbstract.updateCacheFromEntries(storage,iTx,allEntries);
  allEntries.clear();
}
