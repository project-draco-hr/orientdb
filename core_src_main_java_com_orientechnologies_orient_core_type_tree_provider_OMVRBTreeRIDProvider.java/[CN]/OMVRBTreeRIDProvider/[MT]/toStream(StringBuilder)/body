{
  final long timer=OProfiler.getInstance().startChrono();
  try {
    if (embeddedStreaming && size > OGlobalConfiguration.MVRBTREE_SET_BINARY_THRESHOLD.getValueAsInteger())     embeddedStreaming=false;
    if (embeddedStreaming) {
      buffer.append('[');
      for (      ORecordId rid : tree.keySet()) {
        if (buffer.length() > 1)         buffer.append(',');
        rid.toString(buffer);
      }
      buffer.append(']');
    }
 else     buffer.append(toDocument().toString());
  }
  finally {
    OProfiler.getInstance().stopChrono("OMVRBTreeRIDProvider.toStream",timer);
  }
}
