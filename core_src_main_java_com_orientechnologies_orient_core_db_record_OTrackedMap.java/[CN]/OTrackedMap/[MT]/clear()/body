{
  final Map<Object,T> origValues;
  if (changeListeners.isEmpty())   origValues=null;
 else   origValues=new HashMap<Object,T>(this);
  if (origValues == null) {
    for (    T value : values())     if (value instanceof ODocument) {
      ((ODocument)value).removeOwner(this);
    }
  }
  super.clear();
  if (origValues != null) {
    for (    Map.Entry<Object,T> entry : origValues.entrySet()) {
      if (entry.getValue() instanceof ODocument) {
        ((ODocument)entry.getValue()).removeOwner(this);
      }
      fireCollectionChangedEvent(new OMultiValueChangeEvent<Object,T>(OMultiValueChangeEvent.OChangeType.REMOVE,entry.getKey(),null,entry.getValue()));
    }
  }
 else   setDirty();
}
