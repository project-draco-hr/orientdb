{
  final List<OTransactionRecordEntry> entries;
  if (getTransaction().getRecordEntries() != null) {
    entries=new ArrayList<OTransactionRecordEntry>();
    for (    OTransactionRecordEntry entry : getTransaction().getRecordEntries())     entries.add(entry);
  }
 else   entries=null;
  underlying.commit();
  if (entries != null) {
    Object pojo=null;
    for (    OTransactionRecordEntry entry : entries) {
      pojo=records2Objects.get(entry.getRecord());
      if (pojo != null) switch (entry.status) {
case OTransactionRecordEntry.CREATED:
        rid2Records.put(entry.getRecord().getIdentity(),(ODocument)entry.getRecord());
      OObjectSerializerHelper.setObjectID(entry.getRecord().getIdentity(),pojo);
case OTransactionRecordEntry.UPDATED:
    OObjectSerializerHelper.setObjectVersion(entry.getRecord().getVersion(),pojo);
  break;
case OTransactionRecordEntry.DELETED:
OObjectSerializerHelper.setObjectID(null,pojo);
OObjectSerializerHelper.setObjectVersion(null,pojo);
unregisterPojo(pojo,(ODocument)entry.getRecord());
break;
}
}
}
return this;
}
