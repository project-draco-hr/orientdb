{
  acquireExclusiveLock();
  try {
    Set<OIdentifiable> values=map.get(iKey);
    if (values == null)     values=new ORecordLazySet(configuration.getDatabase());
    if (!iSingleValue.getIdentity().isValid())     iSingleValue.save();
    if (iSingleValue.getIdentity().isTemporary())     tempItems.add(iKey);
    values.add(iSingleValue);
    map.put(iKey,values);
    return this;
  }
  finally {
    releaseExclusiveLock();
  }
}
