{
  final OIndexManagerProxy indexManager=database.getMetadata().getIndexManager();
  try {
    indexManager.createIndex("simple:key",OClass.INDEX_TYPE.UNIQUE.toString(),new OSimpleKeyIndexDefinition(-1,OType.INTEGER),null,null,null);
    fail();
  }
 catch (  Exception e) {
    if (e instanceof OResponseProcessingException)     e=(Exception)e.getCause();
    if (e.getCause() != null)     e=(Exception)e.getCause();
    assertTrue(e instanceof IllegalArgumentException);
  }
}
