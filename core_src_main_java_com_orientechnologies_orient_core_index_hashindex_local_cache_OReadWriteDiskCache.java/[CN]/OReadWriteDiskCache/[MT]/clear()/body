{
synchronized (syncObject) {
    writeCache.flush();
    for (    OCacheEntry cacheEntry : am)     if (cacheEntry.usageCounter == 0)     directMemory.free(cacheEntry.dataPointer);
 else     throw new OStorageException("Page with index " + cacheEntry.pageIndex + " for file id "+ cacheEntry.fileId+ " is used and can not be removed");
    for (    OCacheEntry cacheEntry : a1in)     if (cacheEntry.usageCounter == 0)     directMemory.free(cacheEntry.dataPointer);
 else     throw new OStorageException("Page with index " + cacheEntry.pageIndex + " for file id "+ cacheEntry.fileId+ " is used and can not be removed");
    a1out.clear();
    am.clear();
    a1in.clear();
    filePages.clear();
  }
}
