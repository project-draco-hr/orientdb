{
  if (records.isEmpty() || records.get(0).lsn.compareTo(lsn) > 0)   return;
  rndFile.seek(rndFile.length());
  final CRC32 crc32=new CRC32();
  int lastIndex=-1;
  for (int i=0; i < records.size(); i++) {
    CacheEntry cacheEntry=records.get(i);
    if (cacheEntry.lsn.compareTo(lsn) <= 0) {
      flushEntry(crc32,cacheEntry);
      lastIndex=i;
    }
 else     break;
  }
  rndFile.getFD().sync();
  if (lastIndex > -1)   records.subList(0,lastIndex + 1).clear();
}
