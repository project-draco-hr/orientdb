{
  if (currentTime < 0) {
    currentTime=nanoTimer.getNano();
  }
  if (lastSnapshotTimestamp < 0 || currentTime - lastSnapshotTimestamp >= intervalBetweenSnapshots) {
    snapshot=new PerformanceSnapshot(performanceCountersHolder,countersByComponent);
    lastSnapshotTimestamp=currentTime;
  }
}
