{
  final String dbPooledName=iDatabase instanceof ODatabaseComplex ? ((ODatabaseComplex<?>)iDatabase).getUser().getName() + "@" + iDatabase.getURL() : iDatabase.getURL();
  lock();
  try {
    final OReentrantResourcePool<String,DB> pool=pools.get(dbPooledName);
    if (pool == null)     throw new OLockException("Cannot release a database URL not acquired before. URL: " + iDatabase.getName());
    if (pool.returnResource(iDatabase))     this.notifyEvictor(dbPooledName,iDatabase);
  }
  finally {
    unlock();
  }
}
