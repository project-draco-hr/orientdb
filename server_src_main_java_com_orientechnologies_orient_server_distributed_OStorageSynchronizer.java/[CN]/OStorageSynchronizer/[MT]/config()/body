{
  final OStorage storage=openStorage(dbName);
  try {
    resolver=cluster.getConfictResolverClass().newInstance();
    resolver.startup(server,cluster,dbName);
  }
 catch (  Exception e) {
    ODistributedServerLog.error(this,cluster.getLocalNodeId(),null,DIRECTION.NONE,"cannot create the conflict resolver instance of class '%s'",cluster.getConfictResolverClass(),e);
  }
  final String logDirectory=OSystemVariableResolver.resolveSystemVariables(server.getDatabaseDirectory() + "/" + dbName);
  log=new ODatabaseJournal(server,cluster,storage,logDirectory);
}
