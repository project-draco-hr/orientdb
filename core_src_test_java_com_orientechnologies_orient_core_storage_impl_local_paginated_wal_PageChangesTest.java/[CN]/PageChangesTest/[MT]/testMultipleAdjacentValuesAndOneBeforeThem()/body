{
  OPageChanges pageChanges=new OPageChanges();
  pageChanges.addChanges(10,new byte[]{0,1,2,3},new byte[]{3,2,1,0});
  pageChanges.addChanges(14,new byte[]{4,5,6,7},new byte[]{7,6,5,4});
  pageChanges.addChanges(18,new byte[]{8,9,10,11},new byte[]{11,10,9,8});
  pageChanges.addChanges(8,new byte[]{98,99,100,101,102,103,104,105,106,107,108,109,110,111},new byte[]{-2,-1,0,1,2,3,4,5,6,7,8,9,10,11});
  ODirectMemoryPointer pointer=new ODirectMemoryPointer(1024);
  pageChanges.applyChanges(pointer);
  Assert.assertEquals(pointer.get(8,14),new byte[]{98,99,100,101,102,103,104,105,106,107,108,109,110,111});
  pageChanges.revertChanges(pointer);
  Assert.assertEquals(pointer.get(8,14),new byte[]{-2,-1,3,2,1,0,7,6,5,4,11,10,9,8});
  pointer.free();
}
