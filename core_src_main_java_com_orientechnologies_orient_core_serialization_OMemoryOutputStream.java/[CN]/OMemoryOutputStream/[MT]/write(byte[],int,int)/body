{
  final int pos=position;
  final int capacity=pos + length;
  assureSpaceFor(length);
  byte[] mbuf=buffer;
  if (length < NATIVE_COPY_THRESHOLD)   for (int i=0; i < length; ++i)   mbuf[pos + i]=buf[offset + i];
 else   System.arraycopy(buf,offset,mbuf,pos,length);
  position=capacity;
}
