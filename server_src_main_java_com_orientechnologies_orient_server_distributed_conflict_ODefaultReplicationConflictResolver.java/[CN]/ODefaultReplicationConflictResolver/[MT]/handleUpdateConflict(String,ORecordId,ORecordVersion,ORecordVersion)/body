{
  final int otherVersionNumber=iOtherVersion == null ? -1 : iOtherVersion.getCounter();
  ODistributedServerLog.warn(this,cluster.getLocalNodeId(),iRemoteNode,DIRECTION.IN,"Conflict on UDPATE record %s/%s (current=v%d, other=v%d)...",database.getName(),iCurrentRID,iCurrentVersion.getCounter(),otherVersionNumber);
  if (!existConflictsForRecord(iCurrentRID)) {
    final ODocument doc=createConflictDocument(ORecordOperation.UPDATED,iCurrentRID,iRemoteNode);
    try {
      doc.field(FIELD_CURRENT_VERSION,iCurrentVersion.getCounter());
      doc.field(FIELD_OTHER_VERSION,otherVersionNumber);
      doc.save();
    }
 catch (    Exception e) {
      errorOnWriteConflict(iRemoteNode,doc);
    }
  }
}
