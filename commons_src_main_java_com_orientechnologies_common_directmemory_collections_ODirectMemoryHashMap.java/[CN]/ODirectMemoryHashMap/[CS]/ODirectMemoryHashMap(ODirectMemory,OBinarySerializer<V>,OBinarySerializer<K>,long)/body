{
  this.memory=memory;
  this.valueSerializer=valueSerializer;
  this.keySerializer=keySerializer;
  size=0;
  capacity=initialCapacity;
  nextThreshold=(long)(capacity * 0.75);
  if (!allocateInitialMemory(capacity))   throw new IllegalStateException("There is n enough memory to allocate");
}
