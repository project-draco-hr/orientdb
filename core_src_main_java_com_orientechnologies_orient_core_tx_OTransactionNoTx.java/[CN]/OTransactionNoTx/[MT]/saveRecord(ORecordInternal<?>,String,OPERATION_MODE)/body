{
  try {
    final byte operation=iRecord.getIdentity().isValid() ? ORecordOperation.UPDATED : ORecordOperation.CREATED;
    invokeBeforeRecordListener(operation,iRecord);
    database.executeSaveRecord(iRecord,iClusterName,iRecord.getVersion(),iRecord.getRecordType(),iMode);
    invokeAfterRecordListener(operation,iRecord);
  }
 catch (  Exception e) {
    final ORecordId rid=(ORecordId)iRecord.getIdentity();
    if (rid.isValid())     database.getLevel1Cache().freeRecord(rid);
    if (e instanceof RuntimeException)     throw (RuntimeException)e;
    new OException(e);
  }
}
