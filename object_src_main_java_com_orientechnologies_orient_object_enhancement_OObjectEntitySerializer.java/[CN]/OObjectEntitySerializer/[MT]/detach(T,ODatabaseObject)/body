{
  if (o instanceof Proxy) {
    OObjectProxyMethodHandler handler=(OObjectProxyMethodHandler)((ProxyObject)o).getHandler();
    try {
      handler.detach(o);
    }
 catch (    IllegalArgumentException e) {
      throw new OSerializationException("Error detaching object of class " + o.getClass(),e);
    }
catch (    IllegalAccessException e) {
      throw new OSerializationException("Error detaching object of class " + o.getClass(),e);
    }
catch (    NoSuchMethodException e) {
      throw new OSerializationException("Error detaching object of class " + o.getClass(),e);
    }
catch (    InvocationTargetException e) {
      throw new OSerializationException("Error detaching object of class " + o.getClass(),e);
    }
    return o;
  }
 else   return serializeObject(o,db);
}
