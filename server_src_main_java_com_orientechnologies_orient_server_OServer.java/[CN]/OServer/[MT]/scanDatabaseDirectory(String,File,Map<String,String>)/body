{
  if (directory.exists() && directory.isDirectory()) {
    for (    File db : directory.listFiles()) {
      if (db.isDirectory()) {
        final File localFile=new File(db.getAbsolutePath() + "/default.odh");
        final File plocalFile=new File(db.getAbsolutePath() + "/default.pcl");
        if (localFile.exists()) {
          final String dbPath=db.getPath().replace('\\','/');
          final int lastBS=dbPath.lastIndexOf('/',dbPath.length() - 1) + 1;
          storages.put(OIOUtils.getDatabaseNameFromPath(dbPath.substring(lastBS)),"local:" + dbPath);
        }
 else         if (plocalFile.exists()) {
          final String dbPath=db.getPath().replace('\\','/');
          final int lastBS=dbPath.lastIndexOf('/',dbPath.length() - 1) + 1;
          storages.put(OIOUtils.getDatabaseNameFromPath(dbPath.substring(lastBS)),"plocal:" + dbPath);
        }
 else         scanDatabaseDirectory(rootDirectory,db,storages);
      }
    }
  }
}
