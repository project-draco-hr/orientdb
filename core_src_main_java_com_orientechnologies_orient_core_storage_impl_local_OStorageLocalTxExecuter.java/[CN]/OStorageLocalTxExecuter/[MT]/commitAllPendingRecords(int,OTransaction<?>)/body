{
  final List<OTransactionEntry<? extends ORecord<?>>> allEntries=new ArrayList<OTransactionEntry<? extends ORecord<?>>>();
  final List<OTransactionEntry<? extends ORecord<?>>> tmpEntries=new ArrayList<OTransactionEntry<? extends ORecord<?>>>();
  while (iTx.getEntries().iterator().hasNext()) {
    tmpEntries.addAll((Collection<? extends OTransactionEntry<? extends ORecord<?>>>)iTx.getEntries());
    iTx.clearEntries();
    for (    OTransactionEntry<? extends ORecord<?>> txEntry : tmpEntries)     commitEntry(iRequesterId,iTx.getId(),txEntry);
    allEntries.addAll(tmpEntries);
    tmpEntries.clear();
  }
  txSegment.clearLogEntries(iRequesterId,iTx.getId());
  OTransactionAbstract.updateCacheFromEntries(storage,iTx,allEntries);
  allEntries.clear();
}
