{
  writeAheadLog.logRecord(new OSetPageDataRecord(new byte[]{1,2,3},10,20,"test"));
  writeAheadLog.logCheckPointStart();
  writeAheadLog.logCheckPointEnd();
  OLogSequenceNumber checkPointLSN=writeAheadLog.logCheckPointStart();
  writeAheadLog.logCheckPointEnd();
  writeAheadLog.logCheckPointStart();
  writeAheadLog.logCheckPointEnd();
  writeAheadLog.close();
  RandomAccessFile mrFile=new RandomAccessFile(new File(writeAheadLog.getWalLocation(),"WriteAheadLogTest.wmr"),"rw");
  mrFile.seek(0);
  int bt=mrFile.read();
  mrFile.seek(0);
  mrFile.write(bt + 1);
  mrFile.close();
  writeAheadLog=createWAL();
  Assert.assertEquals(writeAheadLog.getLastCheckpoint(),checkPointLSN);
}
