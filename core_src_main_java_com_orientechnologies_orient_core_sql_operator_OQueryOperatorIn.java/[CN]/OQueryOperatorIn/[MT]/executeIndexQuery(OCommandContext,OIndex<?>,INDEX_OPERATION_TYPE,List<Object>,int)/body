{
  final OIndexDefinition indexDefinition=index.getDefinition();
  final Object result;
  final OIndexInternal<?> internalIndex=index.getInternal();
  if (!internalIndex.canBeUsedInEqualityOperators())   return null;
  if (indexDefinition.getParamCount() == 1) {
    final Object inKeyValue=keyParams.get(0);
    final List<Object> inParams;
    if (inKeyValue instanceof List<?>)     inParams=(List<Object>)inKeyValue;
 else     if (inKeyValue instanceof OSQLFilterItem)     inParams=(List<Object>)((OSQLFilterItem)inKeyValue).getValue(null,iContext);
 else     throw new IllegalArgumentException("Key '" + inKeyValue + "' is not valid");
    final List<Object> inKeys=new ArrayList<Object>();
    boolean containsNotCompatibleKey=false;
    for (    final Object keyValue : inParams) {
      final Object key=indexDefinition.createValue(OSQLHelper.getValue(keyValue));
      if (key == null) {
        containsNotCompatibleKey=true;
        break;
      }
      inKeys.add(key);
    }
    if (containsNotCompatibleKey)     return null;
    if (INDEX_OPERATION_TYPE.COUNT.equals(iOperationType))     result=index.getValues(inKeys).size();
 else     if (fetchLimit > -1)     result=index.getValues(inKeys,fetchLimit);
 else     result=index.getValues(inKeys);
  }
 else   return null;
  updateProfiler(iContext,internalIndex,keyParams,indexDefinition);
  return result;
}
