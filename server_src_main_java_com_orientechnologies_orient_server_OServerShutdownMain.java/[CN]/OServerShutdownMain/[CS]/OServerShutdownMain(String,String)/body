{
  contextConfig=new OContextConfiguration();
  try {
    String config=OServerConfiguration.DEFAULT_CONFIG_FILE;
    if (System.getProperty(OServerConfiguration.PROPERTY_CONFIG_FILE) != null)     config=System.getProperty(OServerConfiguration.PROPERTY_CONFIG_FILE);
    configurationLoader=new OServerConfigurationLoaderXml(OServerConfiguration.class,config);
    configuration=configurationLoader.load();
    if (configuration.users != null && configuration.users.length > 0) {
      for (      OServerUserConfiguration u : configuration.users) {
        if (u.name.equals(OServerConfiguration.SRV_ROOT_ADMIN)) {
          rootPassword=u.password;
          break;
        }
      }
    }
    if (iServerAddress == null) {
      for (      OServerNetworkListenerConfiguration l : configuration.network.listeners) {
        if (l.protocol.equals("binary")) {
          clusterNetworkAddress=l.ipAddress;
          clusterNetworkPort=OServerNetworkListener.getPorts(l.portRange);
          break;
        }
      }
    }
 else {
      clusterNetworkAddress=iServerAddress;
      clusterNetworkPort=OServerNetworkListener.getPorts(iServerPorts);
    }
  }
 catch (  IOException e) {
    OLogManager.instance().error(this,"Error on reading server configuration.",OConfigurationException.class);
  }
}
