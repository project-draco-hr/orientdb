{
  if (iUnique == unique)   return;
  if (iUnique) {
    List<ORecordId> values;
    for (    Entry<String,List<ORecordId>> entry : map.entrySet()) {
      values=entry.getValue();
      if (values != null && values.size() > 1)       throw new OIndexException("Can't change the index from unique to not-unique since the index contains multiple values with the same key ('" + entry.getKey() + "'). Remove duplicates and try again.");
    }
  }
  unique=iUnique;
}
