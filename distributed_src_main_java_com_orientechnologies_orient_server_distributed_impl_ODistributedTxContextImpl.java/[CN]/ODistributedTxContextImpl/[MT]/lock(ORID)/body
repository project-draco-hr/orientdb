{
  final ODistributedRequestId lockHolder=db.lockRecord(rid,reqId);
  if (lockHolder != null)   throw new ODistributedRecordLockedException(rid,lockHolder);
  acquiredLocks.add(rid);
}
