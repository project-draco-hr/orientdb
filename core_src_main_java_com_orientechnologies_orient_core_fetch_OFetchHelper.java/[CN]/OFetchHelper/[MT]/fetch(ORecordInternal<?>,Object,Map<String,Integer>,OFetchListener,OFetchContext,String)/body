{
  try {
    if (iRootRecord instanceof ORecordSchemaAware<?>) {
      final ORecordSchemaAware<?> record=(ORecordSchemaAware<?>)iRootRecord;
      final Map<ORID,Integer> parsedRecords=new HashMap<ORID,Integer>();
      parsedRecords.put(iRootRecord.getIdentity(),0);
      if (!iFormat.contains("shallow"))       processRecordRidMap(record,iFetchPlan,0,0,-1,parsedRecords,"",iContext);
      processRecord(record,iUserObject,iFetchPlan,0,0,-1,parsedRecords,"",iListener,iContext,iFormat);
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    OLogManager.instance().error(null,"Fetching error on record %s",e,iRootRecord.getIdentity());
  }
}
