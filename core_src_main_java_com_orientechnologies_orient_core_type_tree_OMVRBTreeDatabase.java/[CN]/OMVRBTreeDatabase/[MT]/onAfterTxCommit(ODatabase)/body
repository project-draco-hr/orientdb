{
  final boolean locked=lock.acquireExclusiveLock();
  try {
    if (cache.keySet().size() == 0)     return;
    final Set<ORID> keys=new HashSet<ORID>(cache.keySet());
    OMVRBTreeEntryDatabase<K,V> entry;
    for (    ORID rid : keys) {
      if (rid.getClusterPosition() < -1) {
        entry=(OMVRBTreeEntryDatabase<K,V>)cache.get(rid);
        cache.put(entry.record.getIdentity(),entry);
        cache.remove(rid);
      }
    }
  }
  finally {
    lock.releaseExclusiveLock(locked);
  }
}
