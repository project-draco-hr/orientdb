{
  OPageChanges pageChanges=new OPageChanges();
  pageChanges.addChanges(18,new byte[]{28,29,30,31},new byte[]{18,19,20,21});
  pageChanges.addChanges(15,new byte[]{35,36,37,38},new byte[]{15,16,17,28});
  pageChanges.addChanges(12,new byte[]{0,1,2,3},new byte[]{12,13,14,35});
  ODirectMemoryPointer pointer=new ODirectMemoryPointer(1024 + ODurablePage.PAGE_PADDING);
  pageChanges.applyChanges(pointer);
  Assert.assertEquals(pointer.get(12 + ODurablePage.PAGE_PADDING,10),new byte[]{0,1,2,3,36,37,38,29,30,31});
  pageChanges.revertChanges(pointer);
  Assert.assertEquals(pointer.get(12 + ODurablePage.PAGE_PADDING,10),new byte[]{12,13,14,15,16,17,18,19,20,21});
  pointer.free();
}
