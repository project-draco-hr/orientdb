{
  if (fileNameId.containsKey(fileName))   throw new OStorageException("File with name " + fileName + " already exists.");
  final long fileId=diskCache.bookFileId();
  fileNameId.put(fileName,fileId);
  FileChangesContainer fileChangesContainer=new FileChangesContainer();
  fileChangesContainer.isNew=true;
  filePageChanges.put(fileId,fileChangesContainer);
  return fileId;
}
