{
  SpatialContext ctx=SpatialContext.GEO;
  Object[] points=parseParams(iRecord,iCondition);
  Point p=ctx.makePoint((Double)points[3],(Double)points[2]);
  double docDistDEG=ctx.getDistCalc().distance(p,(Double)points[1],(Double)points[0]);
  double docDistInKM=DistanceUtils.degrees2Dist(docDistDEG,DistanceUtils.EARTH_EQUATORIAL_RADIUS_KM);
  iContext.setVariable("$distance",docDistInKM);
  if (iContext.getVariable("$luceneIndex") != null) {
    return true;
  }
 else {
    return false;
  }
}
