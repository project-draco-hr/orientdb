{
  final ODocument storedRecord=rid.getRecord();
  final ODocument newRecord=new ODocument().fromStream(iRecordContent);
  if (storedRecord.hasSameContentOf(newRecord)) {
    iDatabaseVersion.setCounter(Math.max(iDatabaseVersion.getCounter(),iRecordVersion.getCounter()));
  }
 else {
    if (OFastConcurrentModificationException.enabled())     throw OFastConcurrentModificationException.instance();
 else     throw new OConcurrentModificationException(rid,iDatabaseVersion,iRecordVersion,ORecordOperation.UPDATED);
  }
  return null;
}
