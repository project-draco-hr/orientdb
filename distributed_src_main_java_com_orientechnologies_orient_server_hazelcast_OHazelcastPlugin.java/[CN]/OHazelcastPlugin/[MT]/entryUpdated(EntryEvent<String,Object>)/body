{
  final String key=iEvent.getKey();
  final String eventNodeName=getNodeName(iEvent.getMember());
  final Lock lock=getLock("orientdb.clusterEvents");
  lock.lock();
  try {
    if (key.startsWith(CONFIG_NODE_PREFIX)) {
      ODistributedServerLog.info(this,getLocalNodeName(),eventNodeName,DIRECTION.NONE,"updated node configuration id=%s name=%s",iEvent.getMember(),eventNodeName);
      final ODocument cfg=(ODocument)iEvent.getValue();
      activeNodes.put((String)cfg.field("name"),(Member)iEvent.getMember());
      updateLastClusterChange();
    }
 else     if (key.startsWith(CONFIG_DATABASE_PREFIX)) {
      if (!iEvent.getMember().equals(hazelcastInstance.getCluster().getLocalMember())) {
        final String databaseName=key.substring(CONFIG_DATABASE_PREFIX.length());
        ODistributedServerLog.info(this,getLocalNodeName(),eventNodeName,DIRECTION.NONE,"update configuration db=%s",databaseName);
        checkDatabaseEvent(iEvent,databaseName);
      }
    }
 else     if (key.startsWith(CONFIG_DBSTATUS_PREFIX)) {
      ODistributedServerLog.info(this,getLocalNodeName(),eventNodeName,DIRECTION.IN,"received updated status %s=%s",key.substring(CONFIG_DBSTATUS_PREFIX.length()),iEvent.getValue());
      updateLastClusterChange();
    }
  }
  finally {
    lock.unlock();
  }
}
