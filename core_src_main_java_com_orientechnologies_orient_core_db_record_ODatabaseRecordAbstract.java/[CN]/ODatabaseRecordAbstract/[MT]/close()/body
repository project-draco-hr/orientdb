{
  setCurrentDatabaseinThreadLocal();
  if (status != STATUS.OPEN)   return;
  callOnCloseListeners();
  if (currentIntent != null) {
    currentIntent.end(this);
    currentIntent=null;
  }
  status=STATUS.CLOSED;
  localCache.clear();
  ODatabaseRecordThreadLocal.INSTANCE.remove();
}
