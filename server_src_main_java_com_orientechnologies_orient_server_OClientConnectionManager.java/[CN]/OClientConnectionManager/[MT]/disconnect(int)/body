{
  metricActiveConnections--;
  acquireExclusiveLock();
  try {
    final OClientConnection connection=connections.remove(iChannelId);
    if (connection != null) {
      connection.close();
      for (      Entry<Integer,OClientConnection> entry : connections.entrySet()) {
        if (entry.getValue().getProtocol().equals(connection.getProtocol()))         return false;
      }
      return true;
    }
  }
  finally {
    releaseExclusiveLock();
  }
  return false;
}
