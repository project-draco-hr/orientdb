{
synchronized (this) {
    minChunkSize=(int)Math.pow(2,(int)Math.ceil(Math.log(minChunkSize) / Math.log(2)));
    this.minChunkSize=minChunkSize;
    capacity=(int)Math.floor(capacity / minChunkSize) * minChunkSize + 1;
    maxLevel=(int)(Math.log((double)capacity / minChunkSize) / Math.log(2));
    freeListHeader=new int[maxLevel + 1];
    freeListTail=new int[maxLevel + 1];
    buffer=new byte[capacity];
    initMemory();
  }
}
