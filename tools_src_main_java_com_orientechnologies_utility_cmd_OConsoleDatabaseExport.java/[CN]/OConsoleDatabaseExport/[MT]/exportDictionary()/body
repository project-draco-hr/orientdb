{
  listener.onMessage("\nExporting dictionary...");
  long tot=0;
  writer.beginObject(1,true,"dictionary");
  ODictionary<ODocument> d=database.getDictionary();
  if (d != null) {
    Entry<String,ODocument> entry;
    for (Iterator<Entry<String,ODocument>> iterator=d.iterator(); iterator.hasNext(); ) {
      entry=iterator.next();
      writer.writeAttribute(2,true,"key",entry.getKey());
      writer.writeAttribute(0,false,"value",OJSONWriter.writeValue(entry.getValue()));
      ++tot;
    }
  }
  writer.endObject(1,true);
  listener.onMessage("OK (" + tot + " entries)");
}
