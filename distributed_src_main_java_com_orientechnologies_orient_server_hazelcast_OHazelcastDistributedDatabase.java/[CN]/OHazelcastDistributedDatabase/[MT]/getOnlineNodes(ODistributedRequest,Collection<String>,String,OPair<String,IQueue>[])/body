{
  int onlineNodes;
  if (iRequest.getTask().isRequireNodeOnline()) {
    onlineNodes=0;
    int i=0;
    for (    String node : iNodes) {
      if (reqQueues[i].getValue() != null && manager.isNodeOnline(node,databaseName))       onlineNodes++;
 else {
        if (ODistributedServerLog.isDebugEnabled())         ODistributedServerLog.debug(this,getLocalNodeName(),node,DIRECTION.OUT,"skip expected response from node '%s' for request %s because it's not online (queue=%s)",node,iRequest,reqQueues[i].getValue() != null);
      }
      ++i;
    }
  }
 else {
    onlineNodes=0;
    for (    OPair<String,IQueue> q : reqQueues)     if (q.getValue() != null)     onlineNodes++;
  }
  return onlineNodes;
}
