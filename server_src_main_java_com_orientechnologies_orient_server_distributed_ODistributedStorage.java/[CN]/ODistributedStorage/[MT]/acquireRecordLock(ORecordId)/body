{
  final ODistributedRequestId localReqId=new ODistributedRequestId(dManager.getLocalNodeId(),dManager.getNextMessageIdCounter());
  if (!(getDistributedDatabase().lockRecord(rid,localReqId)))   throw new ODistributedRecordLockedException(rid);
  return localDistributedDatabase;
}
