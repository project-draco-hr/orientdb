{
  final OBinarySerializer<V> valueSerializer=(OBinarySerializer<V>)((OMVRBTreeMapProvider<K,V>)treeDataProvider).valueSerializer;
  if (serializedValues[i] <= 0) {
    PROFILER.updateCounter(PROFILER.getProcessMetric("mvrbtree.entry.serializeValue"),"Serialize a MVRBTree entry value",1);
    valueSerializer.serialize(values[i],newBuffer,offset);
    offset+=valueSerializer.getObjectSize(values[i]);
  }
 else {
    final int size=valueSerializer.getObjectSize(buffer,serializedValues[i]);
    System.arraycopy(buffer,serializedValues[i],newBuffer,offset,size);
    serializedValues[i]=offset;
    offset+=size;
  }
  return offset;
}
