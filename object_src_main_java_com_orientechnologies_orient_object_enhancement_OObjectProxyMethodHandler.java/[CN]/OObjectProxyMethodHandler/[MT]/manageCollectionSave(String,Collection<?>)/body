{
  if (!(value instanceof OLazyObjectMultivalueElement)) {
    if (value instanceof List) {
      List<OIdentifiable> docList=doc.field(iFieldName);
      if (docList == null) {
        docList=new ORecordLazyList(doc);
        doc.field(iFieldName,docList);
      }
      value=new OObjectLazyList(doc,docList,value);
    }
 else     if (value instanceof Set) {
      Set<OIdentifiable> docSet=doc.field(iFieldName,OType.LINKSET);
      if (docSet == null) {
        docSet=new ORecordLazySet(doc);
        doc.field(iFieldName,docSet);
      }
      value=new OObjectLazySet(doc,docSet,(Set<?>)value);
    }
  }
  if (!((ODatabaseObject)ODatabaseRecordThreadLocal.INSTANCE.get().getDatabaseOwner()).isLazyLoading())   ((OLazyObjectMultivalueElement)value).detach();
  return value;
}
