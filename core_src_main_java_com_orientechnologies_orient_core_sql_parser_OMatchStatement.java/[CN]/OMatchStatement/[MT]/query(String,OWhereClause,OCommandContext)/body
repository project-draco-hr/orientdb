{
  final ODatabaseDocument database=getDatabase();
  OClass schemaClass=database.getMetadata().getSchema().getClass(className);
  database.checkSecurity(ORule.ResourceGeneric.CLASS,ORole.PERMISSION_READ,schemaClass.getName().toLowerCase());
  Iterable<ORecord> baseIterable=fetchFromIndex(schemaClass,oWhereClause);
  String text;
  if (oWhereClause == null) {
    text="(select from " + className + ")";
  }
 else {
    text="(select from " + className + " where "+ oWhereClause.toString()+ ")";
  }
  OSQLTarget target=new OSQLTarget(text,ctx,"where");
  return (Iterable)target.getTargetRecords();
}
