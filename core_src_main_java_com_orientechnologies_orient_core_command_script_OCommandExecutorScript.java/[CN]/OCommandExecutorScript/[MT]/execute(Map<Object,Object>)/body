{
  final String language=request.getLanguage();
  parserText=request.getText();
  if (language == null)   throw new OCommandScriptException("No language was specified");
  if (!engines.containsKey(language.toLowerCase()))   throw new OCommandScriptException("Unsupported language: " + language + ". Supported languages are: "+ engines);
  if (parserText == null)   throw new OCommandScriptException("Invalid script: null");
  final ScriptEngine scriptEngine=engines.get(language.toLowerCase());
  if (scriptEngine == null)   throw new OCommandScriptException("Cannot find script engine: " + language);
  final Bindings binding=scriptEngine.createBindings();
  binding.put("db",new OScriptDocumentDatabaseWrapper((ODatabaseRecordTx)getDatabase()));
  binding.put("gdb",new OScriptGraphDatabaseWrapper((ODatabaseRecordTx)getDatabase()));
  if (iArgs != null)   for (  Entry<Object,Object> a : iArgs.entrySet())   binding.put("$" + a.getKey().toString(),a.getValue());
  try {
    Object result=null;
    result=scriptEngine.eval(parserText,binding);
    return result;
  }
 catch (  ScriptException e) {
    throw new OCommandScriptException("Error on execution of the script",request.getText(),e.getColumnNumber());
  }
}
