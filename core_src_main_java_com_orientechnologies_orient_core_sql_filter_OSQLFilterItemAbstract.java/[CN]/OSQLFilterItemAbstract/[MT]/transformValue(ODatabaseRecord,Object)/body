{
  if (ioResult != null && operationsChain != null) {
    int operator=-2;
    try {
      for (      OPair<Integer,List<String>> op : operationsChain) {
        operator=op.key.intValue();
        if (operator == OSQLFilterFieldOperator.SIZE.id)         ioResult=ioResult != null ? OMultiValue.getSize(ioResult) : 0;
 else         if (operator == OSQLFilterFieldOperator.LENGTH.id)         ioResult=ioResult != null ? ioResult.toString().length() : 0;
 else         if (operator == OSQLFilterFieldOperator.TOUPPERCASE.id)         ioResult=ioResult != null ? ioResult.toString().toUpperCase() : 0;
 else         if (operator == OSQLFilterFieldOperator.TOLOWERCASE.id)         ioResult=ioResult != null ? ioResult.toString().toLowerCase() : 0;
 else         if (operator == OSQLFilterFieldOperator.TRIM.id)         ioResult=ioResult != null ? ioResult.toString().trim() : null;
 else         if (operator == OSQLFilterFieldOperator.FIELD.id) {
          if (ioResult != null) {
            if (ioResult instanceof String) {
              try {
                ioResult=new ODocument(iDatabase,new ORecordId((String)ioResult));
              }
 catch (              Exception e) {
                OLogManager.instance().error(this,"Error on reading rid with value '%s'",null,ioResult);
                ioResult=null;
              }
            }
 else             if (ioResult instanceof ORID)             ioResult=new ODocument(iDatabase,(ORID)ioResult);
 else             if (ioResult instanceof ORecord<?>)             ioResult=(ODocument)ioResult;
            if (ioResult != null) {
              if (OMultiValue.isMultiValue(ioResult)) {
                final List<Object> newColl=new ArrayList<Object>();
                for (                Object o : OMultiValue.getMultiValueIterable(ioResult)) {
                  if (o instanceof ODocument)                   try {
                    ODocument doc=(ODocument)o;
                    Object v=doc.rawField(op.value.get(0));
                    if (v != null)                     newColl.add(v);
                  }
 catch (                  ORecordNotFoundException e) {
                    ioResult=null;
                  }
                }
                ioResult=newColl;
              }
 else               if (ioResult instanceof ODocument)               try {
                ODocument doc=(ODocument)ioResult;
                ioResult=ioResult != null ? doc.rawField(op.value.get(0)) : null;
              }
 catch (              ORecordNotFoundException e) {
                ioResult=null;
              }
 else               ioResult=null;
            }
          }
        }
 else         if (operator == OSQLFilterFieldOperator.CHARAT.id) {
          int index=Integer.parseInt(op.value.get(0));
          ioResult=ioResult != null ? ioResult.toString().substring(index,index + 1) : null;
        }
 else         if (operator == OSQLFilterFieldOperator.INDEXOF.id && op.value.get(0).length() > 2) {
          String toFind=op.value.get(0).substring(1,op.value.get(0).length() - 1);
          int startIndex=op.value.size() > 1 ? Integer.parseInt(op.value.get(1)) : 0;
          ioResult=ioResult != null ? ioResult.toString().indexOf(toFind,startIndex) : null;
        }
 else         if (operator == OSQLFilterFieldOperator.SUBSTRING.id) {
          int endIndex=op.value.size() > 1 ? Integer.parseInt(op.value.get(1)) : op.value.get(0).length();
          ioResult=ioResult != null ? ioResult.toString().substring(Integer.parseInt(op.value.get(0)),endIndex) : null;
        }
 else         if (operator == OSQLFilterFieldOperator.APPEND.id) {
          String v=op.value.get(0);
          if (v.charAt(0) == '\'' || v.charAt(0) == '"')           v=v.substring(1,v.length() - 1);
          ioResult=ioResult != null ? ioResult.toString() + v : null;
        }
 else         if (operator == OSQLFilterFieldOperator.PREFIX.id) {
          String v=op.value.get(0);
          if (v.charAt(0) == '\'' || v.charAt(0) == '"')           v=v.substring(1,v.length() - 1);
          ioResult=ioResult != null ? v + ioResult.toString() : null;
        }
 else         if (operator == OSQLFilterFieldOperator.FORMAT.id)         ioResult=ioResult != null ? String.format(op.value.get(0),ioResult) : null;
 else         if (operator == OSQLFilterFieldOperator.LEFT.id) {
          final int len=Integer.parseInt(op.value.get(0));
          ioResult=ioResult != null ? ioResult.toString().substring(0,len <= ioResult.toString().length() ? len : ioResult.toString().length()) : null;
        }
 else         if (operator == OSQLFilterFieldOperator.RIGHT.id) {
          final int offset=Integer.parseInt(op.value.get(0));
          ioResult=ioResult != null ? ioResult.toString().substring(offset <= ioResult.toString().length() - 1 ? offset : ioResult.toString().length() - 1) : null;
        }
 else         if (operator == OSQLFilterFieldOperator.ASSTRING.id)         ioResult=ioResult != null ? ioResult.toString() : null;
 else         if (operator == OSQLFilterFieldOperator.ASINTEGER.id)         ioResult=ioResult != null ? new Integer(ioResult.toString()) : null;
 else         if (operator == OSQLFilterFieldOperator.ASFLOAT.id)         ioResult=ioResult != null ? new Float(ioResult.toString()) : null;
 else         if (operator == OSQLFilterFieldOperator.ASBOOLEAN.id) {
          if (ioResult != null) {
            if (ioResult instanceof String)             ioResult=new Boolean((String)ioResult);
 else             if (ioResult instanceof Number) {
              final int bValue=((Number)ioResult).intValue();
              if (bValue == 0)               ioResult=Boolean.FALSE;
 else               if (bValue == 1)               ioResult=Boolean.TRUE;
 else               ioResult=null;
            }
          }
        }
 else         if (operator == OSQLFilterFieldOperator.ASDATE.id) {
          if (ioResult != null) {
            if (ioResult instanceof Long)             ioResult=new Date((Long)ioResult);
 else             ioResult=iDatabase.getStorage().getConfiguration().getDateFormatInstance().parse(ioResult.toString());
          }
        }
 else         if (operator == OSQLFilterFieldOperator.ASDATETIME.id) {
          if (ioResult != null) {
            if (ioResult instanceof Long)             ioResult=new Date((Long)ioResult);
 else             ioResult=iDatabase.getStorage().getConfiguration().getDateTimeFormatInstance().parse(ioResult.toString());
          }
        }
 else         if (operator == OSQLFilterFieldOperator.TOJSON.id)         ioResult=ioResult != null && ioResult instanceof ODocument ? ((ODocument)ioResult).toJSON() : null;
 else         if (operator == OSQLFilterFieldOperator.KEYS.id)         ioResult=ioResult != null && ioResult instanceof Map<?,?> ? ((Map<?,?>)ioResult).keySet() : null;
 else         if (operator == OSQLFilterFieldOperator.VALUES.id)         ioResult=ioResult != null && ioResult instanceof Map<?,?> ? ((Map<?,?>)ioResult).values() : null;
      }
    }
 catch (    ParseException e) {
      OLogManager.instance().exception("Error on conversion of value '%s' using field operator %s",e,OCommandExecutionException.class,ioResult,OSQLFilterFieldOperator.getById(operator));
    }
  }
  return ioResult;
}
