{
  if (!iContent.getIdentity().isValid()) {
    if (iClusterName == null && iContent.getSchemaClass() != null)     iClusterName=getClusterNameById(iContent.getSchemaClass().getDefaultClusterId());
    int id=getClusterIdByName(iClusterName);
    if (id == -1)     throw new IllegalArgumentException("Cluster name " + iClusterName + " is not configured");
    if (iContent.getSchemaClass() == null)     throw new IllegalArgumentException("Class '" + iClusterName + "' not configured in the record to save");
    int[] clusterIds=iContent.getSchemaClass().getClusterIds();
    int i=0;
    for (; i < clusterIds.length; ++i)     if (clusterIds[i] == id)     break;
    if (id == clusterIds.length)     throw new IllegalArgumentException("Cluster name " + iClusterName + " is not configured to store the class "+ iContent.getClassName());
  }
  iContent.validate();
  super.save(iContent,iClusterName);
  return this;
}
