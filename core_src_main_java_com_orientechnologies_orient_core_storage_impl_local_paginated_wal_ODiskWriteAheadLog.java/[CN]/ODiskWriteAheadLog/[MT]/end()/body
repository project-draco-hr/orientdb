{
  syncObject.lock();
  try {
    checkForClose();
    int lastIndex=logSegments.size() - 1;
    LogSegment last=logSegments.get(lastIndex);
    while (last.filledUpTo == 0) {
      lastIndex--;
      if (lastIndex >= 0)       last=logSegments.get(lastIndex);
 else       return null;
    }
    return last.end();
  }
  finally {
    syncObject.unlock();
  }
}
