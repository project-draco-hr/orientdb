{
  final ODistributedDatabase ddb=iManager.getMessageService().getDatabase(database.getName());
  if (lockRecords) {
    final ODistributedRequestId lockHolder=ddb.lockRecord(rid,requestId);
    if (lockHolder != null)     throw new ODistributedRecordLockedException(rid,lockHolder);
  }
  try {
    return executeRecordTask(requestId,iServer,iManager,database);
  }
  finally {
    if (lockRecords)     ddb.unlockRecord(rid,requestId);
  }
}
