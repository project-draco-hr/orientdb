{
  StringBuilder buffer=new StringBuilder();
  write(buffer,version);
  write(buffer,name);
  write(buffer,dateFormat);
  write(buffer,dateTimeFormat);
  write(buffer,physicalClusters.size());
  for (  OStoragePhysicalClusterConfiguration c : physicalClusters) {
    phySegmentToStream(buffer,c);
    fileToStream(buffer,c.holeFile);
  }
  write(buffer,logicalClusters.size());
  for (  OStorageLogicalClusterConfiguration c : logicalClusters)   logSegmentToStream(buffer,c);
  write(buffer,dataSegments.size());
  for (  OStorageDataConfiguration d : dataSegments) {
    phySegmentToStream(buffer,d);
    fileToStream(buffer,d.holeFile);
  }
  fileToStream(buffer,txSegment);
  write(buffer,txSegment.isSynchRecord());
  write(buffer,txSegment.isSynchTx());
  write(buffer,properties.size());
  for (  OStorageEntryConfiguration e : properties)   entryToStream(buffer,e);
  return buffer.toString().getBytes();
}
