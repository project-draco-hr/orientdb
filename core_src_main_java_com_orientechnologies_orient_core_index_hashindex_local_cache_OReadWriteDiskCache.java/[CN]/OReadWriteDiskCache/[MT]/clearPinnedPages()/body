{
  for (  OCacheEntry pinnedEntry : pinnedPages.values()) {
    if (pinnedEntry.usagesCount == 0) {
      pinnedEntry.dataPointer.decrementReferrer();
      pinnedEntry.dataPointer=null;
    }
 else     throw new OStorageException("Page with index " + pinnedEntry.pageIndex + " for file with id "+ pinnedEntry.fileId+ "can not be freed because it is used.");
  }
  pinnedPages.clear();
}
