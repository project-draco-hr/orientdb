{
  Runtime.getRuntime().runFinalization();
  Runtime.getRuntime().gc();
  final long nowFreeMemory=Runtime.getRuntime().freeMemory();
  final long nowTotalMemory=Runtime.getRuntime().totalMemory();
  final long nowMaxMemory=Runtime.getRuntime().maxMemory();
  final long freeMemory=nowFreeMemory - currentTestFreeMemory;
  final long totalMemory=nowTotalMemory - currentTestTotalMemory;
  final long maxMemory=nowMaxMemory - currentTestMaxMemory;
  if (printResults) {
    System.out.println();
    System.out.println("   Completed the test of '" + currentTestName + "' in "+ elapsed+ " ms. Memory used: "+ freeMemory);
    System.out.println("   Cycles done.........: " + cyclesDone + "/"+ cycles);
    System.out.println("   Cycles Elapsed......: " + cyclesElapsed + " ms");
    System.out.println("   Elapsed.............: " + elapsed + " ms");
    System.out.println("   Medium cycle elapsed: " + (float)elapsed / cyclesDone);
    System.out.println("   Cycles per second...: " + (float)cyclesDone / elapsed * 1000);
    System.out.println("   Free memory diff....: " + freeMemory + " ("+ currentTestFreeMemory+ "->"+ nowFreeMemory+ ")");
    System.out.println("   Total memory diff...: " + totalMemory + " ("+ currentTestTotalMemory+ "->"+ nowTotalMemory+ ")");
    System.out.println("   Max memory diff.....: " + maxMemory + " ("+ currentTestMaxMemory+ "->"+ nowMaxMemory+ ")");
    System.out.println();
  }
  if (testGroup != null) {
    testGroup.setResult("Execution time",currentTestName,elapsed);
    testGroup.setResult("Free memory",currentTestName,freeMemory);
  }
}
