{
  if (database.getTransaction() instanceof OTransactionOptimistic || (maxUpdatesBeforeSave > 0 && ++updates >= maxUpdatesBeforeSave)) {
    lazySave();
    updates=0;
  }
}
