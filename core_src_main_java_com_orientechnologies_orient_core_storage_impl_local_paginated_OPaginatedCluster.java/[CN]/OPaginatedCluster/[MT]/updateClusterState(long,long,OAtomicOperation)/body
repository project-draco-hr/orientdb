{
  final OCacheEntry pinnedStateEntry=loadPage(atomicOperation,fileId,pinnedStateEntryIndex,true,diskCache);
  pinnedStateEntry.acquireExclusiveLock();
  try {
    OPaginatedClusterState paginatedClusterState=new OPaginatedClusterState(pinnedStateEntry,getChangesTree(atomicOperation,pinnedStateEntry));
    paginatedClusterState.setSize(paginatedClusterState.getSize() + sizeDiff);
    paginatedClusterState.setRecordsSize(paginatedClusterState.getRecordsSize() + recordsSizeDiff);
  }
  finally {
    pinnedStateEntry.releaseExclusiveLock();
    releasePage(atomicOperation,pinnedStateEntry,diskCache);
  }
}
