{
  final long timer=OProfiler.getInstance().startChrono();
  lock.acquireExclusiveLock();
  try {
    for (    Entry<? extends K,? extends V> entry : map.entrySet()) {
      internalPut(entry.getKey(),entry.getValue());
    }
    commitChanges(null);
  }
  finally {
    lock.releaseExclusiveLock();
    OProfiler.getInstance().stopChrono("OTreeMapPersistent.putAll",timer);
  }
}
