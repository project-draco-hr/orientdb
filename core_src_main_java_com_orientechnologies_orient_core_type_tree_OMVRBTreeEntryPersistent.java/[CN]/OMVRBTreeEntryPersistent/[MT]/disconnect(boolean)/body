{
  if (!iForceDirty && record.isDirty())   return 0;
  int disconnected=1;
  if (this != tree.getRoot()) {
    keys=null;
    values=null;
    serializedKeys=null;
    serializedValues=null;
    pTree=null;
    record=null;
  }
  if (parent != null) {
    if (parent.left == this) {
      parent.left=null;
    }
 else {
      parent.right=null;
    }
    parent=null;
  }
  if (left != null) {
    left.parent=null;
    disconnected+=left.disconnect(iForceDirty);
    left=null;
  }
  if (right != null) {
    right.parent=null;
    disconnected+=right.disconnect(iForceDirty);
    right=null;
  }
  return disconnected;
}
