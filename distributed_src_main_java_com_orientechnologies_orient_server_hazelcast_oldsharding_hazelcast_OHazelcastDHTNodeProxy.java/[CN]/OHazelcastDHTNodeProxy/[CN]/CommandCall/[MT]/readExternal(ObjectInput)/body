{
  super.readExternal(in);
  storageName=(String)in.readObject();
  final Class<OCommandRequestText> clazz=(Class<OCommandRequestText>)in.readObject();
  final byte[] requestBytes=readBytes(in);
  try {
    request=clazz.newInstance();
  }
 catch (  final Exception e) {
    throw new OCommandExecutionException("Failed to deserialize query",e);
  }
  request.fromStream(requestBytes);
  final long storageId=in.readLong();
  final long selectId=in.readLong();
  if (storageId != -1 && selectId != -1) {
    request.setResultListener(new OHazelcastResultListener(ServerInstance.getHazelcast(),storageId,selectId));
  }
}
