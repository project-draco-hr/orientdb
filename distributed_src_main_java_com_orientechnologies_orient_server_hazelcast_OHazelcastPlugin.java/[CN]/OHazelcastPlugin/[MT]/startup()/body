{
  if (!enabled)   return;
  OLogManager.instance().info(this,"Starting distributed server '%s'...",getLocalNodeName());
  cachedClusterNodes.clear();
  synchronizers.clear();
  try {
    hazelcastInstance=Hazelcast.newHazelcastInstance(new FileSystemXmlConfig(hazelcastConfigFile));
    nodeId=hazelcastInstance.getCluster().getLocalMember().getUuid();
    timeOffset=System.currentTimeMillis() - hazelcastInstance.getCluster().getClusterTime();
    cachedClusterNodes.put(getLocalNodeName(),hazelcastInstance.getCluster().getLocalMember());
    OServer.registerServerInstance(getLocalNodeName(),serverInstance);
    messageService=new OHazelcastDistributedMessageService(this);
  }
 catch (  FileNotFoundException e) {
    throw new OConfigurationException("Error on creating Hazelcast instance",e);
  }
  initDistributedDatabases();
  final IMap<String,Object> configurationMap=getConfigurationMap();
  configurationMap.addEntryListener(this,true);
  setStatus(STATUS.ONLINE);
  configurationMap.putIfAbsent("runId",hazelcastInstance.getCluster().getClusterTime());
  runId=(Long)getConfigurationMap().get("runId");
  registerAndAlignNodes();
  super.startup();
}
