{
  nameIdMap=new ConcurrentHashMap<String,Long>();
  long localFileCounter=-1;
  nameIdMapHolder.seek(0);
  NameFileIdEntry nameFileIdEntry;
  while ((nameFileIdEntry=readNextNameIdEntry()) != null) {
    if (localFileCounter < nameFileIdEntry.fileId)     localFileCounter=nameFileIdEntry.fileId;
    nameIdMap.put(nameFileIdEntry.name,nameFileIdEntry.fileId);
  }
  if (localFileCounter > 0)   fileCounter=localFileCounter;
  for (  Map.Entry<String,Long> nameIdEntry : nameIdMap.entrySet()) {
    if (nameIdEntry.getValue() >= 0 && !files.containsKey(nameIdEntry.getValue())) {
      OFileClassic fileClassic=createFile(nameIdEntry.getKey());
      files.put(nameIdEntry.getValue(),fileClassic);
    }
  }
}
