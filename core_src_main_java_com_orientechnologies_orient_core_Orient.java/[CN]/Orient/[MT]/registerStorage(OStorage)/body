{
  engineLock.readLock().lock();
  try {
    for (    OOrientListener l : browseListeners())     l.onStorageRegistered(storage);
    OStorage oldStorage=storages.putIfAbsent(storage.getName(),storage);
    if (oldStorage != null)     storage=oldStorage;
    return storage;
  }
  finally {
    engineLock.readLock().unlock();
  }
}
