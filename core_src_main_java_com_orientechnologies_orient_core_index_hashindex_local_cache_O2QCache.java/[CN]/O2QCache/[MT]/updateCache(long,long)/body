{
  LRUEntry lruEntry=am.get(fileId,pageIndex);
  if (lruEntry != null) {
    lruEntry=am.putToMRU(fileId,pageIndex,lruEntry.dataPointer,lruEntry.isDirty);
    return lruEntry;
  }
  lruEntry=a1out.get(fileId,pageIndex);
  if (lruEntry != null) {
    removeColdestPageIfNeeded();
    CacheResult cacheResult=cacheFileContent(fileId,pageIndex);
    lruEntry.dataPointer=cacheResult.dataPointer;
    lruEntry.isDirty=cacheResult.isDirty;
    lruEntry=am.putToMRU(fileId,pageIndex,lruEntry.dataPointer,lruEntry.isDirty);
    return lruEntry;
  }
  lruEntry=a1in.get(fileId,pageIndex);
  if (lruEntry != null)   return lruEntry;
  removeColdestPageIfNeeded();
  CacheResult cacheResult=cacheFileContent(fileId,pageIndex);
  lruEntry=a1in.putToMRU(fileId,pageIndex,cacheResult.dataPointer,cacheResult.isDirty);
  filesPages.get(fileId).add(pageIndex);
  return lruEntry;
}
