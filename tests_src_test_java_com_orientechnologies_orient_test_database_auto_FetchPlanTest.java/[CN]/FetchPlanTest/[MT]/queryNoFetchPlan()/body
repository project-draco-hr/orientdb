{
  database.open("admin","admin");
  final long times=Orient.instance().getProfiler().getCounter("Cache.reused");
  database.getLocalCache().clear();
  List<ODocument> resultset=database.query(new OSQLSynchQuery<ODocument>("select * from Profile"));
  Assert.assertEquals(Orient.instance().getProfiler().getCounter("Cache.reused"),times);
  ORID linked;
  for (  ODocument d : resultset) {
    linked=((ORID)d.field("location",ORID.class));
    if (linked != null)     Assert.assertNull(database.getLocalCache().findRecord(linked));
  }
  database.close();
}
