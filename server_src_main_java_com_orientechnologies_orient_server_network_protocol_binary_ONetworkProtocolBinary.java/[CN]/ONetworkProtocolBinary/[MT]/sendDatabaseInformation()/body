{
  final Collection<? extends OCluster> clusters=connection.database.getStorage().getClusterInstances();
  if (connection.data.protocolVersion >= 7)   channel.writeShort((short)clusters.size());
 else   channel.writeInt(clusters.size());
  for (  OCluster c : clusters) {
    if (c != null) {
      channel.writeString(c.getName());
      channel.writeShort((short)c.getId());
      channel.writeString(c.getType());
      if (connection.data.protocolVersion >= 12)       channel.writeShort((short)c.getDataSegmentId());
    }
  }
}
