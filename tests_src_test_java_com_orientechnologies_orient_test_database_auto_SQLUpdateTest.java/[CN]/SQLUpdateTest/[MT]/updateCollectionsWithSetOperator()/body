{
  List<ODocument> docs=database.query(new OSQLSynchQuery<ODocument>("select from Account"));
  List<OClusterPosition> positions=getValidPositions(13);
  for (  ODocument doc : docs) {
    final int records=database.command(new OCommandSQL("update Account set addresses = [#13:" + positions.get(0) + ", #13:"+ positions.get(1)+ ",#13:"+ positions.get(2)+ "] where @rid = "+ doc.getIdentity())).execute();
    Assert.assertEquals(records,1);
    ODocument loadedDoc=database.load(doc.getIdentity(),"*:-1",true);
    Assert.assertEquals(((List<?>)loadedDoc.field("addresses")).size(),3);
    Assert.assertEquals(((OIdentifiable)((List<?>)loadedDoc.field("addresses")).get(0)).getIdentity().toString(),"#13:" + positions.get(0));
    loadedDoc.field("addresses",doc.field("addresses"));
    database.save(loadedDoc);
  }
}
