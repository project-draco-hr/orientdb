{
  if (parent != null && !parentRid.isValid()) {
    if (parent.record.getIdentity().isNew())     ((OTreeMapEntryDatabase<K,V>)parent).save();
    parentRid=parent.record.getIdentity();
    record.setDirty();
  }
  if (left != null && !leftRid.isValid()) {
    if (left.record.getIdentity().isNew())     ((OTreeMapEntryDatabase<K,V>)left).save();
    leftRid=left.record.getIdentity();
    record.setDirty();
  }
  if (right != null && !rightRid.isValid()) {
    if (right.record.getIdentity().isNew())     ((OTreeMapEntryDatabase<K,V>)right).save();
    rightRid=right.record.getIdentity();
    record.setDirty();
  }
  if (record.isDirty()) {
    final boolean isNew=record.getIdentity().isNew();
    toStream();
    record.save(pTree.getClusterName());
    if (isNew) {
      if (left != null)       left.parentRid=record.getIdentity();
      if (right != null)       right.parentRid=record.getIdentity();
      if (parent != null) {
        if (parent.left == this)         parent.leftRid=record.getIdentity();
 else         if (parent.right == this)         parent.rightRid=record.getIdentity();
      }
    }
  }
  return true;
}
