{
  for (  OCacheEntry pinnedEntry : pinnedPages.values()) {
    if (pinnedEntry.getUsagesCount() == 0) {
      final OCachePointer cachePointer=pinnedEntry.getCachePointer();
      cachePointer.decrementReadersReferrer();
      pinnedEntry.clearCachePointer();
    }
 else     throw new OStorageException("Page with index " + pinnedEntry.getPageIndex() + " for file with id "+ pinnedEntry.getFileId()+ "cannot be freed because it is used.");
  }
  pinnedPages.clear();
}
