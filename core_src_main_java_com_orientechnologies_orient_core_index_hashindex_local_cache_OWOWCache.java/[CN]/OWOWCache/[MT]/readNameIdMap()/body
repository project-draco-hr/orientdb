{
  nameIdMap=new HashMap<String,Long>();
  long localFileCounter=-1;
  nameIdMapHolder.seek(0);
  NameFileIdEntry nameFileIdEntry;
  while ((nameFileIdEntry=readNextNameIdEntry()) != null) {
    if (localFileCounter < nameFileIdEntry.fileId)     localFileCounter=nameFileIdEntry.fileId;
    if (nameFileIdEntry.fileId >= 0)     nameIdMap.put(nameFileIdEntry.name,nameFileIdEntry.fileId);
 else     nameIdMap.remove(nameFileIdEntry.name);
  }
  if (localFileCounter > 0)   fileCounter=localFileCounter;
  for (  Map.Entry<String,Long> nameIdEntry : nameIdMap.entrySet()) {
    if (!files.containsKey(nameIdEntry.getValue())) {
      OFileClassic fileClassic=createFile(nameIdEntry.getKey());
      files.put(nameIdEntry.getValue(),fileClassic);
    }
  }
}
