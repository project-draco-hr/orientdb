{
  setDataCommandInfo("Replication command");
  final String action=channel.readString();
  final String dbName=channel.readString();
  final String remoteServer=channel.readString();
  final ODistributedServerManager manager=OServerMain.server().getHandler(ODistributedServerManager.class);
  final ODistributedNode node=manager.getReplicator().getOrCreateDistributedNode(remoteServer);
  final ODistributedDatabaseInfo db=node.getOrCreateDatabaseEntry(dbName);
  if (action.equals("start")) {
    checkServerAccess("server.replication.start");
    node.startDatabaseReplication(db);
  }
 else   if (action.equals("stop")) {
    checkServerAccess("server.replication.stop");
    node.stopDatabaseReplication(db);
  }
  beginResponse();
  try {
    sendOk(clientTxId);
  }
  finally {
    endResponse();
  }
}
