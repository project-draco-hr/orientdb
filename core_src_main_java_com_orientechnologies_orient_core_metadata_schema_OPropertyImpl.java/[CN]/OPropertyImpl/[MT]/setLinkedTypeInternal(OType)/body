{
  getDatabase().checkSecurity(ODatabaseSecurityResources.SCHEMA,ORole.PERMISSION_UPDATE);
  acquireSchemaWriteLock();
  try {
    checkEmbedded();
    if (type == OType.EMBEDDEDSET || type == OType.EMBEDDEDLIST || type == OType.EMBEDDEDMAP)     this.linkedType=iLinkedType;
 else     throw new OSchemaException("Linked type is not supported for type: " + type);
  }
  finally {
    releaseSchemaWriteLock();
  }
}
