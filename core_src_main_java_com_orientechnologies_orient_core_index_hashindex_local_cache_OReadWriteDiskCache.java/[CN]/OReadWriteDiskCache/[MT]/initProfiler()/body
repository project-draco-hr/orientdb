{
  if (storageName != null) {
    final OProfilerMBean profiler=Orient.instance().getProfiler();
    METRIC_HITS=profiler.getDatabaseMetric(storageName,"diskCache.hits");
    METRIC_HITS_METADATA=profiler.getDatabaseMetric(null,"diskCache.hits");
    METRIC_MISSED=profiler.getDatabaseMetric(storageName,"diskCache.missed");
    METRIC_MISSED_METADATA=profiler.getDatabaseMetric(null,"diskCache.missed");
    profiler.registerHookValue(profiler.getDatabaseMetric(storageName,"diskCache.totalMemory"),"Total memory used by Disk Cache",METRIC_TYPE.SIZE,new OProfilerHookValue(){
      @Override public Object getValue(){
        return (am.size() + a1in.size()) * pageSize;
      }
    }
,profiler.getDatabaseMetric(null,"diskCache.totalMemory"));
    profiler.registerHookValue(profiler.getDatabaseMetric(storageName,"diskCache.maxMemory"),"Maximum memory used by Disk Cache",METRIC_TYPE.SIZE,new OProfilerHookValue(){
      @Override public Object getValue(){
        return maxSize * pageSize;
      }
    }
,profiler.getDatabaseMetric(null,"diskCache.maxMemory"));
  }
}
