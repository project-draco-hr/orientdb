{
  final File pluginsDirectory=new File("plugins/");
  if (!pluginsDirectory.exists())   pluginsDirectory.mkdirs();
  final File[] plugins=pluginsDirectory.listFiles();
  final Map<String,OServerPluginInfo> currentDynamicPlugins=new HashMap<String,OServerPluginInfo>();
  for (  Entry<String,OServerPluginInfo> entry : activePlugins.entrySet()) {
    if (entry.getValue().isDynamic())     currentDynamicPlugins.put(entry.getKey(),entry.getValue());
  }
  for (  File extension : plugins) {
    final String pluginName=updatePlugin(extension);
    if (pluginName != null)     currentDynamicPlugins.remove(pluginName);
  }
  for (  Entry<String,OServerPluginInfo> entry : currentDynamicPlugins.entrySet())   uninstallPlugin(entry.getKey());
}
