{
  acquireExclusiveLock();
  try {
    logger.log(this,Level.FINE,TYPE.REPLICATION,DIRECTION.NONE,"Journaled operation #%d as %s against record %s",iSerial,ORecordOperation.getName(iOperation),iRID);
    int offset=file.allocateSpace(RECORD_SIZE);
    file.writeLong(offset,iSerial);
    offset+=OBinaryProtocol.SIZE_LONG;
    file.writeByte(offset,iOperation);
    offset+=OBinaryProtocol.SIZE_BYTE;
    file.writeShort(offset,(short)iRID.clusterId);
    offset+=OBinaryProtocol.SIZE_SHORT;
    file.writeLong(offset,iRID.clusterPosition);
    offset+=OBinaryProtocol.SIZE_LONG;
    if (synchEnabled)     file.synch();
  }
  finally {
    releaseExclusiveLock();
  }
}
