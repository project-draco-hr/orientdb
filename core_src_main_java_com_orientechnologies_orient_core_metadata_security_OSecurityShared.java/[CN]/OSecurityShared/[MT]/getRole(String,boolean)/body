{
  if (cachedRoles != null) {
    final ORole role=cachedRoles.get(iRoleName);
    if (role != null)     return role;
  }
  List<ODocument> result;
  try {
    result=getDatabase().<OCommandRequest>command(new OSQLSynchQuery<ODocument>("select from ORole where name = '" + iRoleName + "' limit 1")).execute();
    if (iRoleName.equalsIgnoreCase("admin") && result.isEmpty()) {
      if (iAllowRepair)       repair();
      result=getDatabase().<OCommandRequest>command(new OSQLSynchQuery<ODocument>("select from ORole where name = '" + iRoleName + "' limit 1")).execute();
    }
  }
 catch (  Exception e) {
    if (iAllowRepair)     repair();
    result=getDatabase().<OCommandRequest>command(new OSQLSynchQuery<ODocument>("select from ORole where name = '" + iRoleName + "' limit 1").setFetchPlan("roles:1")).execute();
  }
  if (result != null && !result.isEmpty())   return cacheRole(new ORole(result.get(0)));
  return null;
}
