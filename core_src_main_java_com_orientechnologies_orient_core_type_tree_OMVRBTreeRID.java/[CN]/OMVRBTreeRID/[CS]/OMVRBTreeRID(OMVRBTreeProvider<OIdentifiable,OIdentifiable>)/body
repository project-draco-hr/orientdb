{
  super(iProvider);
  ((OMVRBTreeRIDProvider)dataProvider).setTree(this);
  watchDog=new Listener(){
    public void memoryUsageLow(    final long iFreeMemory,    final long iFreeMemoryPercentage){
      setOptimization(iFreeMemoryPercentage < 10 ? 2 : 1);
    }
  }
;
  Orient.instance().getMemoryWatchDog().addListener(watchDog);
}
