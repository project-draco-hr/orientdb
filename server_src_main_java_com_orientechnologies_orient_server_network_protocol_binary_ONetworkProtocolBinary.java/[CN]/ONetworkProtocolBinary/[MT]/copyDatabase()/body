{
  setDataCommandInfo("Copy the database to a remote server");
  final String dbUrl=channel.readString();
  final String dbUser=channel.readString();
  final String dbPassword=channel.readString();
  final String remoteServerName=channel.readString();
  final String remoteServerEngine=channel.readString();
  checkServerAccess("database.copy");
  openDatabase(ODatabaseDocument.TYPE,dbUrl,dbUser,dbPassword);
  final ODistributedServerManager manager=OServerMain.server().getHandler(ODistributedServerManager.class);
  final ODistributedNode node=manager.getReplicator().getOrCreateDistributedNode(remoteServerName);
  node.copyDatabase(connection.database,remoteServerEngine,manager.getReplicator().getReplicatorUser().name,manager.getReplicator().getReplicatorUser().password);
  beginResponse();
  try {
    sendOk(clientTxId);
  }
  finally {
    endResponse();
  }
}
