{
  OIndexCursor cursor;
  Object key;
  key=keyParams.get(0);
  Object indexParam=key;
  if (key instanceof Map) {
    ((Map)key).put(SpatialQueryBuilderAbstract.GEO_FILTER,SpatialQueryBuilderOverlap.NAME);
  }
 else   if (key instanceof ODocument) {
    Map<String,Object> newKey=new HashMap<String,Object>();
    newKey.put(SpatialQueryBuilderAbstract.GEO_FILTER,SpatialQueryBuilderOverlap.NAME);
    newKey.put("shape",key);
    indexParam=newKey;
  }
  Object indexResult=index.get(indexParam);
  if (indexResult == null || indexResult instanceof OIdentifiable)   cursor=new OIndexCursorSingleValue((OIdentifiable)indexResult,new OSpatialCompositeKey(keyParams));
 else   cursor=new OIndexCursorCollectionValue(((Collection<OIdentifiable>)indexResult).iterator(),new OSpatialCompositeKey(keyParams));
  return cursor;
}
