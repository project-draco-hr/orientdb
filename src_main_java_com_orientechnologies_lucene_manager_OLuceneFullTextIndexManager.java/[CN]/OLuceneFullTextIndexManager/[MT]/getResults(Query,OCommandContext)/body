{
  try {
    IndexSearcher searcher=getSearcher();
    QueryContext queryContext=new QueryContext(context,searcher,query);
    if (supportsFacets()) {
      queryContext.setFacet(true);
      queryContext.setReader(new DirectoryTaxonomyReader(getTaxDirectory(getDatabase())));
    }
    return new LuceneResultSet(this,queryContext);
  }
 catch (  IOException e) {
    throw new OIndexException("Error reading from Lucene index",e);
  }
}
