{
  setDataCommandInfo("SB-Tree bonsai get values major");
  OBonsaiCollectionPointer collectionPointer=OCollectionNetworkSerializer.INSTANCE.readCollectionPointer(channel);
  byte[] keyStream=channel.readBytes();
  boolean inclusive=channel.readBoolean();
  OSBTreeBonsai<OIdentifiable,Integer> tree=connection.database.getSbTreeCollectionManager().loadSBTree(collectionPointer);
  final OBinarySerializer<OIdentifiable> keySerializer=tree.getKeySerializer();
  OIdentifiable key=keySerializer.deserialize(keyStream,0);
  final OBinarySerializer<Integer> valueSerializer=tree.getValueSerializer();
  OTreeInternal.AccumulativeListener<OIdentifiable,Integer> listener=new OTreeInternal.AccumulativeListener<OIdentifiable,Integer>(5);
  tree.loadEntriesMajor(key,inclusive,listener);
  List<Entry<OIdentifiable,Integer>> result=listener.getResult();
  byte[] stream=serializeSBTreeEntryCollection(result,keySerializer,valueSerializer);
  beginResponse();
  try {
    sendOk(clientTxId);
    channel.writeBytes(stream);
  }
  finally {
    endResponse();
  }
}
