{
  long timer=OProfiler.getInstance().startChrono();
  Class<?> c=iPojo.getClass();
  List<Field> properties=classes.get(c.getName());
  if (properties == null)   properties=registerClass(c);
  String fieldName;
  Object fieldValue;
  Class<?> fieldClass;
  for (  Field p : properties) {
    fieldName=p.getName();
    fieldValue=iRecord.field(fieldName);
    if (fieldValue instanceof ODocument && !OType.isSimpleType(p.getClass())) {
      fieldClass=iEntityManager.getEntityClass(p.getType().getSimpleName());
      if (fieldClass != null) {
        fieldValue=iObj2RecHandler.getUserObjectByRecord((ORecord<?>)fieldValue);
      }
    }
 else     if (p.getType().isAssignableFrom(List.class)) {
      Collection<? extends ODocument> list=(Collection<? extends ODocument>)fieldValue;
      List<Object> targetList=new OLazyList<Object>((ODatabaseObjectTx)iRecord.getDatabase().getDatabaseOwner());
      fieldValue=targetList;
      if (list != null && list.size() > 0) {
        targetList.addAll(list);
      }
    }
 else     if (p.getType().isAssignableFrom(Set.class)) {
      Collection<? extends ODocument> set=(Collection<? extends ODocument>)fieldValue;
      HashSet<Object> target=new HashSet<Object>();
      fieldValue=target;
      if (set != null && set.size() > 0) {
        ODatabaseObjectTx database=(ODatabaseObjectTx)iRecord.getDatabase().getDatabaseOwner();
        for (        ODocument item : set) {
          Object pojo=database.getUserObjectByRecord(item);
          target.add(pojo);
        }
      }
    }
 else {
      OType type=OType.getTypeByClass(p.getType());
      if (type != null)       fieldValue=OStringSerializerHelper.fieldTypeFromStream(type,fieldValue);
    }
    setFieldValue(iPojo,fieldName,fieldValue);
  }
  OProfiler.getInstance().stopChrono("Object.fromStream",timer);
  return iPojo;
}
