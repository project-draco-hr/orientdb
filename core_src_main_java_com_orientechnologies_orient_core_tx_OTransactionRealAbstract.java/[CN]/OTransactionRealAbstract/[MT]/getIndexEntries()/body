{
  final StringBuilder value=new StringBuilder();
  final ODocument doc=new ODocument();
  for (  Entry<String,List<OTransactionIndexEntry>> indexEntry : indexEntries.entrySet()) {
    final List<ODocument> indexDocs=new ArrayList<ODocument>();
    doc.field(indexEntry.getKey(),indexDocs);
    for (    OTransactionIndexEntry entry : indexEntry.getValue()) {
      final ODocument indexDoc=new ODocument();
      indexDoc.field("s",entry.status.ordinal());
      value.setLength(0);
      ORecordSerializerStringAbstract.fieldTypeToString(value,null,OType.getTypeByClass(entry.key.getClass()),entry.key);
      indexDoc.field("k",value.toString());
      if (entry.value != null) {
        value.setLength(0);
        ORecordSerializerStringAbstract.fieldTypeToString(value,null,OType.getTypeByClass(entry.value.getClass()),entry.value);
        indexDoc.field("v",value.toString());
      }
      indexDocs.add(indexDoc);
    }
  }
  return doc;
}
