{
  if (map == null)   return;
  acquireExclusiveLock();
  try {
    OLogManager.instance().debug(this,"Forcing " + (iHardMode ? "hard" : "soft") + " optimization of Index %s (%d items). Found %d entries in memory...",name,map.size(),map.getNumberOfNodesInCache());
    map.setOptimization(iHardMode ? 2 : 1);
    final int freed=map.optimize(iHardMode);
    OLogManager.instance().debug(this,"Completed! Freed %d entries and now %d entries reside in memory",freed,map.getNumberOfNodesInCache());
  }
  finally {
    releaseExclusiveLock();
  }
}
