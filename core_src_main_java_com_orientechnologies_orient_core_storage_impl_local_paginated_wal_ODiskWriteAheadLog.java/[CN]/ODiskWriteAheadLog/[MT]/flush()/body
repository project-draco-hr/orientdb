{
synchronized (syncObject) {
    checkForClose();
    LogSegment last=logSegments.get(logSegments.size() - 1);
    last.flush();
  }
}
