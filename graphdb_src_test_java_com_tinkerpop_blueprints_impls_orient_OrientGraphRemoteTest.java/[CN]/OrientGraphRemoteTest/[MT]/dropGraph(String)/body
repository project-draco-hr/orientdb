{
  try {
    if (currentGraph != null) {
      if (!currentGraph.isClosed())       currentGraph.shutdown();
      for (      OrientGraphFactory factory : graphFactories.values())       factory.close();
      graphFactories.clear();
      final OServerAdmin serverAdmin=new OServerAdmin("remote:localhost:3080/" + graphDirectoryName);
      serverAdmin.connect("root","root");
      if (serverAdmin.existsDatabase("plocal"))       serverAdmin.dropDatabase("plocal");
      serverAdmin.close();
    }
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
}
