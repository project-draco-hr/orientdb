{
  if (server != null) {
    databaseDocumentTx.close();
    try {
      Future<Boolean> iServer=pool.submit(new Callable<Boolean>(){
        @Override public Boolean call() throws Exception {
          server.shutdown();
          server=OServerMain.create();
          server.startup(ClassLoader.getSystemResourceAsStream("orientdb-server-config.xml"));
          server.activate();
          return true;
        }
      }
);
      iServer.get();
      url="remote:localhost/" + getDatabaseName();
      databaseDocumentTx=new ODatabaseDocumentTx(url);
      databaseDocumentTx.open("admin","admin");
      ODatabaseRecordThreadLocal.INSTANCE.set((com.orientechnologies.orient.core.db.record.ODatabaseRecordInternal)databaseDocumentTx);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
}
