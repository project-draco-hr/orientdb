{
  LRUList lruList=new HashLRUList();
  OCachePointer[] cachePointers=new OCachePointer[9128];
  for (int i=0; i < 9128; i++) {
    ODirectMemoryPointer directMemoryPointer=new ODirectMemoryPointer(1);
    cachePointers[i]=new OCachePointer(directMemoryPointer,new OLogSequenceNumber(0,0));
    lruList.putToMRU(new OCacheEntry(1,i * 10,cachePointers[i],false));
  }
  for (int i=4564; i < 9128; i++)   Assert.assertEquals(lruList.remove(1,i * 10),new OCacheEntry(1,i * 10,cachePointers[i],false));
  Assert.assertEquals(lruList.size(),4564);
  Iterator<OCacheEntry> entryIterator=lruList.iterator();
  for (int i=4563; i >= 0; i--) {
    Assert.assertTrue(entryIterator.hasNext());
    Assert.assertEquals(entryIterator.next(),new OCacheEntry(1,i * 10,cachePointers[i],false));
  }
  for (  OCachePointer cachePointer : cachePointers)   cachePointer.getDataPointer().free();
}
