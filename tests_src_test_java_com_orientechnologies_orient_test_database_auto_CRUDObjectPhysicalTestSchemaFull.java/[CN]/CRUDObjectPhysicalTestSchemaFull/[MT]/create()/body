{
  database=OObjectDatabasePool.global().acquire(url,"admin","admin");
  database.command(new OCommandSQL("delete from Account")).execute();
  database.command(new OCommandSQL("delete from Address")).execute();
  database.command(new OCommandSQL("delete from City")).execute();
  database.command(new OCommandSQL("delete from Country")).execute();
  database.command(new OCommandSQL("delete from Profile")).execute();
  database.command(new OCommandSQL("delete from Child")).execute();
  database.command(new OCommandSQL("delete from Company")).execute();
  database.command(new OCommandSQL("delete from IdentityChild")).execute();
  database.command(new OCommandSQL("delete from Agenda")).execute();
  database.command(new OCommandSQL("delete from Animal")).execute();
  database.command(new OCommandSQL("delete from ComplicatedPerson")).execute();
  database.command(new OCommandSQL("delete from CustomMethodFilterTestClass")).execute();
  database.command(new OCommandSQL("delete from EmbeddedChild")).execute();
  database.command(new OCommandSQL("delete from Event")).execute();
  database.command(new OCommandSQL("delete from IdObject")).execute();
  database.command(new OCommandSQL("delete from Instrument")).execute();
  database.command(new OCommandSQL("delete from JavaAttachDetachTestClass")).execute();
  database.command(new OCommandSQL("delete from JavaCascadeDeleteTestClass")).execute();
  database.command(new OCommandSQL("delete from JavaComplexTestClass")).execute();
  database.command(new OCommandSQL("delete from JavaSimpleArraysTestClass")).execute();
  database.command(new OCommandSQL("delete from JavaSimpleTestClass")).execute();
  database.command(new OCommandSQL("delete from JavaTestInterface")).execute();
  database.command(new OCommandSQL("delete from Musician")).execute();
  database.command(new OCommandSQL("delete from Parent")).execute();
  database.command(new OCommandSQL("delete from PersonTest")).execute();
  database.command(new OCommandSQL("delete from Planet")).execute();
  database.command(new OCommandSQL("delete from Satellite")).execute();
  database.command(new OCommandSQL("delete from SimplePerson")).execute();
  database.close();
  database=OObjectDatabasePool.global().acquire(url,"admin","admin");
  database.setAutomaticSchemaGeneration(true);
  try {
    database.getEntityManager().registerEntityClasses("com.orientechnologies.orient.test.domain.business");
    database.getEntityManager().registerEntityClasses("com.orientechnologies.orient.test.domain.base");
    database.setAutomaticSchemaGeneration(false);
    database.getEntityManager().registerEntityClasses("com.orientechnologies.orient.test.domain.whiz");
    startRecordNumber=database.countClusterElements("Account");
    Account account;
    for (long i=startRecordNumber; i < startRecordNumber + TOT_RECORDS; ++i) {
      account=new Account((int)i,"Bill","Gates");
      account.setBirthDate(new Date());
      account.setSalary(i + 300.10f);
      account.getAddresses().add(new Address("Residence",rome,"Piazza Navona, 1"));
      database.save(account);
    }
  }
  finally {
    database.close();
  }
}
