{
  if (!record.isDirty())   return;
  final boolean isNew=record.getIdentity().isNew();
  if (record.isDirty())   record.save(pTree.getClusterName());
  if (isNew) {
    final ORecordId rid=(ORecordId)record.getIdentity();
    if (left != null)     left.parentRid=rid;
    if (right != null)     right.parentRid=rid;
    if (parent != null) {
      parentRid=parent.record.getIdentity();
      if (parent.left == this)       parent.leftRid=rid;
 else       if (parent.right == this)       parent.rightRid=rid;
    }
  }
}
