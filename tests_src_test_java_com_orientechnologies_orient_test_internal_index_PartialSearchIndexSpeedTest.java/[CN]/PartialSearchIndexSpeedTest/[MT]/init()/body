{
  if (!database.exists()) {
    database.create();
    final OSchema schema=database.getMetadata().getSchema();
    final OClass testClass=schema.createClass("IndexTest");
    testClass.createProperty("f1",OType.INTEGER);
    testClass.createProperty("f2",OType.INTEGER);
    testClass.createIndex("testIndex",OClass.INDEX_TYPE.UNIQUE,"f1","f2");
    schema.save();
    final ODocument document=new ODocument();
    for (int i=0; i < 10; i++) {
      for (int j=0; j < 500000; j++) {
        document.reset();
        document.setClassName("IndexTest");
        document.field("f1",i);
        document.field("f2",j);
        document.save();
      }
    }
  }
 else {
    database.open("admin","admin");
  }
}
