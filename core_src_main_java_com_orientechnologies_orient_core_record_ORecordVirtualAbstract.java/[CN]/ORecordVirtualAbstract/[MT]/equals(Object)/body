{
  if (!super.equals(obj))   return false;
  if (!recordId.isValid()) {
    final ORecordVirtualAbstract other=(ORecordVirtualAbstract)obj;
    if (fieldValues == null || other.fieldValues == null)     return false;
    if (fieldValues.size() != other.fieldValues.size())     return false;
    String k;
    Object v;
    Object otherV;
    for (    Entry<String,T> field : fieldValues.entrySet()) {
      k=field.getKey();
      if (k != null && !other.containsField(k))       return false;
      v=fieldValues.get(k);
      otherV=other.fieldValues.get(k);
      if (v == null && otherV == null)       continue;
      if (v == null && otherV != null || otherV == null && v != null)       return false;
      if (!v.equals(otherV))       return false;
    }
  }
  return true;
}
