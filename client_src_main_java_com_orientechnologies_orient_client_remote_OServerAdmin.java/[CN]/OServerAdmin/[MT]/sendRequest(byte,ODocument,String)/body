{
  boolean retry=true;
  while (retry) {
    OChannelBinaryAsynchClient network=null;
    try {
      network=storage.beginRequest(iRequest);
      try {
        network.writeBytes(iPayLoad.toStream());
      }
  finally {
        storage.endRequest(network);
      }
      retry=false;
      try {
        storage.beginResponse(network);
        return new ODocument(network.readBytes());
      }
  finally {
        storage.endResponse(network);
      }
    }
 catch (    OModificationOperationProhibitedException ompe) {
      retry=handleDBFreeze();
    }
catch (    IOException e) {
      storage.getEngine().getConnectionManager().remove(network);
      throw new OStorageException("Error on executing  '" + iActivity + "'",e);
    }
catch (    Exception e2) {
      if (network != null)       storage.getEngine().getConnectionManager().release(network);
      throw new OStorageException("Error on executing  '" + iActivity + "'",e2);
    }
  }
  return null;
}
