{
  checkForDatabase();
  final String dbName=currentDatabase.getName();
  if (currentDatabase.getURL().startsWith(OEngineRemote.NAME)) {
    if (serverAdmin == null) {
      message("\n\nCannot freeze a remote database without connecting to the server with a valid server's user");
      return;
    }
    if (storageType == null)     storageType="plocal";
    new OServerAdmin(currentDatabase.getURL()).connect(currentDatabaseUserName,currentDatabaseUserPassword).freezeDatabase(storageType);
  }
 else {
    currentDatabase.freeze();
  }
  message("\n\nDatabase '" + dbName + "' was frozen successfully");
}
