{
  if (iLeft instanceof ORecord<?> && iRight instanceof ORID)   return ((ORecord<?>)iLeft).getIdentity().equals(iRight);
 else   if (iRight instanceof ORecord<?> && iLeft instanceof ORID)   return ((ORecord<?>)iRight).getIdentity().equals(iLeft);
 else   if (iRight instanceof ODocument) {
    final ODocument r=(ODocument)iRight;
    if (!r.getIdentity().isValid() && r.fields() == 1) {
      Object field=r.field(r.fieldNames()[0]);
      return iLeft.equals(field);
    }
  }
 else   if (iLeft instanceof ODocument) {
    final ODocument r=(ODocument)iLeft;
    if (!r.getIdentity().isValid() && r.fields() == 1) {
      Object field=r.field(r.fieldNames()[0]);
      return iRight.equals(field);
    }
  }
  final Object right=OType.convert(iRight,iLeft.getClass());
  if (right == null)   return false;
  return iLeft.equals(right);
}
