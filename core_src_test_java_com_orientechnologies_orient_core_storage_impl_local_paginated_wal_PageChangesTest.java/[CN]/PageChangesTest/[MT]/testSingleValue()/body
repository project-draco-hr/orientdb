{
  OPageChanges pageChanges=new OPageChanges();
  pageChanges.addChanges(10,new byte[]{0,1,2,3},new byte[]{3,2,1,0});
  ODirectMemory directMemory=ODirectMemoryFactory.INSTANCE.directMemory();
  long pointer=directMemory.allocate(20);
  pageChanges.applyChanges(pointer);
  Assert.assertEquals(directMemory.get(pointer + 10,4),new byte[]{0,1,2,3});
  pageChanges.revertChanges(pointer);
  Assert.assertEquals(directMemory.get(pointer + 10,4),new byte[]{3,2,1,0});
  directMemory.free(pointer);
}
