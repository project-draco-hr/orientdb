{
  if (!iDatabase.getMetadata().getSchema().existsClass(OFullTextIndexManager.class.getSimpleName())) {
    OClass cls=iDatabase.getMetadata().getSchema().createClass(OFullTextIndexManager.class.getSimpleName());
    cls.createProperty("indexes",OType.EMBEDDEDMAP);
    iDatabase.getMetadata().getSchema().save();
  }
  persistentIndexes=iDatabase.getDictionary().get(DICTIONARY_NAME);
  if (persistentIndexes == null) {
    persistentIndexes=new ODocument(iDatabase,OFullTextIndexManager.class.getSimpleName());
    persistentIndexes.field("indexes",new HashMap<String,ODocument>());
    iDatabase.getDictionary().put(DICTIONARY_NAME,persistentIndexes);
  }
 else {
    persistentIndexes.load();
    for (    Entry<String,ODocument> entry : ((HashMap<String,ODocument>)persistentIndexes.field("indexes")).entrySet()) {
      memoryIndexes.put(entry.getKey(),new OFullTextIndex(iDatabase,entry.getKey(),entry.getValue()));
    }
  }
}
