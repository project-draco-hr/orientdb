{
  OrientDataSource ds=new OrientDataSource();
  ds.setUrl("jdbc:orient:memory:test");
  ds.setUsername("admin");
  ds.setPassword("admin");
  Properties info=new Properties();
  info.setProperty("db.usePool","TRUE");
  info.setProperty("db.pool.min","1");
  info.setProperty("db.pool.max","1");
  OrientJdbcConnection conn=(OrientJdbcConnection)ds.getConnection(info);
  assertThat(conn,is(notNullValue()));
  OrientJdbcConnection conn2=(OrientJdbcConnection)ds.getConnection(info);
  assertThat(conn2,is(notNullValue()));
  conn.getDatabase();
  assertThat(conn.getDatabase(),is(sameInstance(conn2.getDatabase())));
  conn.close();
  assertThat(conn.isClosed(),is(true));
  conn2.close();
  assertThat(conn2.isClosed(),is(true));
}
