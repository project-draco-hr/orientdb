{
  if (previousCheckpoint == null) {
    content[offset]=0;
    offset++;
    return offset;
  }
  content[offset]=1;
  offset++;
  OIntegerSerializer.INSTANCE.serializeNative(previousCheckpoint.getSegment(),content,offset);
  offset+=OIntegerSerializer.INT_SIZE;
  OLongSerializer.INSTANCE.serializeNative(previousCheckpoint.getPosition(),content,offset);
  offset+=OLongSerializer.LONG_SIZE;
  return offset;
}
