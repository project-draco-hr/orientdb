{
  StringBuilder result=new StringBuilder();
  result.append("UPDATE ");
  if (targetRid != null) {
    result.append(targetRid.toString());
  }
 else   if (targetClass != null) {
    result.append(targetClass.toString());
  }
 else   if (targetCluster != null) {
    result.append(targetCluster.toString());
  }
 else   if (targetIndex != null) {
    result.append(targetIndex.toString());
  }
 else   if (targetQuery != null) {
    result.append("(");
    result.append(targetQuery.toString());
    result.append(")");
  }
  for (  OUpdateOperations ops : this.operations) {
    result.append(" ");
    result.append(ops.toString());
  }
  if (upsert) {
    result.append(" UPSERT");
  }
  if (returnBefore || returnAfter) {
    result.append(" RETURN");
    if (returnBefore) {
      result.append(" BEFORE");
    }
 else {
      result.append(" AFTER");
    }
    if (returnProjection != null) {
      result.append(" ");
      result.append(returnProjection.toString());
    }
  }
  if (whereClause != null) {
    result.append(" WHERE ");
    result.append(whereClause.toString());
  }
  if (lockRecord) {
    result.append(" LOCK RECORD");
  }
  if (limit != null) {
    result.append(limit);
  }
  if (timeout != null) {
    result.append(" TIMEOUT ");
    result.append(timeout);
  }
  return result.toString();
}
