{
  if (iName == null || iName.length() == 0)   throw new IllegalArgumentException("User name null or empty");
  if (iPermissions == null || iPermissions.length() == 0)   throw new IllegalArgumentException("User permissions null or empty");
  configuration.users=Arrays.copyOf(configuration.users,configuration.users.length + 1);
  if (iPassword == null)   iPassword=OSecurityManager.instance().digest2String(String.valueOf(new Random(System.currentTimeMillis()).nextLong()),false);
  configuration.users[configuration.users.length - 1]=new OServerUserConfiguration(iName,iPassword,iPermissions);
  saveConfiguration();
}
