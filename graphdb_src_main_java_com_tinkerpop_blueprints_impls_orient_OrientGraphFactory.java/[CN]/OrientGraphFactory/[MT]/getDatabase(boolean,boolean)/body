{
  if (pool != null)   return pool.acquire();
  final ODatabaseDocumentTx db=new ODatabaseDocumentTx(url);
  if (!db.getURL().startsWith("remote:") && !db.exists()) {
    if (iCreate)     db.create();
 else     throw new ODatabaseException("Database '" + url + "' not found");
  }
 else   if (iOpen)   db.open(user,password);
  return db;
}
