{
  checkTransaction();
  final ORecord txRecord=getRecord(rid);
  if (txRecord == OTransactionRealAbstract.DELETED_RECORD)   throw new ORecordNotFoundException("Record with id " + rid + " was not found in database.");
  if (txRecord != null) {
    if (txRecord.getRecordVersion().compareTo(recordVersion) > 0)     return txRecord;
 else     return null;
  }
  if (rid.isTemporary())   throw new ORecordNotFoundException("Record with id " + rid + " was not found in database.");
  final ORecord record=database.executeReadRecord((ORecordId)rid,null,recordVersion,fetchPlan,ignoreCache,false,OStorage.LOCKING_STRATEGY.NONE,new ODatabaseDocumentTx.SimpleRecordReader());
  if (record != null && isolationLevel == ISOLATION_LEVEL.REPEATABLE_READ)   addRecord(record,ORecordOperation.LOADED,null);
  return record;
}
