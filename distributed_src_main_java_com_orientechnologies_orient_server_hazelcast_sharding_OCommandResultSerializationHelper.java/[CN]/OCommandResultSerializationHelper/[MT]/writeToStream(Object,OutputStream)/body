{
  if (result == null) {
    stream.write((byte)'n');
  }
 else   if (result instanceof OIdentifiable) {
    stream.write((byte)'r');
    writeIdentifiable((OIdentifiable)result,stream);
  }
 else   if (result instanceof Collection<?>) {
    final Collection<OIdentifiable> list=(Collection<OIdentifiable>)result;
    stream.write((byte)'l');
    stream.write(OBinaryProtocol.int2bytes(list.size()));
    for (    OIdentifiable o : list) {
      writeIdentifiable(o,stream);
    }
  }
 else   if (result instanceof Integer) {
    stream.write((byte)'i');
    stream.write(OBinaryProtocol.int2bytes((Integer)result));
  }
 else {
    stream.write((byte)'a');
    final StringBuilder value=new StringBuilder();
    ORecordSerializerStringAbstract.fieldTypeToString(value,OType.getTypeByClass(result.getClass()),result);
    final byte[] bytes=value.toString().getBytes();
    stream.write(OBinaryProtocol.int2bytes(bytes.length));
    stream.write(bytes);
  }
}
