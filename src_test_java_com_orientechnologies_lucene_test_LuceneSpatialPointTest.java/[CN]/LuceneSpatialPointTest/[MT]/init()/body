{
  initDB();
  databaseDocumentTx.set(ODatabase.ATTRIBUTES.CUSTOM,"strictSql=false");
  OSchema schema=databaseDocumentTx.getMetadata().getSchema();
  OClass v=schema.getClass("V");
  OClass oClass=schema.createClass("City");
  oClass.setSuperClass(v);
  oClass.createProperty("location",OType.EMBEDDED,schema.getClass("Point"));
  oClass.createProperty("name",OType.STRING);
  OClass place=schema.createClass("Place");
  place.setSuperClass(v);
  place.createProperty("latitude",OType.DOUBLE);
  place.createProperty("longitude",OType.DOUBLE);
  place.createProperty("name",OType.STRING);
  databaseDocumentTx.command(new OCommandSQL("CREATE INDEX City.location ON City(location) SPATIAL ENGINE LUCENE")).execute();
  databaseDocumentTx.command(new OCommandSQL("CREATE INDEX Place.l_lon ON Place(latitude,longitude) SPATIAL ENGINE LUCENE")).execute();
  ODocument rome=newCity("Rome",12.5,41.9);
  ODocument london=newCity("London",-0.1275,51.507222);
  databaseDocumentTx.save(rome);
  databaseDocumentTx.save(london);
}
