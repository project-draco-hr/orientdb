{
  lock.acquireExclusiveLock();
  try {
    if (OLogManager.instance().isDebugEnabled())     OLogManager.instance().debug(this,"Updated journaled operation #%d against %s/%s record %s version %d",totalEntries() - 1,nodeId,databaseName,iRID,iVersion);
    int offset=file.getFilledUpTo() - RECORD_SIZE;
    file.writeLong(offset + OFFSET_RID + OBinaryProtocol.SIZE_SHORT,iRID.clusterPosition);
    file.writeInt(offset + OFFSET_VERSION,iVersion);
    if (synchEnabled)     file.synch();
  }
  finally {
    lock.releaseExclusiveLock();
  }
}
