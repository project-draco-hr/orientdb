{
  if (record == null) {
    json.write("null");
    return;
  }
  boolean firstAttribute=true;
  if (settings.includeType) {
    json.writeAttribute(firstAttribute ? settings.indentLevel : 0,firstAttribute,ODocumentHelper.ATTRIBUTE_TYPE,"" + (char)record.getRecordType());
    if (settings.attribSameRow)     firstAttribute=false;
  }
  if (settings.includeId && record.getIdentity() != null && record.getIdentity().isValid()) {
    json.writeAttribute(!firstAttribute ? settings.indentLevel : 0,firstAttribute,ODocumentHelper.ATTRIBUTE_RID,record.getIdentity().toString());
    if (settings.attribSameRow)     firstAttribute=false;
  }
  if (settings.includeVer) {
    json.writeAttribute(firstAttribute ? settings.indentLevel : 0,firstAttribute,ODocumentHelper.ATTRIBUTE_VERSION,record.getRecordVersion().getCounter());
    if (settings.attribSameRow)     firstAttribute=false;
    if (OGlobalConfiguration.DB_USE_DISTRIBUTED_VERSION.getValueAsBoolean()) {
      final ODistributedVersion ver=(ODistributedVersion)record.getRecordVersion();
      json.writeAttribute(firstAttribute ? settings.indentLevel : 0,firstAttribute,ODocumentHelper.ATTRIBUTE_VERSION_TIMESTAMP,ver.getTimestamp());
      json.writeAttribute(firstAttribute ? settings.indentLevel : 0,firstAttribute,ODocumentHelper.ATTRIBUTE_VERSION_MACADDRESS,ver.getMacAddress());
    }
  }
  if (settings.includeClazz && record instanceof ODocument && ((ODocument)record).getClassName() != null) {
    json.writeAttribute(firstAttribute ? settings.indentLevel : 0,firstAttribute,ODocumentHelper.ATTRIBUTE_CLASS,((ODocument)record).getClassName());
    if (settings.attribSameRow)     firstAttribute=false;
  }
}
