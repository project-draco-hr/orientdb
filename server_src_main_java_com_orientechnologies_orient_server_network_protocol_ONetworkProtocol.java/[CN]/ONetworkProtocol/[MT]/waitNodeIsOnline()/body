{
  final ODistributedServerManager mgr=server.getDistributedManager();
  if (mgr != null && mgr.isEnabled() && mgr.isOfflineNode(mgr.getLocalNodeName())) {
    for (int retry=0; retry < MAX_RETRIES; ++retry) {
      if (mgr != null && mgr.isOfflineNode(mgr.getLocalNodeName())) {
        OLogManager.instance().info(this,"Node is not online yet (status=%s), blocking the command until it's online %d/%d",mgr.getStatus(),retry + 1,MAX_RETRIES);
        pauseCurrentThread(300);
      }
 else       return;
    }
    throw new OTimeoutException("Cannot execute operation while the node is not online (status=" + mgr.getStatus() + ")");
  }
}
