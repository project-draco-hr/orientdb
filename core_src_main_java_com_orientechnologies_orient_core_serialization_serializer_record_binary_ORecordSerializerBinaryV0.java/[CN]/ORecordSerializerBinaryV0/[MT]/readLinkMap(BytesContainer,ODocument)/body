{
  int size=OVarIntSerializer.readAsInteger(bytes);
  final Map<Object,OIdentifiable> result=new ORecordLazyMap(document);
  while ((size--) > 0) {
    final OType keyType=readOType(bytes);
    final Object key=deserializeValue(bytes,keyType,document);
    final ORecordId value=readOptimizedLink(bytes);
    if (value.equals(NULL_RECORD_ID))     result.put(key,null);
 else     result.put(key,value);
  }
  return result;
}
