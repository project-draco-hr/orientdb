{
  if (OVersionFactory.instance().isDistributed()) {
    final int recordVersion=readInt();
    final long timestamp=readLong();
    final long macAddress=readLong();
    return OVersionFactory.instance().createDistributedVersion(recordVersion,timestamp,macAddress);
  }
 else {
    final ORecordVersion version=OVersionFactory.instance().createVersion();
    version.setCounter(readInt());
    return version;
  }
}
