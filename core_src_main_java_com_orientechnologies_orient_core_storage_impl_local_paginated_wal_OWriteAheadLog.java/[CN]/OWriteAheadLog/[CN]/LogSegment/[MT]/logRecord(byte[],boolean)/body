{
  final OLogSequenceNumber lsn=new OLogSequenceNumber(order,size);
  final int entrySize=calculateEntrySize(record);
  records.add(new CacheEntry(record,lsn,updateMasterRecord));
  size+=entrySize;
  recordsCacheSize+=entrySize;
  if (recordsCacheSize >= maxRecordsCacheSize)   flushWALCache();
  return lsn;
}
