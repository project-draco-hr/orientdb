{
  final OIndexDefinition indexDefinition=index.getDefinition();
  if (!((index.getDefinition() instanceof OPropertyMapIndexDefinition) && ((OPropertyMapIndexDefinition)index.getDefinition()).getIndexBy() == OPropertyMapIndexDefinition.INDEX_BY.VALUE))   return null;
  final OIndexInternal<?> internalIndex=index.getInternal();
  if (!internalIndex.canBeUsedInEqualityOperators())   return null;
  if (indexDefinition.getParamCount() == 1) {
    final Object key;
    if (indexDefinition instanceof OIndexDefinitionMultiValue)     key=((OIndexDefinitionMultiValue)indexDefinition).createSingleValue(keyParams.get(0));
 else     key=indexDefinition.createValue(keyParams);
    if (key == null)     return null;
    final Object indexResult=index.get(key);
    if (indexResult instanceof Collection)     return (Collection<OIdentifiable>)indexResult;
    return indexResult == null ? null : Collections.singletonList((OIdentifiable)indexResult);
  }
  return null;
}
