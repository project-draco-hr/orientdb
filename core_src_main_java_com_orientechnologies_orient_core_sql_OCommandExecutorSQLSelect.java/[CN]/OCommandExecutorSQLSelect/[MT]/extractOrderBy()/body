{
  if (currentPos == -1 || currentPos >= text.length())   return;
  currentPos=OStringParser.jump(text,currentPos," \r\n");
  final StringBuilder word=new StringBuilder();
  if (textUpperCase.length() - currentPos > OCommandExecutorSQLSelect.KEYWORD_ORDER_BY.length())   word.append(textUpperCase.substring(currentPos,currentPos + OCommandExecutorSQLSelect.KEYWORD_ORDER_BY.length()));
  if (!OCommandExecutorSQLSelect.KEYWORD_ORDER_BY.equals(word.toString()))   throw new OQueryParsingException("Expected keyword " + OCommandExecutorSQLSelect.KEYWORD_ORDER_BY);
  currentPos=currentPos+=OCommandExecutorSQLSelect.KEYWORD_ORDER_BY.length();
  String fieldName;
  String fieldOrdering;
  orderedFields=new ArrayList<OPair<String,String>>();
  while (currentPos != -1 && (orderedFields.size() == 0 || word.equals(","))) {
    currentPos=OSQLHelper.nextWord(text,textUpperCase,currentPos,word,false);
    if (currentPos == -1)     throw new OCommandSQLParsingException("Field name expected",text,currentPos);
    fieldName=word.toString();
    currentPos=OSQLHelper.nextWord(text,textUpperCase,currentPos,word,true);
    if (currentPos == -1)     fieldOrdering=OCommandExecutorSQLSelect.KEYWORD_ASC;
 else {
      if (word.toString().endsWith(",")) {
        currentPos--;
        word.deleteCharAt(word.length() - 1);
      }
      if (word.toString().equals(OCommandExecutorSQLSelect.KEYWORD_ASC))       fieldOrdering=OCommandExecutorSQLSelect.KEYWORD_ASC;
 else       if (word.toString().equals(OCommandExecutorSQLSelect.KEYWORD_DESC))       fieldOrdering=OCommandExecutorSQLSelect.KEYWORD_DESC;
 else       throw new OCommandSQLParsingException("Ordering mode '" + word + "' not supported. Valid is 'ASC', 'DESC' or nothing ('ASC' by default)",text,currentPos);
      currentPos=OSQLHelper.nextWord(text,textUpperCase,currentPos,word,true);
    }
    orderedFields.add(new OPair<String,String>(fieldName,fieldOrdering));
    if (currentPos == -1)     break;
  }
  if (orderedFields.size() == 0)   throw new OCommandSQLParsingException("Order by field set was missed. Example: ORDER BY name ASC, salary DESC",text,currentPos);
}
