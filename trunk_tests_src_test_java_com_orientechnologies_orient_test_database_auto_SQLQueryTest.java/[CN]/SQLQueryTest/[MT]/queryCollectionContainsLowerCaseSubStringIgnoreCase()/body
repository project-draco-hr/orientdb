{
  database.open("admin","admin");
  List<ORecordDocument> result=database.query(new OSQLSynchQuery<ORecordDocument>("select * from animaltype where races contains (name.toLowerCase().subString(0,1) = 'e')")).execute();
  System.out.println("select * from animaltype where races contains (name.toLowercase().substring(0,1) = 'e')");
  for (int i=0; i < result.size(); ++i) {
    record=result.get(i);
    OrientTest.printRecord(i,record);
    Assert.assertTrue(record.getClassName().equalsIgnoreCase("animaltype"));
    Assert.assertNotNull(record.field("races"));
    Collection<ORecordDocument> races=record.field("races");
    boolean found=false;
    for (    ORecordDocument race : races) {
      if (((String)race.field("name")).toLowerCase().substring(0,1).equals("e")) {
        found=true;
        break;
      }
    }
    Assert.assertTrue(found);
  }
  database.close();
}
