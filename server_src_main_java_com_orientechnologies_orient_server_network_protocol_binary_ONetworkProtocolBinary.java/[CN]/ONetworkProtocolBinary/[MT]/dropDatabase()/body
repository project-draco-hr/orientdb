{
  setDataCommandInfo("Drop database");
  String dbName=channel.readString();
  checkServerAccess("database.delete");
  connection.database=getDatabaseInstance(dbName,ODatabaseDocument.TYPE,"local");
  if (connection.database.exists()) {
    OLogManager.instance().info(this,"Dropped database '%s",connection.database.getURL());
    connection.database.drop();
    connection.close();
  }
 else {
    throw new OStorageException("Database with name '" + dbName + "' doesn't exits.");
  }
  if (OClientConnectionManager.instance().disconnect(connection.id))   sendShutdown();
  beginResponse();
  try {
    sendOk(clientTxId);
  }
  finally {
    endResponse();
  }
}
