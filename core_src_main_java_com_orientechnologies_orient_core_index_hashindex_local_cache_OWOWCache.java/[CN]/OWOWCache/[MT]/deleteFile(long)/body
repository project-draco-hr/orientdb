{
synchronized (syncObject) {
    if (isOpen(fileId))     truncateFile(fileId);
    final OFileClassic fileClassic=files.remove(fileId);
    if (fileClassic != null) {
      nameIdMap.remove(fileClassic.getName());
      writeNameIdEntry(new NameFileIdEntry(fileClassic.getName(),-1),true);
      fileClassic.delete();
    }
  }
}
