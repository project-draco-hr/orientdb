{
  if (database != null && !(database.getStorage() instanceof ODistributedStorage))   throw new ODistributedException("Distributed storage was not installed for database '" + database.getName() + "'");
  final OAbstractRemoteTask task=req.getTask();
  try {
    if (database != null)     ((ODistributedStorage)database.getStorage()).setLastOperationId(req.getId());
    return (Serializable)task.execute(serverInstance,this,database);
  }
 catch (  Throwable e) {
    return e;
  }
}
