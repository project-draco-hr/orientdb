{
  networkAdminOperation(new OStorageRemoteOperation<Object>(){
    @Override public Object execute(    final OChannelBinaryAsynchClient network) throws IOException {
      storage.beginRequest(network,OChannelBinaryProtocol.DISTRIBUTED_RESPONSE);
      try {
        final ByteArrayOutputStream out=new ByteArrayOutputStream();
        try {
          final ObjectOutputStream outStream=new ObjectOutputStream(out);
          try {
            response.writeExternal(outStream);
            final byte[] serializedResponse=out.toByteArray();
            ODistributedServerLog.debug(this,manager.getLocalNodeName(),node,ODistributedServerLog.DIRECTION.OUT,"Sending response %s (%d bytes)",response,serializedResponse.length);
            network.writeBytes(serializedResponse);
          }
  finally {
            outStream.close();
          }
        }
  finally {
          out.close();
        }
      }
  finally {
        storage.endRequest(network);
        storage.getEngine().getConnectionManager().release(network);
      }
      return null;
    }
  }
,"Cannot send response back to the sender node '" + response.getSenderNodeName() + "'");
}
