{
  final Map<String,String> config=new HashMap<String,String>();
  try {
    final OChannelBinaryAsynchClient network=storage.beginRequest(OChannelBinaryProtocol.REQUEST_CONFIG_LIST);
    storage.endRequest(network);
    try {
      storage.beginResponse(network);
      final int num=network.readShort();
      for (int i=0; i < num; ++i)       config.put(network.readString(),network.readString());
    }
  finally {
      storage.endResponse(network);
    }
  }
 catch (  Exception e) {
    storage.close(true,false);
    throw OException.wrapException(new OStorageException("Cannot retrieve the configuration list"),e);
  }
  return config;
}
