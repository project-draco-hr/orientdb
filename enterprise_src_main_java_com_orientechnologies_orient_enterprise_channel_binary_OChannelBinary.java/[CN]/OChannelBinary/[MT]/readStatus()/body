{
  final byte result=readByte();
  final int clientTxId=readInt();
  if (result == OChannelBinaryProtocol.RESPONSE_STATUS_OK) {
    setRequestResult(clientTxId,result);
  }
 else   if (result == OChannelBinaryProtocol.PUSH_DATA) {
    setRequestResult(clientTxId,result);
  }
 else   if (result == OChannelBinaryProtocol.RESPONSE_STATUS_ERROR) {
    StringBuilder buffer=new StringBuilder();
    String rootClassName=null;
    while (readByte() == 1) {
      final String excClassName=readString();
      final String excMessage=readString();
      if (rootClassName == null)       rootClassName=excClassName;
 else {
        buffer.append("\n-> ");
        buffer.append(excClassName);
        buffer.append(": ");
      }
      buffer.append(excMessage);
    }
    if (rootClassName != null)     setRequestResult(clientTxId,createException(rootClassName,buffer.toString()));
 else {
      setRequestResult(clientTxId,new ONetworkProtocolException("Network response error: " + buffer.toString()));
    }
  }
 else {
    close();
    throw new ONetworkProtocolException("Error on reading response from the server");
  }
  return clientTxId;
}
