{
synchronized (syncObject) {
    if (!files.containsKey(fileId))     return;
    final Set<Long> pageEntries=filesPages.get(fileId);
    for (    Long pageIndex : pageEntries) {
      LRUEntry lruEntry=get(fileId,pageIndex);
      if (lruEntry == null || lruEntry.usageCounter == 0) {
        lruEntry=remove(fileId,pageIndex);
        if (lruEntry != null && lruEntry.dataPointer != ODirectMemory.NULL_POINTER)         directMemory.free(lruEntry.dataPointer);
      }
    }
    pageEntries.clear();
    files.get(fileId).truncate();
  }
}
