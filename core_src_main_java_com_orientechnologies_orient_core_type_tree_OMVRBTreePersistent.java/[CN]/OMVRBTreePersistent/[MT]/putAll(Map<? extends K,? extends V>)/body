{
  final long timer=OProfiler.getInstance().startChrono();
  final boolean locked=lock.acquireExclusiveLock();
  try {
    for (    Entry<? extends K,? extends V> entry : map.entrySet()) {
      internalPut(entry.getKey(),entry.getValue());
    }
    commitChanges(null);
  }
  finally {
    lock.releaseExclusiveLock(locked);
    OProfiler.getInstance().stopChrono("OMVRBTreePersistent.putAll",timer);
  }
}
