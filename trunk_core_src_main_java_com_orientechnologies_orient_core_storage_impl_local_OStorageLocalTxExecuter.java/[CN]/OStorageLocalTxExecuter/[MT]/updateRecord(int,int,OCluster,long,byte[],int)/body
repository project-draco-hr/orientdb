{
  try {
    final Object[] buffer=storage.readRecord(iRequesterId,iClusterSegment,iPosition,true);
    final long dataOffset=storage.getDataSegment(storage.getDataSegmentForRecord(iClusterSegment,(byte[])buffer[0])).addRecord(-1,-1,(byte[])buffer[0]);
    txSegment.addLog(OTxSegment.OPERATION_UPDATE,iRequesterId,iTxId,iClusterSegment.getId(),iPosition,dataOffset);
    storage.updateRecord(iRequesterId,iClusterSegment,iPosition,iContent,iVersion);
  }
 catch (  IOException e) {
    OLogManager.instance().error(this,"Error on updating entry #" + iPosition + " in log segment: "+ iClusterSegment,e,OTransactionException.class);
  }
}
