{
  this((ORecordId)record.getIdentity(),record.toStream(),record.getRecordVersion(),ORecordInternal.getRecordType(record));
  if (rid.getClusterId() == ORID.CLUSTER_ID_INVALID && record instanceof ODocument) {
    final OClass clazz=((ODocument)record).getSchemaClass();
    if (clazz != null) {
      clusterId=clazz.getClusterSelection().getCluster(clazz,(ODocument)record);
    }
  }
}
