{
  while (target.hasNext()) {
    fieldName=target.next();
    final Object fieldValue=((OTraverseRecordProcess)command.getContext().peek(-2)).getTarget().rawField(fieldName);
    if (fieldValue != null) {
      final OTraverseAbstractProcess<?> subProcess;
      if (OMultiValue.isMultiValue(fieldValue))       subProcess=new OTraverseMultiValueProcess(command,OMultiValue.getMultiValueIterator(fieldValue));
 else       if (fieldValue instanceof OIdentifiable && ((OIdentifiable)fieldValue).getRecord() instanceof ODocument)       subProcess=new OTraverseRecordProcess(command,(ODocument)((OIdentifiable)fieldValue).getRecord());
 else       continue;
      final OIdentifiable subValue=subProcess.process();
      if (subValue != null)       return subValue;
    }
  }
  return drop();
}
