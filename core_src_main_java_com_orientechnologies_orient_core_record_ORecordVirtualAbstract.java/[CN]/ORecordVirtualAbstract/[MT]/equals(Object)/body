{
  if (!super.equals(obj))   return false;
  if (!_recordId.isValid()) {
    final ORecordVirtualAbstract<?> other=(ORecordVirtualAbstract<?>)obj;
    if (_fieldValues == null || other._fieldValues == null)     return false;
    if (_fieldValues.size() != other._fieldValues.size())     return false;
    String k;
    Object v;
    Object otherV;
    for (    Entry<String,T> field : _fieldValues.entrySet()) {
      k=field.getKey();
      if (k != null && !other.containsField(k))       return false;
      v=_fieldValues.get(k);
      otherV=other._fieldValues.get(k);
      if (v == null && otherV == null)       continue;
      if (v == null && otherV != null || otherV == null && v != null)       return false;
      if (!v.equals(otherV))       return false;
    }
  }
  return true;
}
