{
  final ORecord rec=((OIdentifiable)iObject).getRecord();
  if (rec == null || !(rec instanceof ODocument))   return null;
  final ODocument value=(ODocument)rec;
  final OIdentifiable v;
  if (ODocumentInternal.getImmutableSchemaClass(value).isSubClassOf(OrientVertexType.CLASS_NAME)) {
    v=value;
  }
 else   if (ODocumentInternal.getImmutableSchemaClass(value).isSubClassOf(OrientEdgeType.CLASS_NAME)) {
    if (vertex.settings.isUseVertexFieldsForEdgeLabels() || OrientEdge.isLabeled(OrientEdge.getRecordLabel(value),iLabels))     v=OrientEdge.getConnection(value,connection.getKey().opposite());
 else     v=null;
  }
 else   throw new IllegalStateException("Invalid content found between connections:" + value);
  return v;
}
