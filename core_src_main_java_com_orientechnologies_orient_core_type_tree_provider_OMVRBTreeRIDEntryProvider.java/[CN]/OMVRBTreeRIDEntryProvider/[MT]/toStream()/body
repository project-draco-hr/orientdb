{
  try {
    stream.jump(OFFSET_TREESIZE).set(treeSize);
    stream.jump(OFFSET_NODESIZE).set(size);
    stream.jump(OFFSET_COLOR).set(color);
    parentRid.toStream(stream.jump(OFFSET_PARENT));
    leftRid.toStream(stream.jump(OFFSET_LEFT));
    rightRid.toStream(stream.jump(OFFSET_RIGHT));
    if (rids != null)     for (int i=0; i < size; ++i)     if (rids[i] != null)     itemToStream(rids[i],i);
  }
 catch (  IOException e) {
    throw new OSerializationException("Cannot serialize tree entry RID node: " + this,e);
  }
  final byte[] buffer=stream.getInternalBuffer();
  record.fromStream(buffer);
  return buffer;
}
