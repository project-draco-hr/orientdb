{
  final Map<String,OProperty> props=new HashMap<String,OProperty>(20);
  OImmutableClass currentClass=this;
  do {
    for (    OProperty p : currentClass.properties.values()) {
      final String propName=p.getName();
      if (!props.containsKey(propName))       props.put(propName,p);
    }
    currentClass=(OImmutableClass)schema.getClass(currentClass.superClass);
  }
 while (currentClass != null);
  return Collections.unmodifiableMap(props);
}
