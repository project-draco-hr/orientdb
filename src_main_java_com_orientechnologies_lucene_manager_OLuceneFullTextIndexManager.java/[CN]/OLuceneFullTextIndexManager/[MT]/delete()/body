{
  super.delete();
  ODatabaseDocumentInternal database=getDatabase();
  final OAbstractPaginatedStorage storageLocalAbstract=(OAbstractPaginatedStorage)database.getStorage().getUnderlying();
  if (storageLocalAbstract instanceof OLocalPaginatedStorage) {
    File f=new File(getIndexFacetPath((OLocalPaginatedStorage)storageLocalAbstract));
    OLuceneIndexUtils.deleteFolder(f);
    f=new File(getIndexBasePath((OLocalPaginatedStorage)storageLocalAbstract));
    OLuceneIndexUtils.deleteFolderIfEmpty(f);
  }
}
