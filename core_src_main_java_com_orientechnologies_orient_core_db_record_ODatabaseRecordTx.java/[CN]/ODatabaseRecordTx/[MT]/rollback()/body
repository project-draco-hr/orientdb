{
  for (  ODatabaseListener listener : underlying.getListeners())   try {
    listener.onBeforeTxRollback(underlying);
  }
 catch (  Throwable t) {
    OLogManager.instance().error(this,"Error before tx rollback",t);
  }
  try {
    currentTx.rollback();
  }
  finally {
    setDefaultTransactionMode();
  }
  for (  ODatabaseListener listener : underlying.getListeners())   try {
    listener.onAfterTxRollback(underlying);
  }
 catch (  Throwable t) {
    OLogManager.instance().error(this,"Error after tx rollback",t);
  }
  return this;
}
