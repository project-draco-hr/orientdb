{
  if (isDirty) {
    if (evictedPages.size() >= WRITE_QUEUE_LENGTH) {
      flushEvictedPages();
      flushData(fileId,pageIndex,dataPointer);
      dirtyPages.get(fileId).remove(pageIndex);
      directMemory.free(dataPointer);
    }
 else {
      evictedPages.put(new FileLockKey(fileId,pageIndex),dataPointer);
    }
  }
 else {
    directMemory.free(dataPointer);
  }
}
