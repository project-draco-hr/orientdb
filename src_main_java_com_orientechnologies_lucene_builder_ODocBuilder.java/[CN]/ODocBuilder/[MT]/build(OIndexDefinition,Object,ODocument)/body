{
  Document doc=new Document();
  int i=0;
  for (  String f : definition.getFields()) {
    Object val=null;
    if (key instanceof OCompositeKey) {
      val=((OCompositeKey)key).getKeys().get(i);
    }
 else     if (key instanceof List) {
      val=((List)key).get(i);
    }
 else {
      val=key;
    }
    i++;
    doc.add(OLuceneIndexType.createField(f,val,Field.Store.NO,Field.Index.ANALYZED));
  }
  return doc;
}
