{
  if (rawElement == null)   return ORecordId.EMPTY_RECORD_ID;
  final ORID rid=rawElement.getIdentity();
  if (!rid.isValid() && !isDetached()) {
    graph.setCurrentGraphInThreadLocal();
    graph.autoStartTransaction();
    save();
  }
  return rid;
}
