{
  Number sum=null;
  long total=0;
  for (  Object iParameter : resultsToMerge) {
    final String str=(String)iParameter;
    final char kind=str.charAt(0);
    final String sumAsString=str.substring(1,str.indexOf('/'));
    final String totalAsString=str.substring(str.indexOf('/') + 1);
switch (kind) {
case 'i':
      if (sum == null) {
        sum=Integer.parseInt(sumAsString);
      }
 else {
        sum=sum.intValue() + Integer.parseInt(sumAsString);
      }
    break;
case 'l':
  if (sum == null) {
    sum=Long.parseLong(sumAsString);
  }
 else {
    sum=sum.longValue() + Long.parseLong(sumAsString);
  }
break;
case 'f':
if (sum == null) {
sum=Float.parseFloat(sumAsString);
}
 else {
sum=sum.floatValue() + Float.parseFloat(sumAsString);
}
break;
case 'd':
if (sum == null) {
sum=Double.parseDouble(sumAsString);
}
 else {
sum=sum.doubleValue() + Double.parseDouble(sumAsString);
}
break;
}
total+=Long.parseLong(totalAsString);
}
if (sum instanceof Integer) return sum.intValue() / total;
 else if (sum instanceof Long) return sum.longValue() / total;
 else if (sum instanceof Float) return sum.floatValue() / total;
 else if (sum instanceof Double) return sum.doubleValue() / total;
return null;
}
