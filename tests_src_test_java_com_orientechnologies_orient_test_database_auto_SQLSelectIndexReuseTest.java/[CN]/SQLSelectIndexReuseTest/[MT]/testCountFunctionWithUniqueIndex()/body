{
  OClass klazz=database.getMetadata().getSchema().getOrCreateClass("test");
  if (!klazz.existsProperty("a")) {
    klazz.createProperty("a",OType.STRING);
    klazz.createIndex("a","NOTUNIQUE","a");
  }
  ODocument doc=database.newInstance("test").field("a","a").field("b","b").save();
  ODocument result=(ODocument)database.query(new OSQLSynchQuery<ODocument>("select count(*) from test where a = 'a'")).get(0);
  Assert.assertEquals(result.field("count",Long.class),1l);
  doc.delete();
}
