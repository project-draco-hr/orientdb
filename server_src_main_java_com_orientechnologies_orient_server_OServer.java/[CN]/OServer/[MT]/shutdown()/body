{
  if (!running)   return;
  running=false;
  OLogManager.instance().info(this,"Orient Database Server is shutdowning...");
  try {
    lock.writeLock().lock();
    for (    OServerNetworkListener l : listeners) {
      OLogManager.instance().info(this,"Shutdowning connection listener...");
      l.shutdown();
    }
    for (    OServerHandler h : handlers) {
      OLogManager.instance().info(this,"Shutdowning handler %s...",h.getName());
      h.shutdown();
    }
    Orient.instance().shutdown();
  }
  finally {
    lock.writeLock().unlock();
  }
  OLogManager.instance().info(this,"Orient Database Server shutdown complete");
  System.out.println();
}
