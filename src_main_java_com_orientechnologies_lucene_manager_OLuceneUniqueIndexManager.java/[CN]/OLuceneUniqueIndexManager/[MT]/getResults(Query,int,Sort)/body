{
  Set<OIdentifiable> result=new HashSet<OIdentifiable>();
  try {
    IndexSearcher searcher=getSearcher();
    TopDocs top=null;
    if (sort == null) {
      top=searcher.search(query,limit);
    }
 else {
      top=searcher.search(query,limit,sort);
    }
    ScoreDoc[] hits=top.scoreDocs;
    for (    ScoreDoc score : hits) {
      Document ret=searcher.doc(score.doc);
      result.add(new ORecordId(ret.get(RID)));
    }
  }
 catch (  IOException e) {
  }
 finally {
  }
  return result;
}
