{
  iDatabase.getDatabaseOwner().getLevel1Cache().setEnable(previousLevel1CacheEnabled);
  iDatabase.getDatabaseOwner().getLevel2Cache().setEnable(previousLevel2CacheEnabled);
  ODatabaseComplex<?> ownerDb=iDatabase.getDatabaseOwner();
  if (ownerDb instanceof ODatabaseRecord)   ((ODatabaseRecord)ownerDb).setRetainRecords(previousRetainRecords);
  while (ownerDb.getDatabaseOwner() != ownerDb)   ownerDb=ownerDb.getDatabaseOwner();
  if (ownerDb instanceof ODatabaseObject)   ((ODatabaseObject)ownerDb).setRetainObjects(previousRetainObjects);
  if (removedHooks != null) {
    for (    Map.Entry<ORecordHook,ORecordHook.HOOK_POSITION> hook : removedHooks.entrySet()) {
      ownerDb.registerHook(hook.getKey(),hook.getValue());
    }
  }
}
