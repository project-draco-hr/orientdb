{
  database=ODatabaseDocumentPool.global().acquire(url,"admin","admin");
  ODocument doc=database.newInstance();
  doc.field("test","test");
  doc.save();
  ORID docRid=doc.getIdentity().copy();
  doc=database.load(docRid,"*:-1");
  try {
    doc=database.load(docRid,"invalid");
    Assert.fail("Should throw IllegalArgumentException");
  }
 catch (  Exception e) {
  }
  database.getLevel1Cache().invalidate();
  try {
    doc=database.load(docRid,"invalid");
    Assert.fail("Should throw IllegalArgumentException");
  }
 catch (  Exception e) {
  }
  database.getLevel2Cache().clear();
  try {
    doc=database.load(docRid,"invalid");
    Assert.fail("Should throw IllegalArgumentException");
  }
 catch (  Exception e) {
  }
  database.close();
  database=null;
  database=ODatabaseDocumentPool.global().acquire(url,"admin","admin");
  try {
    doc=database.load(docRid,"invalid");
    Assert.fail("Should throw IllegalArgumentException");
  }
 catch (  Exception e) {
  }
  database.load(docRid);
  try {
    doc=database.load(docRid,"invalid");
    Assert.fail("Should throw IllegalArgumentException");
  }
 catch (  Exception e) {
  }
  database.getLevel1Cache().clear();
  try {
    doc=database.load(docRid,"invalid");
    Assert.fail("Should throw IllegalArgumentException");
  }
 catch (  Exception e) {
  }
  database.getLevel2Cache().clear();
  try {
    doc=database.load(docRid,"invalid");
    Assert.fail("Should throw IllegalArgumentException");
  }
 catch (  Exception e) {
  }
  doc.delete();
  database.close();
}
