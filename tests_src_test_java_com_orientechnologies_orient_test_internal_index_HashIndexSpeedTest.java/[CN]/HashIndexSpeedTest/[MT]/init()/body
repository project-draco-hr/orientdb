{
  String buildDirectory=System.getProperty("buildDirectory","/temp");
  if (buildDirectory == null)   buildDirectory=".";
  databaseDocumentTx=new ODatabaseDocumentTx("local:" + buildDirectory + "/uniqueHashIndexTest");
  if (databaseDocumentTx.exists()) {
    databaseDocumentTx.open("admin","admin");
    databaseDocumentTx.drop();
  }
  databaseDocumentTx.create();
  long maxMemory=2L * 1024 * 1024* 1024;
  System.out.println("Max memory :" + maxMemory);
  buffer=new OLRUBuffer(maxMemory,ODirectMemoryFactory.INSTANCE.directMemory(),OHashIndexBucket.MAX_BUCKET_SIZE_BYTES,(OStorageLocal)databaseDocumentTx.getStorage(),false);
  hashIndex=new OUniqueHashIndex(buffer);
  hashIndex.create("uhashIndexTest",new OSimpleKeyIndexDefinition(OType.STRING),databaseDocumentTx,OMetadata.CLUSTER_INDEX_NAME,new int[0],null);
}
