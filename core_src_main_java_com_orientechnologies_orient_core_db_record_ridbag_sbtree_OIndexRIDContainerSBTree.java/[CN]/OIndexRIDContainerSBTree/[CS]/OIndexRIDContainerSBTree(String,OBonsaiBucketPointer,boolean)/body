{
  tree=new OSBTreeBonsaiLocal<OIdentifiable,Boolean>(INDEX_FILE_EXTENSION,durableMode);
  final OAbstractPaginatedStorage storage=(OAbstractPaginatedStorage)ODatabaseRecordThreadLocal.INSTANCE.get().getStorage().getUnderlying();
  final long fileId;
  try {
    OAtomicOperation atomicOperation=storage.getAtomicOperationsManager().getCurrentOperation();
    if (atomicOperation == null)     fileId=storage.getDiskCache().openFile(file + INDEX_FILE_EXTENSION);
 else     fileId=atomicOperation.openFile(file + INDEX_FILE_EXTENSION,storage.getDiskCache());
  }
 catch (  IOException e) {
    throw new OSBTreeException("Exception during loading of sbtree " + file,e);
  }
  tree.load(fileId,rootPointer,storage);
}
