{
  acquireExclusiveLock();
  try {
    final OIndexInternal<?> index=OIndexFactory.instance().newInstance(getDatabase(),iType);
    index.create(iName,indexDefinition,getDatabase(),defaultClusterName,iClusterIdsToIndex,iProgressListener);
    addIndexInternal(index);
    setDirty();
    save();
    return getIndexInstance(index);
  }
  finally {
    releaseExclusiveLock();
  }
}
