{
  final OSchema schema=database.getMetadata().getSchema();
  if (!schema.existsClass("lpirtStudent")) {
    final OClass curatorClass=schema.createClass("lpirtCurator");
    curatorClass.createProperty("name",OType.STRING).createIndex(OClass.INDEX_TYPE.NOTUNIQUE);
    curatorClass.createProperty("salary",OType.INTEGER).createIndex(OClass.INDEX_TYPE.UNIQUE);
    curatorClass.createIndex("curotorCompositeIndex",OClass.INDEX_TYPE.UNIQUE,"salary","name");
    final OClass groupClass=schema.createClass("lpirtGroup");
    groupClass.createProperty("name",OType.STRING).createIndex(OClass.INDEX_TYPE.UNIQUE);
    groupClass.createProperty("curator",OType.LINK,curatorClass).createIndex(OClass.INDEX_TYPE.UNIQUE);
    final OClass diplomaClass=schema.createClass("lpirtDiploma");
    diplomaClass.createProperty("GPA",OType.DOUBLE).createIndex(OClass.INDEX_TYPE.NOTUNIQUE);
    diplomaClass.createProperty("thesis",OType.STRING).createIndex(OClass.INDEX_TYPE.FULLTEXT);
    diplomaClass.createIndex("diplomaThesisUnique",OClass.INDEX_TYPE.UNIQUE,"thesis");
    final OClass studentClass=schema.createClass("lpirtStudent");
    studentClass.createProperty("name",OType.STRING).createIndex(OClass.INDEX_TYPE.UNIQUE);
    studentClass.createProperty("group",OType.LINK,groupClass).createIndex(OClass.INDEX_TYPE.NOTUNIQUE);
    studentClass.createProperty("diploma",OType.LINK,diplomaClass);
    studentClass.createIndex("studentDiplomaAndNameIndex",OClass.INDEX_TYPE.UNIQUE,"diploma","name");
    schema.save();
  }
}
