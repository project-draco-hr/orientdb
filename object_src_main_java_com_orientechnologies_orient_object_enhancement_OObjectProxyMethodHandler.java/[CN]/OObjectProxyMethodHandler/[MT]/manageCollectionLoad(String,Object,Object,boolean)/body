{
  if (value instanceof ORecordLazyList) {
    value=new OObjectLazyList(doc,(ORecordLazyList)value);
  }
 else   if (value instanceof ORecordLazySet || value instanceof OMVRBTreeRIDSet) {
    value=new OObjectLazySet(doc,(Set)value);
  }
 else   if (customSerialization) {
    if (value instanceof List<?>) {
      value=new OObjectCustomSerializerList(OObjectEntitySerializer.getSerializedType(getField(fieldName,self.getClass())),doc,(List<Object>)value);
    }
 else {
      value=new OObjectCustomSerializerSet(OObjectEntitySerializer.getSerializedType(getField(fieldName,self.getClass())),doc,(Set<Object>)value);
    }
  }
  return value;
}
