{
  cluster=iCluster;
  final OStorage storage=openStorage(storageName);
  try {
    resolver=iCluster.getConfictResolverClass().newInstance();
    resolver.startup(iCluster,storageName);
  }
 catch (  Exception e) {
    OLogManager.instance().error(this,"Cannot create the conflict resolver instance of class '%s'",iCluster.getConfictResolverClass(),e);
  }
  final String logDirectory=OSystemVariableResolver.resolveSystemVariables(OServerMain.server().getDatabaseDirectory() + "/" + storageName);
  log=new ODatabaseJournal(storage,logDirectory);
}
