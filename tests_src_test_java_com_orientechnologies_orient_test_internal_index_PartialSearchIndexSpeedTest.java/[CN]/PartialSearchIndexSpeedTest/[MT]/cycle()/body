{
  int start=(new Random()).nextInt(10);
  final OIndex index=database.getMetadata().getIndexManager().getIndex("testIndex");
  final Set<ODocument> result=new ODocumentFieldsHashSet();
  index.getEntriesMajor(new OCompositeKey(start),true,true,new OIndex.IndexEntriesResultListener(){
    @Override public boolean addResult(    ODocument entry){
      result.add(entry);
      return result.size() < 100;
    }
  }
);
  Assert.assertEquals(result.size(),100);
}
