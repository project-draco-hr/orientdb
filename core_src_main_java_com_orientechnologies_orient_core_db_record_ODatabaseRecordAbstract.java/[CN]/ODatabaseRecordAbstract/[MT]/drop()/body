{
  checkOpeness();
  checkSecurity(ODatabaseSecurityResources.DATABASE,ORole.PERMISSION_DELETE);
  setCurrentDatabaseinThreadLocal();
  underlying.callOnCloseListeners();
  if (metadata != null) {
    metadata.close();
    metadata=null;
  }
  super.drop();
}
