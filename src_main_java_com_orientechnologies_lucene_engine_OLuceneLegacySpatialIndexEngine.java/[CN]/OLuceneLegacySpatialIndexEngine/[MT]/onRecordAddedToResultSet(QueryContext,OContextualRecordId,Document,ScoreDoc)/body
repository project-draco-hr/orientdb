{
  SpatialQueryContext spatialContext=(SpatialQueryContext)queryContext;
  if (spatialContext.spatialArgs != null) {
    Point docPoint=(Point)ctx.readShape(doc.get(strategy.getFieldName()));
    double docDistDEG=ctx.getDistCalc().distance(spatialContext.spatialArgs.getShape().getCenter(),docPoint);
    final double docDistInKM=DistanceUtils.degrees2Dist(docDistDEG,DistanceUtils.EARTH_EQUATORIAL_RADIUS_KM);
    recordId.setContext(new HashMap<String,Object>(){
{
        put("distance",docDistInKM);
      }
    }
);
  }
}
