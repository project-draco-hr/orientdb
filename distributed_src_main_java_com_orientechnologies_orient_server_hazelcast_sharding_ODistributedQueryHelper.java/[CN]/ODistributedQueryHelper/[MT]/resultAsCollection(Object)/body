{
  if (result == null) {
    return Collections.emptySet();
  }
 else   if (result instanceof OIdentifiable) {
    return Collections.singleton((OIdentifiable)result);
  }
 else   if (result instanceof Collection<?>) {
    return (List<OIdentifiable>)result;
  }
 else   if (result instanceof Integer) {
    final ODocument wrapper=new ODocument();
    wrapper.field("result",result,OType.INTEGER);
    return Collections.<OIdentifiable>singleton(wrapper);
  }
 else {
    throw new IllegalArgumentException("Invalid result type");
  }
}
