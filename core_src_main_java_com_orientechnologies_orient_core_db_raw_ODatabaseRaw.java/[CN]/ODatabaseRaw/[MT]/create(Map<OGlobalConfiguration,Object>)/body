{
  try {
    if (status == STATUS.OPEN)     throw new IllegalStateException("Database " + getName() + " is already open");
    if (storage == null)     storage=Orient.instance().loadStorage(url);
    if (iInitialSettings != null) {
      final OContextConfiguration ctxCfg=storage.getConfiguration().getContextConfiguration();
      for (      Map.Entry<OGlobalConfiguration,Object> e : iInitialSettings.entrySet()) {
        ctxCfg.setValue(e.getKey(),e.getValue());
      }
    }
    storage.create(properties);
    status=STATUS.OPEN;
  }
 catch (  Exception e) {
    throw new ODatabaseException("Cannot create database",e);
  }
  return (DB)this;
}
