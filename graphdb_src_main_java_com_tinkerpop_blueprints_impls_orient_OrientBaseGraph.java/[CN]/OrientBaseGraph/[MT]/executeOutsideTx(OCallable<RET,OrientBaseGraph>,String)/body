{
  final boolean committed;
  final ODatabaseDocumentTx raw=getRawGraph();
  if (raw.getTransaction().isActive()) {
    if (settings.warnOnForceClosingTx && OLogManager.instance().isWarnEnabled()) {
      final StringBuilder msg=new StringBuilder(256);
      for (      String s : iOperationStrings)       msg.append(s);
      OLogManager.instance().warn(this,"Requested command '%s' must be executed outside active transaction: the transaction will be committed and reopen right after it. To avoid this behavior execute it outside a transaction",msg.toString());
    }
    raw.commit();
    committed=true;
  }
 else   committed=false;
  try {
    return iCallable.call(this);
  }
  finally {
    if (committed)     autoStartTransaction();
  }
}
