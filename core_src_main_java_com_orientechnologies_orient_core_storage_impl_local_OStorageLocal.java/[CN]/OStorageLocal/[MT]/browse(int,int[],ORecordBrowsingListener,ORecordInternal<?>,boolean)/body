{
  checkOpeness();
  final long timer=OProfiler.getInstance().startChrono();
  final boolean locked=lock.acquireSharedLock();
  try {
    OCluster cluster;
    for (    int clusterId : iClusterId) {
      cluster=getClusterById(clusterId);
      ioRecord=browseCluster(iRequesterId,iListener,ioRecord,cluster,iLockEntireCluster);
    }
  }
 catch (  IOException e) {
    OLogManager.instance().error(this,"Error on browsing elements of cluster: " + iClusterId,e);
  }
 finally {
    lock.releaseSharedLock(locked);
    OProfiler.getInstance().stopChrono("OStorageLocal.foreach",timer);
  }
}
