{
  Analyzer analyzer=null;
  if (metadata != null) {
    String analyzerString=metadata.field("analyzer");
    if (analyzerString != null) {
      try {
        Class classAnalyzer=Class.forName(analyzerString);
        Constructor constructor=classAnalyzer.getConstructor(Version.class);
        analyzer=(Analyzer)constructor.newInstance(getVersion(metadata));
      }
 catch (      ClassNotFoundException e) {
        throw new OIndexException("Analyzer: " + analyzerString + " not found",e);
      }
catch (      NoSuchMethodException e) {
        e.printStackTrace();
      }
catch (      InvocationTargetException e) {
        e.printStackTrace();
      }
catch (      InstantiationException e) {
        e.printStackTrace();
      }
catch (      IllegalAccessException e) {
        e.printStackTrace();
      }
    }
  }
 else {
    analyzer=new StandardAnalyzer(getVersion(metadata));
  }
  return analyzer;
}
