{
  OType type=document.fieldType(key);
  if (type == null) {
    OClass clazz=document.getSchemaClass();
    if (clazz != null) {
      OProperty prop=clazz.getProperty(key);
      if (prop != null) {
        type=prop.getType();
      }
    }
    if (type == null || OType.ANY == type)     type=getTypeFromValue(fieldValue,false);
  }
  return type;
}
