{
  Object curValue=counters.get(key);
  if (!Objects.equals(curValue,oldValue) || (curValue == null && !counters.containsKey(key))) {
    return false;
  }
  counters.put(key,newValue);
  return true;
}
