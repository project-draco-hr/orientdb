{
  nestedCommit.rollback();
  currentOperation.set(null);
  if (trackAtomicOperations)   activeAtomicOperations.remove(operation.getOperationUnitId());
  for (  String lockObject : operation.lockedObjects())   lockManager.releaseLock(this,lockObject,OLockManager.LOCK.EXCLUSIVE);
  atomicOperationsCount.decrement();
}
