{
  int fullPos=OVarIntSerializer.write(bytes,map.size());
  for (  Entry<Object,OIdentifiable> entry : map.entrySet()) {
    OType type=OType.STRING;
    writeOType(bytes,bytes.alloc(1),type);
    writeString(bytes,entry.getKey().toString());
    if (entry.getValue() == null)     writeOptimizedLink(bytes,NULL_RECORD_ID);
 else     writeOptimizedLink(bytes,entry.getValue());
  }
  return fullPos;
}
