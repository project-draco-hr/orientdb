{
  lock.acquireExclusiveLock();
  try {
    final OClusterLocal cluster;
    if (iClusterName != null) {
      final OStoragePhysicalClusterConfiguration config=new OStoragePhysicalClusterConfiguration(configuration,iClusterName,clusters.length);
      configuration.clusters.add(config);
      cluster=new OClusterLocal(this,config);
    }
 else     cluster=null;
    final int id=registerCluster(cluster);
    if (iClusterName != null) {
      clusters[id].create(iStartSize);
      configuration.update();
    }
    return id;
  }
  finally {
    lock.releaseExclusiveLock();
  }
}
