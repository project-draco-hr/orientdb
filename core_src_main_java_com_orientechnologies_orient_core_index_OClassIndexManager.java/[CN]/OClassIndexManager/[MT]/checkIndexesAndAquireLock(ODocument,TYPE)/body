{
  final OClass cls=iRecord.getSchemaClass();
  if (cls != null) {
    final Collection<OIndex<?>> indexes=cls.getIndexes();
switch (hookType) {
case BEFORE_CREATE:
      checkIndexedPropertiesOnCreation(iRecord,indexes);
    break;
case BEFORE_UPDATE:
  checkIndexedPropertiesOnUpdate(iRecord,indexes);
break;
default :
throw new IllegalArgumentException("Invalid hook type: " + hookType);
}
acquireModificationLock(iRecord,indexes);
}
}
