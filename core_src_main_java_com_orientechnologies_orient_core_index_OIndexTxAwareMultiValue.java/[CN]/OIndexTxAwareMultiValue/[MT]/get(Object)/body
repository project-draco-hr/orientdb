{
  final OTransactionIndexChanges indexChanges=database.getTransaction().getIndexChanges(delegate.getName());
  if (indexChanges == null)   return super.get(key);
  final Set<OIdentifiable> result=new TreeSet<OIdentifiable>();
  if (!indexChanges.cleared) {
    final Collection<OIdentifiable> subResult=super.get(key);
    if (subResult != null)     for (    OIdentifiable oid : subResult)     if (oid != null)     result.add(oid);
  }
  return filterIndexChanges(indexChanges,key,result);
}
