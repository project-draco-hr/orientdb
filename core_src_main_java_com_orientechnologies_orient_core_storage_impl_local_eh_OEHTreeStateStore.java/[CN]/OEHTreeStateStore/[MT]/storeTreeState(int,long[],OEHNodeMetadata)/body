{
  long nodePosition=index * RECORD_SIZE;
  if (getFilledUpTo() < nodePosition + RECORD_SIZE)   file.allocateSpace((int)(nodePosition + RECORD_SIZE - file.getFilledUpTo()));
  byte[] nodeContentBuffer=new byte[RECORD_SIZE];
  int offset=0;
  for (  long position : node) {
    OLongSerializer.INSTANCE.serializeNative(position,nodeContentBuffer,offset);
    offset+=OLongSerializer.LONG_SIZE;
  }
  nodeContentBuffer[offset++]=(byte)nodeMetadata.getMaxLeftChildDepth();
  nodeContentBuffer[offset++]=(byte)nodeMetadata.getMaxRightChildDepth();
  nodeContentBuffer[offset]=(byte)nodeMetadata.getNodeLocalDepth();
  file.write(nodePosition,nodeContentBuffer);
}
