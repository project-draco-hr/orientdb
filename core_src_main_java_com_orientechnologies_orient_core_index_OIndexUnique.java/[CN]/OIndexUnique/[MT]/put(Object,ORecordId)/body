{
  List<ORecordId> values=map.get(iKey);
  if (values == null)   values=new ArrayList<ORecordId>();
 else   if (values.size() == 1) {
    if (!values.get(0).equals(iSingleValue))     throw new OIndexException("Found duplicated key '" + iKey + "' on unique index '"+ name+ "'");
 else     return this;
  }
 else   if (values.size() > 1)   throw new OIndexException("Found duplicated key '" + iKey + "' on unique index '"+ name+ "'");
  values.add(iSingleValue);
  map.put(iKey.toString(),values);
  return this;
}
