{
  acquireExclusiveLock();
  try {
    try {
      diskCache.truncateFile(fileId);
      OCachePointer rootPointer=diskCache.load(fileId,ROOT_INDEX);
      rootPointer.acquireExclusiveLock();
      try {
        OSBTreeBucket<K> rootBucket=new OSBTreeBucket<K>(rootPointer.getDataPointer(),true,keySerializer);
        rootBucket.setKeySerializerId(keySerializer.getId());
        rootBucket.setTreeSize(0);
        diskCache.markDirty(fileId,ROOT_INDEX);
      }
  finally {
        rootPointer.releaseExclusiveLock();
        diskCache.release(fileId,ROOT_INDEX);
      }
    }
 catch (    IOException e) {
      throw new OIndexException("Error during clear of sbtree with name " + name,e);
    }
  }
  finally {
    releaseExclusiveLock();
  }
}
