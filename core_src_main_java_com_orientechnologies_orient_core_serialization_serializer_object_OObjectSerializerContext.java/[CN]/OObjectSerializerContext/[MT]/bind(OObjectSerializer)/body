{
  final Type genericType=serializer.getClass().getGenericInterfaces()[0];
  if (genericType != null && genericType instanceof ParameterizedType) {
    final ParameterizedType pt=(ParameterizedType)genericType;
    if (pt.getActualTypeArguments() != null && pt.getActualTypeArguments().length > 1) {
      final Type[] actualTypes=pt.getActualTypeArguments();
      if (actualTypes[0] instanceof Class<?>) {
        localSerializers.put((Class<?>)actualTypes[0],serializer);
      }
 else       if (actualTypes[0] instanceof ParameterizedType) {
        localSerializers.put((Class<?>)((ParameterizedType)actualTypes[0]).getRawType(),serializer);
      }
      if (actualTypes[1] instanceof Class<?>) {
        dbSerializers.put((Class<?>)actualTypes[1],serializer);
      }
 else       if (actualTypes[1] instanceof ParameterizedType) {
        dbSerializers.put((Class<?>)((ParameterizedType)actualTypes[1]).getRawType(),serializer);
      }
    }
  }
}
