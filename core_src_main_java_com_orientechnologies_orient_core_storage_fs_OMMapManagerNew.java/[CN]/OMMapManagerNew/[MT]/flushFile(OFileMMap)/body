{
  lockManager.acquireLock(Thread.currentThread(),iFile,OLockManager.LOCK.SHARED);
  try {
    boolean allFlushed=true;
    final OMMapBufferEntry[] fileEntries=bufferPoolPerFile.get(iFile);
    if (fileEntries != null) {
      for (      OMMapBufferEntry entry : fileEntries) {
        if (!entry.flush())         allFlushed=false;
      }
    }
    return allFlushed;
  }
  finally {
    lockManager.releaseLock(Thread.currentThread(),iFile,OLockManager.LOCK.SHARED);
  }
}
