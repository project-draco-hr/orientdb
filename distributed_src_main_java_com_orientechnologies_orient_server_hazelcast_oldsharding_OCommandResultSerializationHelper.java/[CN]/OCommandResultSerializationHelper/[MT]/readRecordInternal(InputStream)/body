{
  final byte recordType=(byte)stream.read();
  final ORecordInternal<?> record=Orient.instance().getRecordFactoryManager().newInstance(recordType);
  final ORecordId recordId=readRecordId(stream);
  final ORecordVersion version=OVersionFactory.instance().createVersion();
  version.getSerializer().readFrom(stream,version);
  final int length=OBinaryProtocol.bytes2int(stream);
  final byte[] bytes=readFully(stream,0,length);
  record.fill(recordId,version,bytes,false);
  return record;
}
