{
  OCluster cluster=getClusterById(iClusterId);
  final long timer=OProfiler.getInstance().startChrono();
  final boolean locked=acquireSharedLock();
  try {
    final OPhysicalPosition ppos=cluster.getPhysicalPosition(iPosition,new OPhysicalPosition());
    if (ppos == null)     return null;
    return new ORawBuffer(data.readRecord(ppos.dataPosition),ppos.version,ppos.type);
  }
 catch (  IOException e) {
    throw new OStorageException("Error on read record in cluster: " + iClusterId,e);
  }
 finally {
    releaseSharedLock(locked);
    OProfiler.getInstance().stopChrono("OStorageMemory.readRecord",timer);
  }
}
