{
synchronized (syncObject) {
    if (!files.containsKey(fileId))     return;
    final OFileClassic file=files.get(fileId);
    final String osFileName=file.getName();
    if (osFileName.startsWith(oldFileName)) {
      final File newFile=new File(storageLocal.getStoragePath() + File.separator + newFileName+ osFileName.substring(osFileName.lastIndexOf(oldFileName) + oldFileName.length()));
      boolean renamed=file.renameTo(newFile);
      while (!renamed) {
        OMemoryWatchDog.freeMemoryForResourceCleanup(100);
        renamed=file.renameTo(newFile);
      }
    }
  }
}
