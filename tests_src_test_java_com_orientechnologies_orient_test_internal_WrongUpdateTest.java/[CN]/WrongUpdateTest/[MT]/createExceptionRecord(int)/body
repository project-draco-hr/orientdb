{
  ODatabaseDocumentTx database=new ODatabaseDocumentTx("plocal:indexExceptionTest");
  String ID=UUID.randomUUID().toString();
  try {
    database.open("admin","admin");
    int numRetries=0;
    while (numRetries < NUM_RETRIES) {
      try {
        ODocument document=database.newInstance("ExceptionRecord");
        document.field("id",ID);
        document.field("data",DATA);
        document.field("status","original");
        document.field("approved",false);
        document.field("groupNonException",false);
        document.field("comment","");
        document.field("jobId","1");
        document.field("dataflowName","Error_Handling_V5");
        document.field("username","admin");
        document.field("timestamp",1380118717674L);
        document.field("stageLabel","Exception Monitor");
        document.field("groupColumn","");
        document.field("lastModifiedBy","admin");
        document.field("lastModified",new Date());
        database.save(document);
        break;
      }
 catch (      Throwable e) {
        System.out.println("********************************");
        System.out.println("Create Iteration=" + numRetries + ", id="+ ID+ ", "+ e.toString());
        System.out.println("********************************");
        if (numRetries++ == NUM_RETRIES) {
          throw e;
        }
      }
    }
  }
  finally {
    if (database != null) {
      database.close();
    }
  }
  return ID;
}
