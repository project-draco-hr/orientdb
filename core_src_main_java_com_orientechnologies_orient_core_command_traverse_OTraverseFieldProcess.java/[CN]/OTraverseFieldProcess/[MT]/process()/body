{
  while (target.hasNext()) {
    field=target.next();
    final Object fieldValue;
    if (field instanceof OSQLFilterItem)     fieldValue=((OSQLFilterItem)field).getValue(((OTraverseRecordProcess)command.getContext().peek(-2)).getTarget(),null);
 else     fieldValue=((OTraverseRecordProcess)command.getContext().peek(-2)).getTarget().rawField(field.toString());
    if (fieldValue != null) {
      final OTraverseAbstractProcess<?> subProcess;
      if (fieldValue instanceof Iterator<?> || OMultiValue.isMultiValue(fieldValue))       subProcess=new OTraverseMultiValueProcess(command,OMultiValue.getMultiValueIterator(fieldValue));
 else       if (fieldValue instanceof OIdentifiable && ((OIdentifiable)fieldValue).getRecord() instanceof ODocument)       subProcess=new OTraverseRecordProcess(command,(ODocument)((OIdentifiable)fieldValue).getRecord());
 else       continue;
      final OIdentifiable subValue=subProcess.process();
      if (subValue != null)       return subValue;
    }
  }
  return drop();
}
