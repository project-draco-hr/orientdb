{
  final int size=(file.getFilledUpTo() / RECORD_SIZE);
  for (int i=0; i < size; ++i) {
    int offset=i * RECORD_SIZE;
    final byte status=file.readByte(offset);
    offset+=OConstants.SIZE_BYTE;
    if (status != STATUS_FREE) {
      offset+=OConstants.SIZE_BYTE;
      offset+=OConstants.SIZE_INT;
      offset+=OConstants.SIZE_SHORT;
      offset+=OConstants.SIZE_LONG;
      final int oldDataId=file.readInt(offset);
      if (iDataSegmentId == oldDataId) {
        offset+=OConstants.SIZE_INT;
        final long oldDataOffset=file.readLong(offset);
        if (oldDataOffset == iSourcePosition) {
          file.writeLong(offset,iDestinationPosition);
        }
      }
    }
  }
}
