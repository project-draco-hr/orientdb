{
  final OCachedRecord cachedRecord;
  if (record instanceof ODocument)   cachedRecord=new OCachedDocument((ODocument)record);
 else   if (record instanceof ORecordBytes)   cachedRecord=new OCachedRecordBytes((ORecordBytes)record);
 else {
    OLogManager.instance().warn(this,"Unsupported record type: " + record);
    return;
  }
  cache.put(new OCachedRID(cachedRecord.getIdentity()),cachedRecord);
}
