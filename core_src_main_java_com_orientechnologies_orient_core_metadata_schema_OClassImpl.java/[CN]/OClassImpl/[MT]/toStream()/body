{
  document.setStatus(STATUS.UNMARSHALLING);
  try {
    document.field("name",name);
    document.field("shortName",shortName);
    document.field("id",id);
    document.field("defaultClusterId",defaultClusterId);
    document.field("clusterIds",clusterIds);
    document.field("overSize",overSize);
    Set<ODocument> props=new HashSet<ODocument>();
    for (    OProperty p : properties.values()) {
      props.add(((OPropertyImpl)p).toStream());
    }
    document.field("properties",props,OType.EMBEDDEDSET);
    if (superClass != null)     document.field("superClass",superClass.getName());
  }
  finally {
    document.setStatus(STATUS.LOADED);
  }
  return document;
}
