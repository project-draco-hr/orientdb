{
  try {
    if (segment.getFile().exists())     segment.open();
 else {
      segment.create(START_SIZE);
      final ORawBuffer rawRecord=storage.readRecord(null,0,CONFIGURATION_RID,null);
      if (rawRecord != null)       fromStream(rawRecord.buffer);
      update();
      return this;
    }
    final int size=segment.getFile().readInt(0);
    byte[] buffer=new byte[size];
    segment.getFile().read(OConstants.SIZE_INT,buffer,size);
    fromStream(buffer);
  }
 catch (  Exception e) {
    throw new OSerializationException("Can't load database's configuration. The database seems to be corrupted.");
  }
  return this;
}
