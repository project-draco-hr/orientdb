{
  long fileId=buffer.openFile(fileConfiguration,".tst");
  long[] pointers;
  pointers=new long[4];
  for (int i=0; i < 4; i++) {
    pointers[i]=buffer.loadAndLockForWrite(fileId,i);
    directMemory.set(pointers[i],new byte[]{(byte)i,1,2,seed,4,5,6,(byte)i},8);
    buffer.releaseWriteLock(fileId,i);
  }
  LRUList am=buffer.getAm();
  LRUList a1in=buffer.getA1in();
  LRUList a1out=buffer.getA1out();
  Assert.assertEquals(am.size(),0);
  Assert.assertEquals(a1out.size(),0);
  for (int i=0; i < 4; i++) {
    LRUEntry entry=generateEntry(fileId,i,pointers[i]);
    Assert.assertEquals(a1in.get(entry.fileId,entry.pageIndex),entry);
  }
  Assert.assertEquals(buffer.getFilledUpTo(fileId),4);
  buffer.closeFile(fileId);
  Assert.assertEquals(buffer.getA1out().size(),0);
  Assert.assertEquals(buffer.getA1in().size(),0);
  Assert.assertEquals(buffer.getAm().size(),0);
}
