{
  database.open("admin","admin");
  OMVRBTreeRIDSet set=new OMVRBTreeRIDSet("index");
  for (int i=0; i < 10000; ++i)   set.add(new ORecordId(10,i));
  Assert.assertEquals(set.size(),10000);
  ODocument doc=set.toDocument();
  doc.save();
  database.close();
  database.open("admin","admin");
  OMVRBTreeRIDSet set2=new OMVRBTreeRIDSet(doc.getIdentity());
  Assert.assertEquals(set2.size(),10000);
  int i=0;
  for (  OIdentifiable rid : set2)   Assert.assertEquals(rid.getIdentity().getClusterPosition(),i++);
  database.close();
}
