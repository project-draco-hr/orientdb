{
  listener.onMessage("\nImporting database dictionary...");
  jsonReader.readNext(OJSONReader.BEGIN_OBJECT);
  jsonReader.checkContent("\"dictionary\":");
  String dictionaryKey;
  String dictionaryValue;
  final ODocument doc=new ODocument(database);
  final ORecordId rid=new ORecordId();
  long tot=0;
  try {
    do {
      dictionaryKey=jsonReader.readNext(OJSONReader.FIELD_ASSIGNMENT).checkContent("\"key\"").readString(OJSONReader.COMMA_SEPARATOR);
      dictionaryValue=jsonReader.readNext(OJSONReader.FIELD_ASSIGNMENT).checkContent("\"value\"").readString(OJSONReader.NEXT_IN_OBJECT);
      if (dictionaryValue.length() >= 4)       rid.fromString(dictionaryValue.substring(1));
      database.getDictionary().put(dictionaryKey,doc);
      tot++;
    }
 while (jsonReader.lastChar() == ',');
    listener.onMessage("OK (" + tot + " entries)");
    jsonReader.readNext(OJSONReader.COMMA_SEPARATOR);
  }
 catch (  Exception e) {
    listener.onMessage("ERROR (" + tot + " entries): "+ e);
  }
  return tot;
}
