{
  int level=buffer[pointer + SIZE_OFFSET];
  int buddy=buddy(pointer,level);
  while (level < maxLevel && buffer[buddy + TAG_OFFSET] == TAG_FREE && buffer[buddy + SIZE_OFFSET] == level) {
    removeFromFreeList(level,buddy);
    if (buddy < pointer) {
      pointer=buddy;
    }
    level++;
    buddy=buddy(pointer,level);
  }
  buffer[pointer + TAG_OFFSET]=TAG_FREE;
  buffer[pointer + SIZE_OFFSET]=(byte)(level & 0xFF);
  addNodeToTail(level,pointer);
}
