{
  final ODatabaseRecord currentDatabase=ODatabaseRecordThreadLocal.INSTANCE.get();
  db=(OGraphDatabase)(currentDatabase instanceof OGraphDatabase ? currentDatabase : new OGraphDatabase((ODatabaseRecordTx)currentDatabase));
  destinationVertex=(OIdentifiable)iParameters[0];
  weightFieldName=(String)iParameters[1];
  settledNodes=new HashSet<ODocument>();
  unSettledNodes=new HashSet<ODocument>();
  distance=new HashMap<ODocument,Float>();
  predecessors=new HashMap<ODocument,ODocument>();
  distance.put((ODocument)iCurrentRecord.getRecord(),0f);
  unSettledNodes.add((ODocument)iCurrentRecord.getRecord());
  while (unSettledNodes.size() > 0) {
    ODocument node=getMinimum(unSettledNodes);
    settledNodes.add(node);
    unSettledNodes.remove(node);
    findMinimalDistances(node);
  }
  return getPath(destinationVertex);
}
