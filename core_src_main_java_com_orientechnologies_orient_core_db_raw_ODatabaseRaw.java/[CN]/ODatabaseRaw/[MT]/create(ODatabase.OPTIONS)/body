{
  try {
    if (status == STATUS.OPEN)     throw new IllegalStateException("Database " + getName() + " is already open");
    if (iOptions != null && iOptions.length > 0) {
      for (      OPTIONS o : iOptions)       setProperty(o.toString(),o);
    }
    if (storage == null)     storage=Orient.instance().loadStorage(url);
    storage.create(properties);
    for (    ODatabaseLifecycleListener it : Orient.instance().getDbLifecycleListeners())     it.onOpen(getDatabaseOwner());
    for (    ODatabaseListener listener : listeners)     try {
      listener.onCreate(this);
    }
 catch (    Throwable t) {
    }
    status=STATUS.OPEN;
  }
 catch (  Exception e) {
    throw new ODatabaseException("Can't create database",e);
  }
  return (DB)this;
}
