{
  final ORecord record=value.getRecord();
  if (record == null) {
    OLogManager.instance().warn(this,"The index has an invalid record, maybe deleted: %s",value);
    return true;
  }
  if (record instanceof ORecordSchemaAware<?>) {
    final ORecordSchemaAware<?> recordSchemaAware=(ORecordSchemaAware<?>)record;
    final Map<OClass,String> targetClasses=parsedTarget.getTargetClasses();
    if ((targetClasses != null) && (!targetClasses.isEmpty())) {
      for (      OClass targetClass : targetClasses.keySet()) {
        if (!targetClass.isSuperClassOf(recordSchemaAware.getSchemaClass()))         return true;
      }
    }
  }
  if (compiledFilter == null || Boolean.TRUE.equals(compiledFilter.evaluate(record,null,context)))   return handleResult(record,true);
  return true;
}
