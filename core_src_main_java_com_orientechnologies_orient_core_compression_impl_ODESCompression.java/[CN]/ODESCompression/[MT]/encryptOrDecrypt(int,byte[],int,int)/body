{
  if (!initialized)   throw new OSecurityException("des-encrypted compression is not available");
  Cipher cipher=Cipher.getInstance(transformation);
  cipher.init(mode,theKey);
  byte[] content;
  if (offset == 0 && length == input.length) {
    content=input;
  }
 else {
    content=new byte[length];
    System.arraycopy(input,offset,content,0,length);
    System.out.println("** content: " + Arrays.toString(content));
  }
  byte[] output=cipher.doFinal(content);
  return output;
}
