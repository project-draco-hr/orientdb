{
  acquireExclusiveLock();
  try {
    if (!removed.isEmpty()) {
      final OPhysicalPosition recycledPosition=removed.remove(removed.size() - 1);
      iPPosition.clusterPosition=recycledPosition.clusterPosition;
      iPPosition.recordVersion=recycledPosition.recordVersion + 1;
      entries.set(recycledPosition.clusterPosition.intValue(),iPPosition);
    }
 else {
      iPPosition.clusterPosition=allocateRecord(iPPosition);
      iPPosition.recordVersion=0;
      entries.add(iPPosition);
    }
  }
  finally {
    releaseExclusiveLock();
  }
  return true;
}
