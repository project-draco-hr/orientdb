{
  if (!enabled)   return null;
  ORecordInternal<?> record;
  acquireSharedLock();
  try {
    record=entries.get(iRID);
  }
  finally {
    releaseSharedLock();
  }
  if (record == null) {
    record=level2cache.retrieveRecord(iRID);
    if (record != null) {
      record.setDatabase(database);
      acquireExclusiveLock();
      try {
        entries.put(record.getIdentity(),record);
      }
  finally {
        releaseExclusiveLock();
      }
    }
  }
  OProfiler.getInstance().updateCounter(record != null ? PROFILER_CACHE_FOUND : PROFILER_CACHE_NOTFOUND,+1);
  return record;
}
