{
  final String dbPooledName=iDatabase instanceof ODatabaseComplex ? ((ODatabaseComplex<?>)iDatabase).getUser().getName() + "@" + iDatabase.getName() : iDatabase.getName();
  final OResourcePool<String,DB> pool=pools.get(dbPooledName);
  if (pool == null)   throw new OLockException("Can't release a database URL not acquired before. URL: " + iDatabase.getName());
  pool.returnResource(iDatabase);
}
