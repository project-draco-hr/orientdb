{
  if (!OSchemaShared.checkClassNameIfValid(className))   throw new OSchemaException("Invalid class name found. Only UNICODE AlphaNumeric characters can be used in class name '" + className + "'");
  OClass result;
  int retry=0;
  while (true)   try {
    result=doCreateClass(className,superClass,clusterIds,retry);
    break;
  }
 catch (  ClusterIdsAreEmptyException e) {
    classes.remove(className.toLowerCase());
    clusterIds=createClusters(className);
    retry++;
  }
  return result;
}
