{
  ODatabaseDocumentTx db=OSharedDocumentDatabase.acquire(dbName,iUser,iPassword);
  if (db.isClosed())   if (db.getStorage() instanceof OStorageMemory)   db.create();
 else   db.open(iUser,iPassword);
  underlyingDatabase=((ODatabaseRaw)((ODatabaseComplex<?>)db.getUnderlying()).getUnderlying());
  return db;
}
