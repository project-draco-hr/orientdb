{
  Analyzer analyzer=null;
  if (metadata != null) {
    String analyzerString=metadata.field("analyzer");
    if (analyzerString != null) {
      try {
        Class classAnalyzer=Class.forName(analyzerString);
        Constructor constructor=classAnalyzer.getConstructor(Version.class);
        analyzer=(Analyzer)constructor.newInstance(Version.LUCENE_47);
      }
 catch (      ClassNotFoundException e) {
        e.printStackTrace();
      }
catch (      NoSuchMethodException e) {
        e.printStackTrace();
      }
catch (      InvocationTargetException e) {
        e.printStackTrace();
      }
catch (      InstantiationException e) {
        e.printStackTrace();
      }
catch (      IllegalAccessException e) {
        e.printStackTrace();
      }
    }
  }
 else {
    analyzer=new StandardAnalyzer(Version.LUCENE_47);
  }
  return analyzer;
}
