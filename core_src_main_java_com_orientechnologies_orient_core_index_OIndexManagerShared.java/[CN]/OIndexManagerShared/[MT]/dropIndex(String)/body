{
  if (getDatabase().getTransaction().isActive())   throw new IllegalStateException("Cannot drop an index inside a transaction");
  acquireExclusiveLock();
  try {
    final OIndex<?> idx=indexes.remove(iIndexName.toLowerCase());
    if (idx != null) {
      removeClassPropertyIndex(idx);
      getDatabase().unregisterListener(idx.getInternal());
      idx.delete();
      setDirty();
      save();
    }
    return this;
  }
  finally {
    releaseExclusiveLock();
  }
}
