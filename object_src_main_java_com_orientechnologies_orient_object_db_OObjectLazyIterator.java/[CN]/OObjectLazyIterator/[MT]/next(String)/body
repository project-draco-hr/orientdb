{
  final Object value=underlying.next();
  if (value == null)   return null;
  if (value instanceof ORID && autoConvert2Object) {
    currentElement=(OIdentifiable)value;
    TYPE o=database.getUserObjectByRecord((ORecordInternal<?>)((ODatabaseRecord)database.getUnderlying()).load((ORID)value,iFetchPlan),iFetchPlan);
    ((OObjectProxyMethodHandler)(((ProxyObject)o)).getHandler()).setParentObject(sourceRecord);
    return o;
  }
 else   if (value instanceof ODocument && autoConvert2Object) {
    currentElement=(OIdentifiable)value;
    TYPE o=database.getUserObjectByRecord((ODocument)value,iFetchPlan);
    ((OObjectProxyMethodHandler)(((ProxyObject)o)).getHandler()).setParentObject(sourceRecord);
    return o;
  }
 else {
    currentElement=database.getRecordByUserObject(value,false);
  }
  if (OObjectEntitySerializer.isToSerialize(value.getClass()))   return (TYPE)OObjectEntitySerializer.deserializeFieldValue(value.getClass(),value);
  return (TYPE)value;
}
