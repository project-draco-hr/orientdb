{
  List<OWALRecord> writtenRecords=new ArrayList<OWALRecord>();
  Random rnd=new Random();
  final int recordsToWrite=80;
  for (int i=0; i < recordsToWrite; i++) {
    long pageIndex=rnd.nextLong();
    OUpdatePageRecord setPageDataRecord=new OUpdatePageRecord(pageIndex,"test");
    writtenRecords.add(setPageDataRecord);
    writeAheadLog.logRecord(setPageDataRecord);
  }
  writeAheadLog.flushTillLSN(writtenRecords.get(70).getLsn());
  writeAheadLog.close(false);
  writeAheadLog=createWAL();
  assertLogContent(writeAheadLog,writtenRecords.subList(0,71));
  Assert.assertNull(writeAheadLog.read(writtenRecords.get(71).getLsn()));
}
