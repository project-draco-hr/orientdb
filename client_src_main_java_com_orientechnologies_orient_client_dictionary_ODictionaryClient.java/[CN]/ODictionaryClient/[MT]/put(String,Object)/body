{
  if (iKey == null)   return null;
  ORecordInternal<?> record=database.getRecordByUserObject(iValue,false);
  if (record.isDirty())   record.save();
  ORecordInternal<?> oldRecord=storage.dictionaryPut(database,iKey,record);
  return (T)database.getUserObjectByRecord(oldRecord,null);
}
