{
  Collection<OProperty> indexedProps=null;
  OImmutableClass currentClass=this;
  do {
    for (    OProperty p : currentClass.properties.values())     if (areIndexed(p.getName())) {
      if (indexedProps == null)       indexedProps=new ArrayList<OProperty>();
      indexedProps.add(p);
    }
    currentClass=(OImmutableClass)schema.getClass(currentClass.superClass);
  }
 while (currentClass != null);
  return (Collection<OProperty>)(indexedProps != null ? Collections.unmodifiableCollection(indexedProps) : Collections.emptyList());
}
