{
  if (continuousWrite.get()) {
    int result=new Random().nextInt(FILE_COUNT - 1);
    for (int i=0; i < FILE_COUNT; ++i) {
      if (pageCounters.get((result + i) % FILE_COUNT) < PAGE_COUNT) {
        return (result + i) % FILE_COUNT;
      }
    }
  }
 else {
    int result=new Random().nextInt(FILE_COUNT - 1);
    for (int i=0; i < FILE_COUNT; ++i) {
      if (!pagesQueue.get((result + i) % FILE_COUNT).isEmpty()) {
        return (result + i) % FILE_COUNT;
      }
    }
  }
  return -1;
}
