{
  final OClass docClass=getSchemaClass();
  if (docClass == null) {
    _immutableClazz=null;
    _immutableSchemaVersion=-1;
    return null;
  }
  final OSchema immutableSchema=getDatabase().getMetadata().getImmutableSchemaSnapshot();
  if (_immutableClazz == null) {
    _immutableSchemaVersion=immutableSchema.getVersion();
    _immutableClazz=immutableSchema.getClass(docClass.getName());
  }
 else {
    if (_immutableSchemaVersion < immutableSchema.getVersion()) {
      _immutableSchemaVersion=immutableSchema.getVersion();
      _immutableClazz=immutableSchema.getClass(docClass.getName());
    }
  }
  return _immutableClazz;
}
