{
  database.getEntityManager().registerEntityClass(CustomClass.class);
  OObjectSerializerContext serializerContext=new OObjectSerializerContext();
  serializerContext.bind(new OObjectSerializer<CustomType,Long>(){
    public Long serializeFieldValue(    Object iPojo,    String iFieldName,    CustomType iFieldValue){
      serialized++;
      return iFieldValue.value;
    }
    public CustomType unserializeFieldValue(    Object iPojo,    String iFieldName,    Long iFieldValue){
      unserialized++;
      return new CustomType(iFieldValue);
    }
  }
);
  OObjectSerializerHelper.bindSerializerContext(null,serializerContext);
  CustomClass pojo=new CustomClass("test",new CustomType(100l));
  database.save(pojo);
  Assert.assertEquals(serialized,1);
  Assert.assertEquals(unserialized,0);
  database.reload(pojo);
  Assert.assertEquals(serialized,1);
  Assert.assertEquals(unserialized,1);
}
