{
  String javaExec=System.getProperty("java.home") + "/bin/java";
  System.setProperty("ORIENTDB_HOME",buildDirectory);
  final String testMode=System.getProperty("orient.server.testMode");
  final String testPort=System.getProperty("orient.server.port");
  final ProcessBuilder processBuilder;
  if (testMode != null && testPort != null) {
    processBuilder=new ProcessBuilder(javaExec,"-Xmx2048m","-classpath",System.getProperty("java.class.path"),"-DORIENTDB_HOME=" + buildDirectory,"-Dorient.server.testMode=" + testMode,"-Dorient.server.port=" + testPort,RemoteDBRunner.class.getName(),getDatabaseName(),"" + drop,storageType);
  }
 else {
    processBuilder=new ProcessBuilder(javaExec,"-Xmx2048m","-classpath",System.getProperty("java.class.path"),"-DORIENTDB_HOME=" + buildDirectory,RemoteDBRunner.class.getName(),getDatabaseName(),"" + drop,storageType);
  }
  process=processBuilder.start();
  BufferedReader reader=new BufferedReader(new InputStreamReader(process.getInputStream()));
  String line;
  do {
    line=reader.readLine();
  }
 while (!"started".equals(line));
}
