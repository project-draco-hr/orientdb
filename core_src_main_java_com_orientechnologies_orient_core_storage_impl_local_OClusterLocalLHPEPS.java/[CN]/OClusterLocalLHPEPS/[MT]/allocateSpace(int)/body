{
  long[] pos=fileSegment.allocateSpace(size);
  byte[] buffer=new byte[1024];
  for (int i=(int)pos[0]; i < fileSegment.files.length; i++) {
    final OFile file=fileSegment.files[i];
    for (long j=pos[1]; j < pos[1] + size; j+=1024) {
      if (j + 1024 < pos[1] + size)       file.write(j,buffer);
 else {
        buffer=new byte[(int)(pos[1] + size - j)];
        file.write(j,buffer);
      }
    }
  }
}
