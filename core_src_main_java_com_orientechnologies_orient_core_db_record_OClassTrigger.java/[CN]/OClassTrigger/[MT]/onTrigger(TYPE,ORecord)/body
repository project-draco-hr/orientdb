{
  if (ODatabaseRecordThreadLocal.INSTANCE.isDefined() && ODatabaseRecordThreadLocal.INSTANCE.get().getStatus() != STATUS.OPEN)   return RESULT.RECORD_NOT_CHANGED;
  if (!(iRecord instanceof ODocument))   return RESULT.RECORD_NOT_CHANGED;
  final ODocument document=(ODocument)iRecord;
  if (ODocumentInternal.getImmutableSchemaClass(document) != null && ODocumentInternal.getImmutableSchemaClass(document).isSubClassOf(CLASSNAME))   return super.onTrigger(iType,iRecord);
  return RESULT.RECORD_NOT_CHANGED;
}
