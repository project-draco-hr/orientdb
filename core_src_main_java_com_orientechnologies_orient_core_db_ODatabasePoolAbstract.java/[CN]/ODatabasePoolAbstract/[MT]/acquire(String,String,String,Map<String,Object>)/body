{
  int separatorPos=iURL.lastIndexOf('/');
  final String name;
  if (separatorPos > -1)   name=iURL.substring(separatorPos + 1);
 else {
    separatorPos=iURL.lastIndexOf(':');
    if (separatorPos > -1)     name=iURL.substring(separatorPos + 1);
 else     name=iURL;
  }
  final String dbPooledName=iUserName + "@" + name;
  OResourcePool<String,DB> pool=pools.get(dbPooledName);
  if (pool == null) {
synchronized (pools) {
      pool=pools.get(dbPooledName);
      if (pool == null) {
        pool=new OResourcePool<String,DB>(maxSize,this);
        pools.put(dbPooledName,pool);
      }
    }
  }
  return pool.getResource(iURL,timeout,iUserName,iUserPassword,iOptionalParams);
}
