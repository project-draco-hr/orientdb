{
  database=ODatabaseObjectPool.global().acquire(url,"admin","admin");
  database.getLevel1Cache().invalidate();
  database.getLevel2Cache().clear();
  int i=0;
  for (  Account a : database.browseClass(Account.class).setFetchPlan("*:-1")) {
    Assert.assertTrue(a.getId() == i);
    Assert.assertEquals(a.getName(),"Bill");
    Assert.assertEquals(a.getSurname(),"Gates");
    Assert.assertEquals(a.getSalary(),i + 300.1f);
    Assert.assertEquals(a.getAddresses().size(),1);
    Assert.assertEquals(a.getAddresses().get(0).getCity().getName(),rome.getName());
    Assert.assertEquals(a.getAddresses().get(0).getCity().getCountry().getName(),rome.getCountry().getName());
    i++;
  }
  Assert.assertTrue(i == TOT_RECORDS);
  database.close();
}
