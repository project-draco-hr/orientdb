{
switch (version.getCounter()) {
case -1:
    iDatabaseVersion.increment();
  break;
case -2:
iDatabaseVersion.setCounter(-2);
break;
default :
if (!version.equals(iDatabaseVersion)) {
final ORecordConflictStrategy strategy=iCluster.getRecordConflictStrategy() != null ? iCluster.getRecordConflictStrategy() : recordConflictStrategy;
return strategy.onUpdate(iRecordType,rid,version,iRecordContent,iDatabaseVersion);
}
iDatabaseVersion.increment();
}
return null;
}
