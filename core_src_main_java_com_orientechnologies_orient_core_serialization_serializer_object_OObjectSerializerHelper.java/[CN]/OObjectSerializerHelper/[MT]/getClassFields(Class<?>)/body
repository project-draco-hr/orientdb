{
synchronized (classes) {
    if (classes.containsKey(iClass.getName()))     return classes.get(iClass.getName());
    List<Field> properties=new ArrayList<Field>();
    classes.put(iClass.getName(),properties);
    System.out.println("Created class " + iClass);
    String fieldName;
    int fieldModifier;
    boolean autoBinding;
    for (Class<?> currentClass=iClass; currentClass != Object.class; ) {
      for (      Field f : currentClass.getDeclaredFields()) {
        fieldModifier=f.getModifiers();
        if (Modifier.isStatic(fieldModifier) || Modifier.isNative(fieldModifier) || Modifier.isTransient(fieldModifier))         continue;
        properties.add(f);
        fieldName=f.getName();
        autoBinding=f.getAnnotation(ORawBinding.class) == null;
        if (f.getAnnotation(ODocumentInstance.class) != null)         boundDocumentFields.put(iClass.getName(),fieldName);
        if (autoBinding)         try {
          String getterName="get" + Character.toUpperCase(fieldName.charAt(0)) + fieldName.substring(1);
          Method m=currentClass.getMethod(getterName,NO_ARGS);
          getters.put(iClass.getName() + "." + fieldName,m);
        }
 catch (        Exception e) {
          registerFieldGetter(iClass,fieldName,f);
        }
 else         registerFieldGetter(iClass,fieldName,f);
        if (autoBinding)         try {
          String getterName="set" + Character.toUpperCase(fieldName.charAt(0)) + fieldName.substring(1);
          Method m=currentClass.getMethod(getterName,f.getType());
          setters.put(iClass.getName() + "." + fieldName,m);
        }
 catch (        Exception e) {
          registerFieldSetter(iClass,fieldName,f);
        }
 else         registerFieldSetter(iClass,fieldName,f);
      }
      registerCallbacks(iClass,currentClass);
      currentClass=currentClass.getSuperclass();
      if (currentClass.equals(ODocument.class))       currentClass=Object.class;
    }
    return properties;
  }
}
