{
  String className=null;
  if (id != null && id instanceof String && id.toString().startsWith(CLASS_PREFIX))   className=id.toString().substring(CLASS_PREFIX.length());
  final Object[] fields=settings.saveOriginalIds && id != null ? new Object[]{OrientElement.DEF_ORIGINAL_ID_FIELDNAME,id} : null;
  if (outVertex instanceof PartitionVertex)   outVertex=((PartitionVertex)outVertex).getBaseVertex();
  if (inVertex instanceof PartitionVertex)   inVertex=((PartitionVertex)inVertex).getBaseVertex();
  return ((OrientVertex)outVertex).addEdge(label,(OrientVertex)inVertex,className,null,fields);
}
