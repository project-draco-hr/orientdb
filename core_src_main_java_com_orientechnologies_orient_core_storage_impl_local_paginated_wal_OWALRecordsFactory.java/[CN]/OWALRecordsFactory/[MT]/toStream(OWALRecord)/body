{
  int contentSize=walRecord.serializedSize() + 1;
  byte[] content=new byte[contentSize];
  if (walRecord instanceof OSetPageDataRecord)   content[0]=0;
 else   if (walRecord instanceof OShiftPageDataRecord)   content[0]=1;
 else   if (walRecord instanceof OStartAtomicPageUpdateRecord)   content[0]=2;
 else   if (walRecord instanceof OEndAtomicPageUpdateRecord)   content[0]=3;
 else   if (walRecord instanceof OCheckpointStartRecord)   content[0]=4;
 else   if (walRecord instanceof OCheckpointEndRecord)   content[0]=5;
 else   throw new IllegalArgumentException(walRecord.getClass().getName() + " class can not be serialized.");
  walRecord.toStream(content,1);
  return content;
}
