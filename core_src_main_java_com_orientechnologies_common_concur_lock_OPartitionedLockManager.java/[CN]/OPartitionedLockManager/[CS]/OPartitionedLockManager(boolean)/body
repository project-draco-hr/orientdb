{
  this.useSpinLock=useSpinLock;
  if (useSpinLock) {
    OReadersWriterSpinLock[] lcks=new OReadersWriterSpinLock[CONCURRENCY_LEVEL];
    for (int i=0; i < lcks.length; i++)     lcks[i]=new OReadersWriterSpinLock();
    spinLocks=lcks;
    locks=null;
  }
 else {
    ReadWriteLock[] lcks=new ReadWriteLock[CONCURRENCY_LEVEL];
    for (int i=0; i < lcks.length; i++)     lcks[i]=new ReentrantReadWriteLock();
    locks=lcks;
    spinLocks=null;
  }
}
