{
  final AssertDataFunction assertDataFunction=new AssertDataFunction(){
    @Override public void assertData(    long[] data) throws AssertionError {
      Assert.assertEquals(data[0],10000000);
      Assert.assertEquals(data[1],10000000 / 1024);
    }
  }
;
  final GetDataFunction getDataFunction=new GetDataFunction(){
    @Override public long[] getData(    OStoragePerformanceStatisticMXBean storagePerformanceStatistic){
      final long[] result=new long[2];
      result[0]=storagePerformanceStatistic.getWriteSpeedInCacheInPages();
      result[1]=storagePerformanceStatistic.getWriteSpeedInCacheInMB();
      return result;
    }
  }
;
  final LoadLoop loadLoop=new LoadLoop(){
    @Override public void execute(    OStoragePerformanceStatistic storagePerformanceStatistic,    boolean measurementStopped){
      storagePerformanceStatistic.startCommitTimer();
      storagePerformanceStatistic.startPageWriteToCacheTimer();
      storagePerformanceStatistic.stopPageWriteToCacheTimer();
      storagePerformanceStatistic.stopCommitTimer();
    }
  }
;
  testNoMBeanCase("testWriteSpeedToCache",loadLoop,getDataFunction,assertDataFunction);
  testMBeanCase("testWriteSpeedToCache",loadLoop,getDataFunction,assertDataFunction);
}
