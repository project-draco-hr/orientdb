{
  if (iClassName == null)   return null;
  OClass cls;
  rwLock.readLock().lock();
  try {
    cls=classes.get(iClassName.toLowerCase());
    if (cls != null)     return cls;
  }
  finally {
    rwLock.readLock().unlock();
  }
  if (getDatabase().getDatabaseOwner() instanceof ODatabaseObject) {
    rwLock.writeLock().lock();
    try {
      cls=classes.get(iClassName.toLowerCase());
      if (cls == null) {
        final ODatabase ownerDb=getDatabase().getDatabaseOwner();
        if (ownerDb instanceof ODatabaseObject) {
          final Class<?> javaClass=((ODatabaseObject)ownerDb).getEntityManager().getEntityClass(iClassName);
          if (javaClass != null) {
            cls=cascadeCreate(javaClass);
          }
        }
      }
      return cls;
    }
  finally {
      rwLock.writeLock().unlock();
    }
  }
  return null;
}
