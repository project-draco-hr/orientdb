{
  isRunning=true;
  OLogManager.instance().info(this,"Executing scheduled event '%s'...",getName());
  Object result=null;
  try {
    if (db != null)     ODatabaseRecordThreadLocal.INSTANCE.set(db);
    document.field(PROP_STATUS,STATUS.RUNNING);
    document.field(PROP_STARTTIME,System.currentTimeMillis());
    document.save();
    result=function.execute(getArguments());
  }
  finally {
    OLogManager.instance().info(this,"Scheduled event '%s' completed with result: %s",getName(),result);
    document.field(PROP_STATUS,STATUS.WAITING);
    document.save();
    isRunning=false;
  }
  return result;
}
