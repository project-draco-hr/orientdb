{
synchronized (syncObject) {
    close(flush);
    for (    LogSegment logSegment : logSegments)     logSegment.delete(false);
    boolean deleted=masterRecordFile.delete();
    while (!deleted) {
      OMemoryWatchDog.freeMemoryForResourceCleanup(100);
      deleted=!masterRecordFile.exists() || masterRecordFile.delete();
    }
  }
}
