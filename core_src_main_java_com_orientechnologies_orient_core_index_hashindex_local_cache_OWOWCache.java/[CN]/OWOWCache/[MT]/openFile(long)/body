{
  filesLock.acquireWriteLock();
  try {
    initNameIdMapping();
    final OFileClassic fileClassic=files.get(fileId);
    if (fileClassic == null)     throw new OStorageException("File with id " + fileId + " does not exist.");
    openFile(fileClassic);
  }
  finally {
    filesLock.releaseWriteLock();
  }
}
