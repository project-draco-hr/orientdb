{
  defaultSettings();
  OLogManager.installCustomFormatter();
  threadGroup=new ThreadGroup("OrientDB Server");
  OGlobalConfiguration.STORAGE_KEEP_OPEN.setValue(true);
  System.setProperty("com.sun.management.jmxremote","true");
  if (OGlobalConfiguration.PROFILER_ENABLED.getValueAsBoolean() && !Orient.instance().getProfiler().isRecording())   Orient.instance().getProfiler().startRecording();
  shutdownHook=new OServerShutdownHook();
  Orient.instance().getProfiler().registerHookValue("system.databases","List of databases configured in Server",METRIC_TYPE.TEXT,new OProfilerHookValue(){
    @Override public Object getValue(){
      final StringBuilder dbs=new StringBuilder();
      for (      String dbName : getAvailableStorageNames().keySet()) {
        if (dbs.length() > 0)         dbs.append(',');
        return dbs.append(dbName);
      }
      return dbs.toString();
    }
  }
);
}
