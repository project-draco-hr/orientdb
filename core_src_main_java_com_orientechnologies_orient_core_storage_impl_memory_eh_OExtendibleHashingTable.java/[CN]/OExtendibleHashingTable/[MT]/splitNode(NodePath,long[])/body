{
  final long[] newNode=new long[MAX_LEVEL_SIZE];
  for (int i=MAX_LEVEL_SIZE / 2; i < MAX_LEVEL_SIZE; i++) {
    final long position=node[i];
    newNode[2 * (i - MAX_LEVEL_SIZE / 2)]=position;
    newNode[2 * (i - MAX_LEVEL_SIZE / 2) + 1]=position;
  }
  final long[] updatedNode=new long[node.length];
  for (int i=0; i < MAX_LEVEL_SIZE / 2; i++) {
    final long position=node[i];
    updatedNode[2 * i]=position;
    updatedNode[2 * i + 1]=position;
  }
  nodesMetadata[nodePath.nodeIndex].incrementLocalNodeDepth();
  hashTree[nodePath.nodeIndex]=updatedNode;
  return newNode;
}
