{
  Iterator<? extends OWALRecord> iterator=writtenRecords.iterator();
  OWALRecord writtenRecord=iterator.next();
  OWALRecord readRecord=writeAheadLog.read(writtenRecord.getLsn());
  Assert.assertEquals(writtenRecord,readRecord);
  while (iterator.hasNext()) {
    OLogSequenceNumber lsn=writeAheadLog.next(readRecord.getLsn());
    readRecord=writeAheadLog.read(lsn);
    writtenRecord=iterator.next();
    Assert.assertEquals(writtenRecord,readRecord);
  }
  Assert.assertNull(writeAheadLog.next(readRecord.getLsn()));
}
