{
  iRequest.data.commandInfo="Database export";
  ODatabaseRecord database=getProfiledDatabaseInstance(iRequest);
  iResponse.sendStatus(iRequest,OHttpUtils.STATUS_OK_CODE,OHttpUtils.STATUS_OK_DESCRIPTION);
  iResponse.sendResponseHeaders(iRequest,OHttpUtils.CONTENT_GZIP);
  iResponse.writeLine(iRequest,"Content-Disposition: attachment; filename=" + database.getName() + ".gz");
  iResponse.writeLine(iRequest,"Date: " + new Date());
  iResponse.writeLine(iRequest,null);
  ODatabaseExport export=new ODatabaseExport(database,new GZIPOutputStream(iResponse.getOutputStream()),this);
  export.exportDatabase();
  iResponse.flush();
}
