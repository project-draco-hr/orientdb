{
  if (hasNewItems()) {
    IdentityHashMap<ORecord<?>,Object> temp=null;
    for (Iterator<ORecord<?>> it=newItems.keySet().iterator(); it.hasNext(); ) {
      final ORecord<?> record=it.next();
      if (record.getIdentity().isNew())       record.save();
      if (record.getIdentity().isNew()) {
        if (temp == null)         temp=new IdentityHashMap<ORecord<?>,Object>();
        temp.put(record,NEWMAP_VALUE);
      }
 else       super.put(record.getIdentity(),null);
    }
    if (newItems != null)     newItems.clear();
    newItems=temp;
  }
  return true;
}
