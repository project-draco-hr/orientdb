{
synchronized (this) {
    OClass cls=ODatabaseRecordThreadLocal.INSTANCE.get().getMetadata().getSchema().getClass(DISTRIBUTED_CONFLICT_CLASS);
    final OProperty p;
    if (cls == null) {
      cls=ODatabaseRecordThreadLocal.INSTANCE.get().getMetadata().getSchema().createClass(DISTRIBUTED_CONFLICT_CLASS);
      index=cls.createProperty("record",OType.LINK).createIndex(INDEX_TYPE.UNIQUE);
    }
 else {
      p=cls.getProperty("record");
      if (p == null)       index=cls.createProperty("record",OType.LINK).createIndex(INDEX_TYPE.UNIQUE);
 else {
        index=p.getIndex();
      }
    }
  }
}
