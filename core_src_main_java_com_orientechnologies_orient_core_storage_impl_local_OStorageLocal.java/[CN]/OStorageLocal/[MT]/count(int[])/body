{
  checkOpeness();
  final boolean locked=lock.acquireSharedLock();
  try {
    long tot=0;
    OCluster c;
    for (int i=0; i < iClusterIds.length; ++i) {
      if (iClusterIds[i] >= clusters.length)       throw new OConfigurationException("Cluster id " + iClusterIds[i] + "was not found");
      c=clusters[iClusterIds[i]];
      if (c != null)       tot+=c.getEntries();
    }
    return tot;
  }
  finally {
    lock.releaseSharedLock(locked);
  }
}
