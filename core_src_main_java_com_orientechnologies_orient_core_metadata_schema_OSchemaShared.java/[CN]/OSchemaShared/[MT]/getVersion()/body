{
  return getDatabase().getStorage().callInLock(new Callable<Integer>(){
    @Override public Integer call() throws Exception {
      return document.getRecordVersion().getCounter();
    }
  }
,false);
}
