{
  int bufferSize=2 * OIntegerSerializer.INT_SIZE;
  bufferSize+=OLinkSerializer.INSTANCE.getObjectSize(parentRid) * 3;
  bufferSize+=OBooleanSerializer.BOOLEAN_SIZE;
  bufferSize+=OIntegerSerializer.INT_SIZE;
  for (int i=0; i < size; ++i)   bufferSize+=getKeySize(i);
  for (int i=0; i < size; ++i)   bufferSize+=getBinaryValueSize(i);
  byte[] outBuffer=new byte[bufferSize];
  int offset=serializeMetadata(outBuffer,size,pageSize,parentRid,leftRid,rightRid,color);
  for (int i=0; i < size; i++) {
    offset=serializeKey(outBuffer,offset,i);
  }
  for (int i=0; i < size; i++) {
    offset=serializeBinaryValue(outBuffer,offset,i);
  }
  buffer=outBuffer;
}
