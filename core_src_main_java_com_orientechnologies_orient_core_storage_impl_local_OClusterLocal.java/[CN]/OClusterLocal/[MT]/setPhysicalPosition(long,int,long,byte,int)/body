{
  iPosition=iPosition * RECORD_SIZE;
  acquireExclusiveLock();
  try {
    final long[] pos=fileSegment.getRelativePosition(iPosition);
    final OFile f=fileSegment.files[(int)pos[0]];
    long p=pos[1];
    f.writeShort(p,(short)iDataId);
    f.writeLong(p+=OBinaryProtocol.SIZE_SHORT,iDataPosition);
    f.writeByte(p+=OBinaryProtocol.SIZE_LONG,iRecordType);
    f.writeInt(p+=OBinaryProtocol.SIZE_BYTE,iVersion);
  }
  finally {
    releaseExclusiveLock();
  }
}
