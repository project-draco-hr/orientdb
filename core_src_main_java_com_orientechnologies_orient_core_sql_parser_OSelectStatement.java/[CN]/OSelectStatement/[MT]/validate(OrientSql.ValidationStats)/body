{
  if (this.target == null || this.target.item == null || this.target.item.cluster != null || this.target.item.clusterList != null || this.target.item.metadata != null || this.target.item.modifier != null || this.target.item.rids.size() > 0 || this.target.item.statement != null || !isClassTarget(this.target)) {
    if (stats.luceneCount > 0) {
      throw new OQueryParsingException("LUCENE condition is allowed only when query target is a Class");
    }
  }
  if (whereClause != null && whereClause.baseExpression.getNumberOfExternalCalculations() > 1) {
    StringBuilder exceptionText=new StringBuilder();
    exceptionText.append("Incompatible conditions found: \n");
    List<Object> conditions=whereClause.baseExpression.getExternalCalculationConditions();
    for (    Object condition : conditions) {
      exceptionText.append(condition.toString() + "\n");
    }
    throw new OQueryParsingException(exceptionText.toString());
  }
}
