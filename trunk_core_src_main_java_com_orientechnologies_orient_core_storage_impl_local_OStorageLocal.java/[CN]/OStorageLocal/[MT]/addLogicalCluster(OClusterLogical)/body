{
  int id=getLogicalClusterIndex(logicalClusters.size());
  iCluster.setId(id);
  try {
    registerLogicalCluster(iCluster);
    configuration.logicalClusters.add(new OStorageLogicalClusterConfiguration(iCluster.getName(),id,iCluster.getRID()));
    configuration.update();
    return id;
  }
 catch (  IOException e) {
    throw new ODatabaseException("Error on adding the new logical cluster: " + iCluster.getName(),e);
  }
}
