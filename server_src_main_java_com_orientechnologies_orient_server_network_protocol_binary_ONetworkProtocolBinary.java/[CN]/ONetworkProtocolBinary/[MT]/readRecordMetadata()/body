{
  setDataCommandInfo("Record metadata");
  final ORID rid=channel.readRID();
  beginResponse();
  try {
    final ORecordMetadata metadata=connection.database.getRecordMetadata(rid);
    if (metadata != null) {
      sendOk(clientTxId);
      channel.writeRID(metadata.getRecordId());
      channel.writeVersion(metadata.getRecordVersion());
    }
 else {
      throw new ODatabaseException(String.format("Record metadata for RID: %s, Not found",rid));
    }
  }
  finally {
    endResponse();
  }
}
