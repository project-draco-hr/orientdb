{
  int count=network.readInt();
  final HashMap<UUID,OBonsaiCollectionPointer> changes=new HashMap<UUID,OBonsaiCollectionPointer>();
  final OSBTreeCollectionManagerRemote collectionManager=(OSBTreeCollectionManagerRemote)ODatabaseRecordThreadLocal.INSTANCE.get().getSbTreeCollectionManager();
  for (int i=0; i < count; i++) {
    final long mBitsOfId=network.readLong();
    final long lBitsOfId=network.readLong();
    final OBonsaiCollectionPointer pointer=OCollectionNetworkSerializer.INSTANCE.readCollectionPointer(network);
    collectionManager.updateCollectionPointer(new UUID(mBitsOfId,lBitsOfId),pointer);
  }
  collectionManager.clearPendingCollections();
}
