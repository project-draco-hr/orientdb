{
  super(iDatabase,iLowLevelDatabase);
  polymorphic=iPolymorphic;
  clusterIds=polymorphic ? database.getMetadata().getSchema().getClass(iClassName).getPolymorphicClusterIds() : database.getMetadata().getSchema().getClass(iClassName).getClusterIds();
  currentClusterIdx=0;
  updateClusterRange();
  currentClusterPosition=firstClusterPosition - 1;
  totalAvailableRecords=database.countClusterElements(clusterIds);
  txEntries=iDatabase.getTransaction().getEntriesByClass(iClassName);
  if (txEntries != null)   for (  OTransactionEntry entry : txEntries) {
switch (entry.status) {
case OTransactionEntry.CREATED:
      totalAvailableRecords++;
    break;
case OTransactionEntry.DELETED:
  totalAvailableRecords--;
break;
}
}
}
