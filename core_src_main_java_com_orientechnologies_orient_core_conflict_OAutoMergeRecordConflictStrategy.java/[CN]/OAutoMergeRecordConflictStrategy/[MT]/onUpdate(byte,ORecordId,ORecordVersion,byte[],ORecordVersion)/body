{
  if (iRecordType == ODocument.RECORD_TYPE) {
    final ODocument storedRecord=rid.getRecord();
    final ODocument newRecord=new ODocument().fromStream(iRecordContent);
    storedRecord.merge(newRecord,false,true);
    iDatabaseVersion.setCounter(Math.max(iDatabaseVersion.getCounter(),iRecordVersion.getCounter()));
    return storedRecord.toStream();
  }
 else   checkVersions(rid,iRecordVersion,iDatabaseVersion);
  return null;
}
