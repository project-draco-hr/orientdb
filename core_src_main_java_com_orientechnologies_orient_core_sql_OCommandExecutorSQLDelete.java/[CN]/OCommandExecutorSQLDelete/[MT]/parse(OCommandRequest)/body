{
  final ODatabaseRecord database=getDatabase();
  database.checkSecurity(ODatabaseSecurityResources.COMMAND,ORole.PERMISSION_READ);
  init(((OCommandRequestText)iRequest).getText());
  query=null;
  recordCount=0;
  parserRequiredKeyword(OCommandExecutorSQLDelete.KEYWORD_DELETE);
  parserRequiredKeyword(OCommandExecutorSQLDelete.KEYWORD_FROM);
  String subjectName=parserRequiredWord(false,"Syntax error"," =><,\r\n");
  if (subjectName == null)   throwSyntaxErrorException("Invalid subject name. Expected cluster, class, index or sub-query");
  if (OStringParser.startsWithIgnoreCase(subjectName,OCommandExecutorSQLAbstract.INDEX_PREFIX)) {
    indexName=subjectName.substring(OCommandExecutorSQLAbstract.INDEX_PREFIX.length());
    if (!parserIsEnded()) {
      parserNextWord(true);
      if (parserGetLastWord().equalsIgnoreCase(KEYWORD_WHERE))       compiledFilter=OSQLEngine.getInstance().parseCondition(parserText.substring(parserGetCurrentPosition()),getContext(),KEYWORD_WHERE);
    }
 else     parserSetCurrentPosition(-1);
  }
 else   if (subjectName.startsWith("(")) {
    subjectName=subjectName.trim();
    query=database.command(new OSQLAsynchQuery<ODocument>(subjectName.substring(1,subjectName.length() - 1),this));
  }
 else {
    final String condition=parserGetCurrentPosition() > -1 ? " " + parserText.substring(parserGetCurrentPosition()) : "";
    query=database.command(new OSQLAsynchQuery<ODocument>("select from " + subjectName + condition,this));
  }
  return this;
}
