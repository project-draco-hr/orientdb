{
  if (!(iRecord instanceof ORecordSchemaAware<?>))   return;
  final ORecordSchemaAware<?> record=(ORecordSchemaAware<?>)iRecord;
  final OClass cls=record.getSchemaClass();
  if (cls == null)   return;
  OTreeMapDatabase<String,ORecordId> index;
  Object fieldValue;
  String fieldValueString;
  ORecordId indexedRID;
  for (  OProperty prop : cls.properties()) {
    index=prop.getIndex();
    if (index != null) {
      fieldValue=record.field(prop.getName());
      if (fieldValue != null) {
        fieldValueString=fieldValue.toString();
        indexedRID=index.get(fieldValueString);
        if (indexedRID != null && !indexedRID.equals(iRecord.getIdentity()))         OLogManager.instance().exception("Found duplicated key '%s' for property '%s'",null,OIndexException.class,fieldValueString,prop);
      }
    }
  }
}
