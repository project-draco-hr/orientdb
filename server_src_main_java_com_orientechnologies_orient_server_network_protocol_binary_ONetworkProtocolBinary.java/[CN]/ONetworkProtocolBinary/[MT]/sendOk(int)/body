{
  channel.writeByte(OChannelBinaryProtocol.RESPONSE_STATUS_OK);
  channel.writeInt(iClientTxId);
  if (Boolean.TRUE.equals(tokenBased) && token != null && requestType != OChannelBinaryProtocol.REQUEST_CONNECT && requestType != OChannelBinaryProtocol.REQUEST_DB_OPEN) {
    if (requestType == OChannelBinaryProtocol.REQUEST_DB_CREATE) {
      channel.writeBytes(tokenBytes);
    }
 else {
      byte[] renewedToken=tokenHandler.renewIfNeeded(token);
      channel.writeBytes(renewedToken);
    }
  }
}
