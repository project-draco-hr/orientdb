{
  database.open("admin","admin");
  final Date dateOne=new Date();
  final Date dateTwo=new Date(dateOne.getTime() + 24 * 60 * 60* 1000 + 100);
  final ODocument dateDoc=new ODocument("DateIndexTest");
  dateDoc.field("dateField",dateOne);
  dateDoc.field("dateTimeField",dateTwo);
  final List<Date> dateList=new ArrayList<Date>();
  final Date dateThree=new Date(dateOne.getTime() + 100);
  final Date dateFour=new Date(dateThree.getTime() + 24 * 60 * 60* 1000 + 100);
  dateList.add(new Date(dateThree.getTime()));
  dateList.add(new Date(dateFour.getTime()));
  final List<Date> dateTimeList=new ArrayList<Date>();
  dateTimeList.add(new Date(dateThree.getTime()));
  dateTimeList.add(new Date(dateFour.getTime()));
  dateDoc.field("dateList",dateList);
  dateDoc.field("dateTimeList",dateTimeList);
  dateDoc.field("value","v1");
  dateDoc.save();
  final OIndex dateIndexTestDateIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestDateIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestDateIndex.get(dateOne)).getIdentity(),dateDoc.getIdentity());
  Assert.assertNull(dateIndexTestDateIndex.get(dateTwo));
  final OIndex dateIndexTestDateTimeIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestDateTimeIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestDateTimeIndex.get(dateTwo)).getIdentity(),dateDoc.getIdentity());
  Assert.assertNull(dateIndexTestDateTimeIndex.get(dateOne));
  final OIndex dateIndexTestValueDateIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestValueDateIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateIndex.get(new OCompositeKey("v1",dateOne))).getIdentity(),dateDoc.getIdentity());
  Assert.assertNull(dateIndexTestValueDateIndex.get(new OCompositeKey("v1",dateTwo)));
  final OIndex dateIndexTestValueDateTimeIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestValueDateTimeIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateTimeIndex.get(new OCompositeKey("v1",dateTwo))).getIdentity(),dateDoc.getIdentity());
  Assert.assertNull(dateIndexTestValueDateTimeIndex.get(new OCompositeKey("v1",dateOne)));
  final OIndex dateIndexTestValueDateListIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestValueDateListIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateListIndex.get(new OCompositeKey("v1",dateThree))).getIdentity(),dateDoc.getIdentity());
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateListIndex.get(new OCompositeKey("v1",dateFour))).getIdentity(),dateDoc.getIdentity());
  final OIndex dateIndexTestValueDateTimeListIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestValueDateListIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateTimeListIndex.get(new OCompositeKey("v1",dateThree))).getIdentity(),dateDoc.getIdentity());
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateTimeListIndex.get(new OCompositeKey("v1",dateFour))).getIdentity(),dateDoc.getIdentity());
  final OIndex dateIndexTestDateHashIndexIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestDateHashIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestDateHashIndexIndex.get(dateOne)).getIdentity(),dateDoc.getIdentity());
  Assert.assertNull(dateIndexTestDateHashIndexIndex.get(dateTwo));
  final OIndex dateIndexTestDateTimeHashIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestDateTimeHashIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestDateTimeHashIndex.get(dateTwo)).getIdentity(),dateDoc.getIdentity());
  Assert.assertNull(dateIndexTestDateTimeHashIndex.get(dateOne));
  final OIndex dateIndexTestValueDateHashIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestValueDateHashIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateHashIndex.get(new OCompositeKey("v1",dateOne))).getIdentity(),dateDoc.getIdentity());
  Assert.assertNull(dateIndexTestValueDateHashIndex.get(new OCompositeKey("v1",dateTwo)));
  final OIndex dateIndexTestValueDateTimeHashIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestValueDateTimeHashIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateTimeHashIndex.get(new OCompositeKey("v1",dateTwo))).getIdentity(),dateDoc.getIdentity());
  Assert.assertNull(dateIndexTestValueDateTimeHashIndex.get(new OCompositeKey("v1",dateOne)));
  final OIndex dateIndexTestValueDateListHashIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestValueDateListHashIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateListHashIndex.get(new OCompositeKey("v1",dateThree))).getIdentity(),dateDoc.getIdentity());
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateListHashIndex.get(new OCompositeKey("v1",dateFour))).getIdentity(),dateDoc.getIdentity());
  final OIndex dateIndexTestValueDateTimeListHashIndex=database.getMetadata().getIndexManager().getIndex("DateIndexTestValueDateListHashIndex");
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateTimeListHashIndex.get(new OCompositeKey("v1",dateThree))).getIdentity(),dateDoc.getIdentity());
  Assert.assertEquals(((OIdentifiable)dateIndexTestValueDateTimeListHashIndex.get(new OCompositeKey("v1",dateFour))).getIdentity(),dateDoc.getIdentity());
}
