{
  lock.writeLock().unlock();
  final ODatabaseRecord databaseRecord=getDatabaseIfDefined();
  if (databaseRecord != null) {
    final OMetadata metadata=databaseRecord.getMetadata();
    if (metadata != null)     metadata.clearThreadLocalSchemaSnapshot();
  }
}
