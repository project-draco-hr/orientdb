{
  ODatabaseComplex<?> current=databaseOwner;
  while (current != null && current != this && current.getDatabaseOwner() != current) {
    ODatabaseComplex<?> owner=current.getDatabaseOwner();
    if (owner != null && owner.getClass().isAssignableFrom(current.getClass()) && !ownerClass.isAssignableFrom(owner.getClass()))     return ownerClass.cast(current);
    current=current.getDatabaseOwner();
  }
  if (current != null && ownerClass.isAssignableFrom(current.getClass()))   return ownerClass.cast(current);
  return null;
}
