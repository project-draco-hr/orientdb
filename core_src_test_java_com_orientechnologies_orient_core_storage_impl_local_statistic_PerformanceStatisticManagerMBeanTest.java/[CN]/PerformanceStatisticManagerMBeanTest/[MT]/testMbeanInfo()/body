{
  final OPerformanceStatisticManager manager=mock(OPerformanceStatisticManager.class);
  when(manager.getComponentNames()).thenReturn(new HashSet<String>(Arrays.asList("com1","com2")));
  final OPerformanceStatisticManagerMBean mBean=new OPerformanceStatisticManagerMBean(manager);
  final MBeanInfo mBeanInfo=mBean.getMBeanInfo();
  final MBeanOperationInfo[] operations=mBeanInfo.getOperations();
  Assert.assertEquals(operations.length,2);
  assertOperation(operations,"startMonitoring");
  assertOperation(operations,"stopMonitoring");
  final MBeanAttributeInfo[] attributes=mBeanInfo.getAttributes();
  Assert.assertEquals(attributes.length,15);
  assertAttribute(attributes,"cacheHits",int.class);
  assertAttribute(attributes,"cacheHits_com1",int.class);
  assertAttribute(attributes,"cacheHits_com2",int.class);
  assertAttribute(attributes,"commitTime",long.class);
  assertAttribute(attributes,"readSpeedFromCache",long.class);
  assertAttribute(attributes,"readSpeedFromCache_com1",long.class);
  assertAttribute(attributes,"readSpeedFromCache_com2",long.class);
  assertAttribute(attributes,"readSpeedFromFile",long.class);
  assertAttribute(attributes,"readSpeedFromFile_com1",long.class);
  assertAttribute(attributes,"readSpeedFromFile_com2",long.class);
  assertAttribute(attributes,"writeSpeedInCache",long.class);
  assertAttribute(attributes,"writeSpeedInCache_com1",long.class);
  assertAttribute(attributes,"writeSpeedInCache_com2",long.class);
  Assert.assertEquals(mBeanInfo.getConstructors().length,0);
  Assert.assertEquals(mBeanInfo.getNotifications().length,0);
}
