{
  if (valueContainerAlgorithm == null) {
    if (OClass.INDEX_TYPE.NOTUNIQUE.toString().equals(indexType) || OClass.INDEX_TYPE.NOTUNIQUE_HASH_INDEX.toString().equals(indexType) || OClass.INDEX_TYPE.FULLTEXT_HASH_INDEX.toString().equals(indexType)|| OClass.INDEX_TYPE.FULLTEXT.toString().equals(indexType))     valueContainerAlgorithm=MVRBTREE_VALUE_CONTAINER;
 else     valueContainerAlgorithm=NONE_VALUE_CONTAINER;
  }
  if ((database.getStorage().getType().equals(OEngineLocalPaginated.NAME) || database.getStorage().getType().equals(OEngineLocal.NAME)) && valueContainerAlgorithm.equals(ODefaultIndexFactory.MVRBTREE_VALUE_CONTAINER) && OGlobalConfiguration.INDEX_NOTUNIQUE_USE_SBTREE_CONTAINER_BY_DEFAULT.getValueAsBoolean()) {
    OLogManager.instance().warn(this,"Index was created using %s as values container. " + "This container is deprecated and is not supported any more. To avoid this message please drop and recreate indexes or perform DB export/import.",valueContainerAlgorithm);
  }
  if (SBTREE_ALGORITHM.equals(algorithm))   return createSBTreeIndex(indexType,valueContainerAlgorithm,metadata);
  if (MVRBTREE_ALGORITHM.equals(algorithm) || algorithm == null)   return createMVRBTreeIndex(indexType,valueContainerAlgorithm,metadata);
  throw new OConfigurationException("Unsupported type : " + indexType);
}
