{
  if (!(iRecord instanceof ODocument))   return;
  ODocument doc=(ODocument)iRecord;
  doc=checkForLoading(doc);
  final OClass cls=doc.getSchemaClass();
  if (cls != null) {
    final Collection<OIndex<?>> indexes=cls.getIndexes();
    for (    final OIndex<?> index : indexes) {
      final Object key=index.getDefinition().getDocumentValueToIndex(doc);
      if (key instanceof Collection) {
        for (        final Object keyItem : (Collection<?>)key)         if (keyItem != null)         index.put(keyItem,doc.placeholder());
      }
 else       if (key != null)       index.put(key,doc.placeholder());
    }
  }
}
