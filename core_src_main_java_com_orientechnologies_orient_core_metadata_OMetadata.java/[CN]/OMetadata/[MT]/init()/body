{
  schemaClusterId=database.getClusterIdByName(OStorage.CLUSTER_INTERNAL_NAME);
  schema=new OSchemaProxy(database.getStorage().getResource(OSchema.class.getSimpleName(),new Callable<OSchemaShared>(){
    public OSchemaShared call(){
      return new OSchemaShared(schemaClusterId);
    }
  }
),database);
  Boolean enableSecurity=(Boolean)database.getProperty(ODatabase.OPTIONS.SECURITY.toString());
  if (enableSecurity != null && !enableSecurity)   security=new OSecurityNull();
 else   security=new OSecurityProxy(database.getStorage().getResource(OSecurity.class.getSimpleName(),new Callable<OSecurityShared>(){
    public OSecurityShared call(){
      return new OSecurityShared();
    }
  }
),database);
  indexManager=new OIndexManagerImpl(database);
}
