{
  this.strategy=new OAutoShardingMurmurStrategy(keySerializer);
  this.hashFunction.setValueSerializer(keySerializer);
  final File fileMetadata=new File(name + METADATA_FILE_EXTENSION);
  if (fileMetadata.exists())   fileMetadata.delete();
  try {
    OIOUtils.writeFile(fileMetadata,metadata.toJSON());
  }
 catch (  IOException e1) {
    throw new OConfigurationException("Cannot create sharded index metadata file '" + fileMetadata + "'");
  }
  init(metadata);
  for (  OHashTable<Object,Object> p : partitions)   p.create(keySerializer,valueSerializer,keyTypes,nullPointerSupport);
}
