{
  if (my instanceof ODocument) {
    if (other instanceof ORID) {
      if (!((ODocument)my).isDirty()) {
        if (!((ODocument)my).getIdentity().equals(other))         return false;
      }
 else {
        ODocument otherDoc=(ODocument)getDatabase().load((ORID)other);
        if (!((ODocument)my).hasSameContentOf(otherDoc))         return false;
      }
    }
 else     if (!((ODocument)my).hasSameContentOf((ODocument)other))     return false;
  }
 else   if (!my.equals(other))   return false;
  return true;
}
