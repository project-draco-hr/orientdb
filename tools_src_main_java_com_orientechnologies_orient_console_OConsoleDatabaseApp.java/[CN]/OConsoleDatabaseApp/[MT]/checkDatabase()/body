{
  checkCurrentDatabase();
  if (currentDatabase.getStorage() instanceof OStorageRemote) {
    out.println("Cannot check integrity of remote database. Connect to it using local mode.");
    return;
  }
 else   if (currentDatabase.getStorage() instanceof OStorageMemory) {
    out.println("Cannot check integrity of in-memory database.");
    return;
  }
  try {
    ((OStorageLocal)currentDatabase.getStorage()).check(this);
  }
 catch (  ODatabaseImportException e) {
    printError(e);
  }
}
