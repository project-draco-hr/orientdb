{
  if (ppos.dataSegment > 0)   return false;
  final boolean locked=lock.acquireSharedLock();
  try {
    if (ppos.dataPosition >= data.count())     return false;
  }
  finally {
    lock.releaseSharedLock(locked);
  }
  return true;
}
