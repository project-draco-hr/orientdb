{
  if (!(key instanceof OCompositeKey))   return key;
  final OCompositeKey compositeKey=(OCompositeKey)key;
  final int keySize=getDefinition().getParamCount();
  if (!(keySize == 1 || compositeKey.getKeys().size() == keySize || partialSearchMode.equals(OMVRBTree.PartialSearchMode.NONE))) {
    final OCompositeKey fullKey=new OCompositeKey(compositeKey);
    int itemsToAdd=keySize - fullKey.getKeys().size();
    final Comparable<?> keyItem;
    if (partialSearchMode.equals(OMVRBTree.PartialSearchMode.HIGHEST_BOUNDARY))     keyItem=ALWAYS_GREATER_KEY;
 else     keyItem=ALWAYS_LESS_KEY;
    for (int i=0; i < itemsToAdd; i++)     fullKey.addKey(keyItem);
    return fullKey;
  }
  return key;
}
