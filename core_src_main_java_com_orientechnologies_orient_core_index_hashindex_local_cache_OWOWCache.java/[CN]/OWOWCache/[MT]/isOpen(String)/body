{
  filesLock.writeLock().lock();
  try {
    initNameIdMapping();
    final Long fileId=nameIdMap.get(fileName);
    if (fileId == null)     return -1;
    final OFileClassic fileClassic=files.get(fileId);
    if (fileClassic == null || !fileClassic.isOpen())     return -1;
    return fileId;
  }
  finally {
    filesLock.writeLock().unlock();
  }
}
