{
  if (!enabled)   return;
  final CountableLock lock;
  lock=map.get(iResourceId);
  if (lock == null)   throw new OLockException("Error on releasing a non acquired lock by the requester '" + iRequester + "' against the resource: '"+ iResourceId+ "'");
  lock.countLocks.decrementAndGet();
  if (lock.countLocks.get() == 0)   map.remove(iResourceId);
  if (iLockType == LOCK.SHARED)   lock.readWriteLock.readLock().unlock();
 else   lock.readWriteLock.writeLock().unlock();
}
