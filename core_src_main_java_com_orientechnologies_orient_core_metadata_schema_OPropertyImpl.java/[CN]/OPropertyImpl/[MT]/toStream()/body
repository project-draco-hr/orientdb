{
  document.setStatus(ORecordElement.STATUS.UNMARSHALLING);
  try {
    document.field("name",name);
    document.field("type",type.id);
    document.field("mandatory",mandatory);
    document.field("notNull",notNull);
    document.field("min",min);
    document.field("max",max);
    document.field("regexp",regexp);
    document.field("linkedClass",linkedClass != null ? linkedClass.getName() : null);
    document.field("linkedType",linkedType != null ? linkedType.id : null);
    if (index != null) {
      index.getUnderlying().lazySave();
      document.field("index",index.getUnderlying().getIdentity());
    }
 else {
      document.field("index",ORecordId.EMPTY_RECORD_ID);
    }
  }
  finally {
    document.setStatus(ORecordElement.STATUS.LOADED);
  }
  return document;
}
