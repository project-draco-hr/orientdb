{
  final QUORUM_TYPE quorumType=iRequest.getPayload().getQuorumType();
  int quorum=0;
switch (quorumType) {
case NONE:
    quorum=0;
  break;
case READ:
quorum=cfg.getReadQuorum(clusterName);
break;
case WRITE:
quorum=cfg.getWriteQuorum(clusterName);
break;
}
final boolean failureAvailableNodesLessQuorum=cfg.getFailureAvailableNodesLessQuorum(clusterName);
if (quorum > queueSize) if (failureAvailableNodesLessQuorum) throw new ODistributedException("Quorum cannot be reached because it is major than available nodes and 'failureAvailableNodesLessQuorum' settings is true");
 else {
ODistributedServerLog.debug(this,getLocalNodeNameAndThread(),nodes.toString(),DIRECTION.OUT,"quorum less then available nodes, downgrade quorum to %d",queueSize);
quorum=queueSize;
}
return quorum;
}
