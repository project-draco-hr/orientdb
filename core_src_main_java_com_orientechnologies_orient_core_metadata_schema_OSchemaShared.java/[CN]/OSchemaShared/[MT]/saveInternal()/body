{
  final ODatabaseDocument db=getDatabase();
  if (db.getTransaction().isActive()) {
    reload(null,true);
    throw new OSchemaException("Cannot change the schema while a transaction is active. Schema changes are not transactional");
  }
  setDirty();
  try {
    super.save(OMetadataDefault.CLUSTER_INTERNAL_NAME);
    getDatabase().getStorage().synch();
  }
 catch (  OConcurrentModificationException e) {
    reload(null,true);
    throw e;
  }
}
