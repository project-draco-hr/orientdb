{
  database.open("admin","admin");
  final OClass collector=database.getMetadata().getSchema().getClass("Mapper");
  collector.createProperty("id",OType.STRING);
  collector.createProperty("intMap",OType.EMBEDDEDMAP,OType.INTEGER);
  collector.createIndex("mapIndexTestKey",OClass.INDEX_TYPE.NOTUNIQUE,"intMap");
  collector.createIndex("mapIndexTestValue",OClass.INDEX_TYPE.NOTUNIQUE,"intMap by value");
  final OClass movie=database.getMetadata().getSchema().createClass("MapIndexTestMovie");
  movie.createProperty("title",OType.STRING);
  movie.createProperty("thumbs",OType.EMBEDDEDMAP,OType.INTEGER);
  movie.createIndex("indexForMap",OClass.INDEX_TYPE.NOTUNIQUE,"thumbs by key");
  database.getMetadata().getSchema().save();
  database.close();
}
