{
synchronized (LOCK) {
    OrientBaseGraph graph=new OrientGraph(CLIENT_ORIENT_URL_MAIN);
    ArrayList<OrientVertex> cachedVertices=new ArrayList<OrientVertex>();
    try {
      pause();
      for (int i=0; i < verticeIds.size(); i++) {
        OrientVertex v=graph.getVertex(verticeIds.get(i));
        assertEquals(1,v.getRecord().getVersion());
        cachedVertices.add(v);
        v.setProperty("p1","v1");
        graph.commit();
        assertEquals(2,v.getRecord().getVersion());
      }
      pause();
    }
 catch (    Throwable e) {
      if (exceptionInThread == null) {
        exceptionInThread=e;
      }
    }
 finally {
      graph.shutdown();
      LOCK.notifyAll();
    }
  }
}
