{
  final PerformanceCounters pf=performanceCounters.get();
  if (pf != null) {
    performanceCounters.compareAndSet(pf,new PerformanceCounters());
    final OTimeCounter cacheHits=pf.cacheHits.get();
    if (cacheHits.getCounter() == 0)     cacheHitsSnapshot=-1;
 else     cacheHitsSnapshot=(int)((cacheHits.getTime() * 100) / cacheHits.getCounter());
    readSpeedFromFileSnapshot=pf.readSpeedFromFile.get().calculateSpeedPerTimeInter(NANOS_IN_SECOND);
    readSpeedFromCacheSnapshot=pf.readSpeedFromCache.get().calculateSpeedPerTimeInter(NANOS_IN_SECOND);
    writeSpeedInCacheSnapshot=pf.writeSpeedInCache.get().calculateSpeedPerTimeInter(NANOS_IN_SECOND);
    writeSpeedInFileSnapshot=pf.writeSpeedInFile.get().calculateSpeedPerTimeInter(NANOS_IN_SECOND);
    commitTimeAvgSnapshot=pf.commitTimeAvg.get().calculateAvgTime();
  }
}
