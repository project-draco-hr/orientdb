{
  for (int i=0; i < 4; i++) {
    long pagePointer=buffer.loadAndLockForWrite("arcBufferTest",".tst",i);
    directMemory.set(pagePointer,new byte[]{(byte)i,1,2,3,4,5,6,(byte)i},8);
    buffer.releaseWriteLock("arcBufferTest",".tst",i);
  }
  for (int i=0; i < 4; i++)   Assert.assertTrue(buffer.inFetchedOnceLRU("arcBufferTest.tst",i));
  Assert.assertEquals(buffer.getFilledUpTo("arcBufferTest",".tst"),4);
  buffer.flush();
  for (int i=0; i < 4; i++) {
    assertFile(i,new byte[]{(byte)i,1,2,3,4,5,6,(byte)i});
  }
}
