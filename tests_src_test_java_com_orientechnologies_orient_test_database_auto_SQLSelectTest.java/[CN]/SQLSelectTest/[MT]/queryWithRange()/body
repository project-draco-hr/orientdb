{
  database.open("admin","admin");
  final String query="select from Profile limit 3";
  List<ODocument> resultset=database.query(new OSQLSynchQuery<ODocument>(query));
  Assert.assertFalse(resultset.isEmpty());
  Assert.assertTrue(resultset.size() <= 3);
  while (!resultset.isEmpty()) {
    ORID last=resultset.get(resultset.size() - 1).getIdentity();
    resultset=database.query(new OSQLSynchQuery<ODocument>(query + " range " + last.next()));
    Assert.assertTrue(resultset.size() <= 3);
    for (    ODocument d : resultset)     Assert.assertTrue(d.getIdentity().getClusterId() >= last.getClusterId() && d.getIdentity().getClusterPosition() > last.getClusterPosition());
  }
  database.close();
}
