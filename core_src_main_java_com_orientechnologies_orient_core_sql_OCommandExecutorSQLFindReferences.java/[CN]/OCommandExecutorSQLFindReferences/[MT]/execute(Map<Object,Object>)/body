{
  if (recordId == null)   throw new OCommandExecutionException("Cannot execute the command because it has not been parsed yet");
  final ODatabaseRecord database=getDatabase();
  final List<ORID> result=new ArrayList<ORID>();
  if (classList == null || classList.equals("")) {
    for (    String clusterName : database.getClusterNames()) {
      browseCluster(clusterName,result);
    }
  }
 else {
    List<String> classes=OStringSerializerHelper.smartSplit(classList,',');
    for (    String clazz : classes) {
      if (clazz.startsWith("CLUSTER:")) {
        browseCluster(clazz.substring(clazz.indexOf("CLUSTER:") + "CLUSTER:".length()),result);
      }
 else {
        browseClass(clazz,result);
      }
    }
  }
  return result;
}
