{
  for (  String fieldName : doc.fieldNames()) {
    Object value=getValue(self,fieldName,false,null);
    if (value instanceof OLazyObjectMultivalueElement) {
      ((OLazyObjectMultivalueElement<?>)value).detach(nonProxiedInstance);
      if (nonProxiedInstance)       value=((OLazyObjectMultivalueElement<?>)value).getNonOrientInstance();
    }
    OObjectEntitySerializer.setFieldValue(OObjectEntitySerializer.getField(fieldName,self.getClass()),self,value);
  }
  OObjectEntitySerializer.setIdField(self.getClass(),self,doc.getIdentity());
  OObjectEntitySerializer.setVersionField(self.getClass(),self,doc.getVersion());
}
