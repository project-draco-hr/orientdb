{
  LinkedElement<String> parent=root;
  db.setSaveOnlyDirty(true);
  for (int i=0; i < limit; i++) {
    System.out.println("Adding " + i);
    LinkedElement<String> child=db.newInstance(LinkedElement.class);
    child.setValue(String.valueOf(i));
    child.setData(new Date());
    child.setDecimale(Double.valueOf(i).doubleValue());
    child.setValore(i);
    parent.setNext(child);
    for (int j=0; j < 10; j++) {
      child.getLista().add(db.newInstance(LinkedElementMap.class));
      child.getLista().get(j).setValue("" + j);
      LinkedElementMap setValue=db.newInstance(LinkedElementMap.class);
      setValue.setValue("" + j);
      child.getSet().add(setValue);
      child.getLista().get(j).setValue("" + j);
      child.getListaInt().add(j);
      child.getListaString().add("" + j);
      child.getMappa().put("" + j,db.newInstance(LinkedElementMap.class));
      child.getMappa().get("" + j).setValue("" + j);
      if (j < 3) {
      }
    }
    try {
      db.begin(TXTYPE.OPTIMISTIC);
      db.setDirty(parent);
      db.save(parent);
      db.commit();
    }
 catch (    OTransactionException e) {
      db.rollback();
      e.printStackTrace();
    }
    parent=child;
  }
  db.setSaveOnlyDirty(false);
}
