{
  if (!config.useWal || writeAheadLog == null)   freePageLists[freePageIndex]=pageIndex;
 else {
    final long prevPageIndex=freePageLists[freePageIndex];
    freePageLists[freePageIndex]=pageIndex;
    writeAheadLog.log(new OFreePageChangeRecord(currentUnitId.get(),id,freePageIndex,prevPageIndex,pageIndex));
  }
}
