{
  final Lock lock=getLock("orientdb.clusterEvents");
  lock.lock();
  try {
    final String key=iEvent.getKey();
    if (key.startsWith(CONFIG_NODE_PREFIX)) {
      final String nName=getNodeName(iEvent.getMember());
      if (nName != null) {
        ODistributedServerLog.info(this,getLocalNodeName(),null,DIRECTION.NONE,"removed node configuration id=%s name=%s",iEvent.getMember(),nName);
        activeNodes.remove(nName);
      }
      updateLastClusterChange();
    }
 else     if (key.startsWith(CONFIG_DATABASE_PREFIX)) {
synchronized (cachedDatabaseConfiguration) {
        cachedDatabaseConfiguration.remove(key.substring(CONFIG_DATABASE_PREFIX.length()));
      }
      updateLastClusterChange();
    }
 else     if (key.startsWith(CONFIG_DBSTATUS_PREFIX)) {
      ODistributedServerLog.info(this,getLocalNodeName(),getNodeName(iEvent.getMember()),DIRECTION.IN,"received removed status %s=%s",key.substring(CONFIG_DBSTATUS_PREFIX.length()),iEvent.getValue());
      updateLastClusterChange();
    }
  }
  finally {
    lock.unlock();
  }
}
