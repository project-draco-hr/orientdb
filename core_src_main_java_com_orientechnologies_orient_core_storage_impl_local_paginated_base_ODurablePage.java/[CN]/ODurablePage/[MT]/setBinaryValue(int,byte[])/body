{
  if (value.length == 0)   return 0;
  if (trackMode.equals(TrackMode.FULL)) {
    byte[] oldValues=pagePointer.get(pageOffset + PAGE_PADDING,value.length);
    pagePointer.set(pageOffset + PAGE_PADDING,value,0,value.length);
    pageChanges.addChanges(pageOffset,value,oldValues);
  }
 else   if (trackMode.equals(TrackMode.ROLLBACK_ONLY)) {
    byte[] oldValues=pagePointer.get(pageOffset + PAGE_PADDING,value.length);
    pagePointer.set(pageOffset + PAGE_PADDING,value,0,value.length);
    pageChanges.addChanges(pageOffset,null,oldValues);
  }
 else   pagePointer.set(pageOffset + PAGE_PADDING,value,0,value.length);
  cacheEntry.markDirty();
  return value.length;
}
