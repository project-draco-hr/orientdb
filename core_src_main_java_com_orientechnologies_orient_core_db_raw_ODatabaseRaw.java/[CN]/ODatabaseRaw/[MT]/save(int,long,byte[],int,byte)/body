{
  try {
    if (iPosition == ORID.CLUSTER_POS_INVALID)     return storage.createRecord(iClusterId,iContent,iRecordType);
    int newVersion=storage.updateRecord(id,iClusterId,iPosition,iContent,iVersion,iRecordType);
    if (newVersion > -1)     return newVersion * -1 - 2;
  }
 catch (  Throwable t) {
    throw new ODatabaseException("Error on saving record in cluster id: " + iClusterId + ", position: "+ iPosition,t);
  }
  return ORID.CLUSTER_POS_INVALID;
}
