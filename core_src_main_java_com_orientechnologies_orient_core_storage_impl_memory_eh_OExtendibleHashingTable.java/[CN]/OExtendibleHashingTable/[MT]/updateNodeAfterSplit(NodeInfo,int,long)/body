{
  int offset=info.nodeGlobalDepth - (bucketDepth - 1);
  NodeInfo currentNode=info;
  int nodeLocalDepth=nodeLocalDepths[info.nodeIndex];
  while (offset > 0) {
    offset-=nodeLocalDepth;
    if (offset > 0) {
      currentNode=info.parent;
      nodeLocalDepth=nodeLocalDepths[currentNode.nodeIndex];
    }
  }
  final int diff=bucketDepth - 1 - (currentNode.nodeGlobalDepth - nodeLocalDepth);
  final int interval=(1 << (nodeLocalDepth - diff));
  final int firstStartIndex=currentNode.itemIndex & ((LEVEL_MASK << (nodeLocalDepth - diff)) & LEVEL_MASK);
  final int firstEndIndex=firstStartIndex + (1 << (nodeLocalDepth - diff));
  final int secondStartIndex=firstStartIndex + (interval >>> 1);
  final int secondEndIndex=firstEndIndex;
  for (int i=secondStartIndex; i < secondEndIndex; i++)   updateBucket(currentNode.nodeIndex,i,currentNode.hashMapOffset,newFilePosition);
}
