{
  database.open("admin","admin");
  List<Profile> result=database.command(new OSQLSynchQuery<Profile>("select * from Profile where nick is not null")).execute();
  for (  Profile p : result)   database.getRecordByUserObject(p,false);
  OIndex idx=database.getMetadata().getIndexManager().getIndex("Profile.nick");
  Assert.assertEquals(idx.getSize(),result.size());
  Iterator<Entry<Object,Set<OIdentifiable>>> it=idx.iterator();
  while (it.hasNext()) {
    it.next();
  }
  database.close();
}
