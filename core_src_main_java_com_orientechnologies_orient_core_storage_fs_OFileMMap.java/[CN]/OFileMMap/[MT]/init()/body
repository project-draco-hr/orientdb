{
  acquireWriteLock();
  try {
    if (version == 0) {
      size=headerBuffer.getInt(SIZE_OFFSET_V_0);
      filledUpTo=headerBuffer.getInt(FILLEDUPTO_OFFSET_V_0);
    }
 else {
      size=headerBuffer.getLong(SIZE_OFFSET);
      filledUpTo=headerBuffer.getLong(FILLEDUPTO_OFFSET);
    }
  }
  finally {
    releaseWriteLock();
  }
}
