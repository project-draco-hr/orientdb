{
  final ODatabaseDocumentInternal currentDatabase=ODatabaseRecordThreadLocal.INSTANCE.get();
  if (currentDatabase != this) {
    System.err.println("Current database instance (" + toString() + ") is not active on current thread ("+ Thread.currentThread()+ "). Current active database is: "+ currentDatabase);
    final IllegalStateException exc=new IllegalStateException("Current database instance (" + toString() + ") is not active on current thread ("+ Thread.currentThread()+ "). Current active database is: "+ currentDatabase);
    exc.printStackTrace();
    System.exit(1);
  }
}
