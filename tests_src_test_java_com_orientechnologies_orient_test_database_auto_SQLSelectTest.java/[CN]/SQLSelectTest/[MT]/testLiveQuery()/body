{
  ODatabaseDocumentTx db=new ODatabaseDocumentTx("remote:localhost/test");
  db.open("admin","admin");
  final ODatabaseDocumentTx dbCopy=db.copy();
  new ODocument("V").field("pippo","pluto").save();
  new ODocument("V").field("pluto","paperino").save();
  List<ODocument> tokenDoc=db.query(new OLiveQuery<Object>("live Select from V",new OLiveResultListener(){
    @Override public void onLiveResult(    int iLiveToken,    ORecordOperation iOp) throws OException {
      dbCopy.setCurrentDatabaseInThreadLocal();
      System.out.println("" + iLiveToken + " - "+ iOp.type+ " - "+ iOp.getRecord());
    }
  }
));
  System.out.println("token: " + tokenDoc.get(0).field("token"));
  new ODocument("V").field("pluto","paperino").save();
  db.command(new OCommandSQL("update V set name = 'antani'")).execute();
  System.out.println("non e' scoppiato");
  try {
    Thread.sleep(60000);
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  db.close();
}
