{
  long readersWriters=readersWritersReferrer.get();
  int readers=getReaders(readersWriters);
  int writers=getWriters(readersWriters);
  writers++;
  while (!readersWritersReferrer.compareAndSet(readersWriters,composeReadersWriters(readers,writers))) {
    readersWriters=readersWritersReferrer.get();
    readers=getReaders(readersWriters);
    writers=getWriters(readersWriters);
    writers++;
  }
  incrementReferrer();
}
