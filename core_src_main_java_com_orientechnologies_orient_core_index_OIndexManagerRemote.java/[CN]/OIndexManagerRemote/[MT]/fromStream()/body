{
  acquireExclusiveLock();
  try {
    final Collection<ODocument> idxs=document.field(CONFIG_INDEXES);
    indexes.clear();
    classPropertyIndex.clear();
    if (idxs != null) {
      OIndexInternal<?> index;
      for (      final ODocument d : idxs) {
        index=OIndexes.createIndex(getDatabase(),(String)d.field(OIndexInternal.CONFIG_TYPE));
        if (((OIndexInternal<?>)index).loadFromConfiguration(d))         addIndexInternal(index);
      }
    }
  }
  finally {
    releaseExclusiveLock();
  }
}
