{
  try {
    sendShutdown();
    channel.close();
  }
  finally {
    server.getClientConnectionManager().disconnect(server,connection.getId());
    if (OLogManager.instance().isDebugEnabled())     OLogManager.instance().debug(this,"Connection closed");
  }
}
