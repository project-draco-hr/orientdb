{
  List<OPageDiff<?>> diffs=new ArrayList<OPageDiff<?>>();
  diffs.add(new OBinaryPageDiff(new byte[]{7,4,8},13));
  diffs.add(new OIntPageDiff(19,42));
  diffs.add(new OLongPageDiff(37L,213));
  diffs.add(new OBinaryFullPageDiff(new byte[]{7,4,8},23,new byte[]{12,10,8}));
  diffs.add(new OIntFullPageDiff(19,46,70));
  diffs.add(new OLongFullPageDiff(37L,213,45L));
  OUpdatePageRecord serializedUpdatePageRecord=new OUpdatePageRecord(12,100,null,diffs);
  byte[] content=new byte[serializedUpdatePageRecord.serializedSize() + 1];
  int toStreamOffset=serializedUpdatePageRecord.toStream(content,1);
  Assert.assertEquals(toStreamOffset,content.length);
  OUpdatePageRecord restoredUpdatePageRecord=new OUpdatePageRecord();
  int fromStreamOffset=restoredUpdatePageRecord.fromStream(content,1);
  Assert.assertEquals(fromStreamOffset,content.length);
  Assert.assertEquals(restoredUpdatePageRecord,serializedUpdatePageRecord);
}
