{
  OIndexCursor cursor;
  Object key;
  if (keyParams.size() > 1) {
    key=new OSpatialCompositeKey(keyParams).setOperation(SpatialOperation.IsWithin);
  }
 else {
    key=keyParams.get(0);
    if (key instanceof Map) {
      ((Map)key).put(SpatialQueryBuilderAbstract.GEO_FILTER,SpatialQueryBuilderWithin.NAME);
    }
  }
  Object indexResult=index.get(key);
  if (indexResult == null || indexResult instanceof OIdentifiable)   cursor=new OIndexCursorSingleValue((OIdentifiable)indexResult,new OSpatialCompositeKey(keyParams));
 else   cursor=new OIndexCursorCollectionValue(((Collection<OIdentifiable>)indexResult).iterator(),new OSpatialCompositeKey(keyParams));
  return cursor;
}
