{
  final Map<String,Class<?>> classes=new HashMap<String,Class<?>>();
  if (!directory.exists())   return classes;
  String className;
  final File[] files=directory.listFiles();
  for (  File file : files) {
    if (file.isDirectory()) {
      if (file.getName().contains(CLASS_SEPARATOR))       continue;
      classes.putAll(findClasses(file,packageName + CLASS_SEPARATOR + file.getName()));
    }
 else     if (file.getName().endsWith(CLASS_EXTENSION)) {
      className=file.getName().substring(0,file.getName().length() - CLASS_EXTENSION.length());
      classes.put(className,Class.forName(packageName + '.' + className));
    }
  }
  return classes;
}
