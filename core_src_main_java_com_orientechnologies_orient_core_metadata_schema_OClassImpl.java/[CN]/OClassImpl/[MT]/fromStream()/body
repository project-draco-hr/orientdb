{
  name=document.field("name");
  if (document.containsField("shortName"))   shortName=document.field("shortName");
 else   shortName=null;
  defaultClusterId=(Integer)document.field("defaultClusterId");
  if (document.containsField("strictMode"))   strictMode=(Boolean)document.field("strictMode");
 else   strictMode=false;
  if (document.containsField("abstract"))   abstractClass=(Boolean)document.field("abstract");
 else   abstractClass=false;
  if (document.field("overSize") != null)   overSize=(Float)document.field("overSize");
 else   overSize=0f;
  final Object cc=document.field("clusterIds");
  if (cc instanceof Collection<?>) {
    final Collection<Integer> coll=document.field("clusterIds");
    clusterIds=new int[coll.size()];
    int i=0;
    for (    final Integer item : coll)     clusterIds[i++]=item.intValue();
  }
 else   clusterIds=(int[])cc;
  Arrays.sort(clusterIds);
  setPolymorphicClusterIds(clusterIds);
  OPropertyImpl prop;
  Collection<ODocument> storedProperties=document.field("properties");
  if (storedProperties != null)   for (  ODocument p : storedProperties) {
    prop=new OPropertyImpl(this,p);
    prop.fromStream();
    properties.put(prop.getName().toLowerCase(),prop);
  }
  customFields=document.field("customFields",OType.EMBEDDEDMAP);
}
