{
  configuration=new ODocument(iDatabase);
  automatic=iAutomatic;
  if (iClusterIdsToIndex != null)   for (  int id : iClusterIdsToIndex)   clustersToIndex.add(iDatabase.getClusterNameById(id));
  name=iName;
  installProfilerHooks();
  iDatabase.registerListener(this);
  map=new OMVRBTreeDatabaseLazySave<Object,Set<ORecord<?>>>(iDatabase,iClusterIndexName,OStreamSerializerLiteral.INSTANCE,OStreamSerializerListRID.INSTANCE);
  rebuild(iProgressListener);
  return this;
}
