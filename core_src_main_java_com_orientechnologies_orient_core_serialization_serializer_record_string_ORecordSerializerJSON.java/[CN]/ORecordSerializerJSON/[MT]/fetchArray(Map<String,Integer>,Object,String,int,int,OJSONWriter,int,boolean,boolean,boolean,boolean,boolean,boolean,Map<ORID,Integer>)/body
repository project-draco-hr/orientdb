{
  if (fieldValue instanceof ODocument[]) {
    final ODocument[] linked=(ODocument[])fieldValue;
    json.beginCollection(indentLevel + 1,true,fieldName);
    for (    ODocument d : linked) {
      final Integer fieldDepthLevel=parsedRecords.get(d.getIdentity());
      if (fieldDepthLevel != null && fieldDepthLevel.intValue() == iCurrentLevel) {
        parsedRecords.remove(d.getIdentity());
        json.beginObject(indentLevel + 1,true,null);
        writeSignature(json,indentLevel,includeType,includeId,includeVer,includeClazz,attribSameRow,d);
        processRecord(json,indentLevel,includeType,includeId,includeVer,includeClazz,attribSameRow,d,iFetchPlan,keepTypes,iCurrentLevel + 1,iMaxFetch,parsedRecords);
        json.endObject(indentLevel + 1,true);
      }
 else {
        json.writeValue(indentLevel + 1,false,OJSONWriter.encode(d));
      }
    }
    json.endCollection(indentLevel + 1,false);
  }
 else {
    json.writeAttribute(indentLevel + 1,true,fieldName,null);
  }
}
