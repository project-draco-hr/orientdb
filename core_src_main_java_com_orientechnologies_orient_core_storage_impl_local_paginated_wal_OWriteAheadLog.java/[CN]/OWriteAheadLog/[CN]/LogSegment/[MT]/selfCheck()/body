{
  if (!pages.isEmpty())   throw new IllegalStateException("WAL cache is not empty, we can not verify WAL after it was started to be used");
  if (rndFile.length() % OWALPage.PAGE_SIZE > 0) {
    OLogManager.instance().error(this,"Last WAL page was written partially auto fix.");
    long pagesCount=rndFile.length() / OWALPage.PAGE_SIZE;
    rndFile.setLength(OWALPage.PAGE_SIZE * pagesCount);
    filledUpTo=rndFile.length();
    rndFile.getFD().sync();
    return true;
  }
  return false;
}
