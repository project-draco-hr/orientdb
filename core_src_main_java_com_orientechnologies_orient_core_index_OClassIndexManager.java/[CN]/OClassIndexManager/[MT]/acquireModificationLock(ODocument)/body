{
  final OClass cls=iRecord.getSchemaClass();
  if (cls == null)   return;
  final Collection<OIndex<?>> indexes=cls.getIndexes();
  final SortedSet<OIndex<?>> indexesToLock=new TreeSet<OIndex<?>>(new Comparator<OIndex<?>>(){
    public int compare(    OIndex<?> indexOne,    OIndex<?> indexTwo){
      return indexOne.getName().compareTo(indexTwo.getName());
    }
  }
);
  indexesToLock.addAll(indexes);
  for (  final OIndex<?> index : indexesToLock) {
    index.getInternal().acquireModificationLock();
  }
}
