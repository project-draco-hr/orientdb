{
  if (converted || !convertToRecord)   return;
  final Set<Object> copy=new HashSet<Object>(underlying);
  super.clear();
  final ODatabasePojoAbstract<TYPE> database=getDatabase();
  for (  Object e : copy) {
    if (e != null) {
      if (e instanceof ORID) {
        e=database.getUserObjectByRecord((ORecordInternal<?>)((ODatabaseRecord)getDatabase().getUnderlying()).load((ORID)e,fetchPlan),fetchPlan);
        super.add((TYPE)((OObjectDatabaseTx)getDatabase()).detachAll(e,nonProxiedInstance));
      }
 else       if (e instanceof ODocument) {
        e=database.getUserObjectByRecord((ORecordInternal<?>)e,fetchPlan);
        super.add((TYPE)((OObjectDatabaseTx)getDatabase()).detachAll(e,nonProxiedInstance));
      }
 else       add((TYPE)e);
    }
  }
  converted=true;
}
