{
  final ODatabaseDocumentInternal database=getDatabase();
  database.checkSecurity(ORule.ResourceGeneric.DATABASE,"sync",ORole.PERMISSION_UPDATE);
  final OServer serverInstance=OServerMain.server();
  final OHazelcastPlugin dManager=(OHazelcastPlugin)serverInstance.getDistributedManager();
  if (dManager == null || !dManager.isEnabled())   throw new OCommandExecutionException("OrientDB is not started in distributed mode");
  final String databaseName=database.getName();
  Map<String,Object> config=dManager.getConfigurationMap();
  final ODocument dbConf=(ODocument)config.get("database." + databaseName);
  return dManager.installDatabase(false,databaseName,dbConf);
}
