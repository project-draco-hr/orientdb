{
  final PageKey firstKey=new PageKey(fileId,0);
  final PageKey lastKey=new PageKey(fileId,Long.MAX_VALUE);
  flushRing(writeCachePages.subMap(firstKey,true,lastKey,true));
  for (  Long fileId : files.keySet()) {
    final OClosableEntry<Long,OFileClassic> entry=files.acquire(fileId);
    try {
      entry.get().synch();
    }
  finally {
      files.release(entry);
    }
  }
  return null;
}
