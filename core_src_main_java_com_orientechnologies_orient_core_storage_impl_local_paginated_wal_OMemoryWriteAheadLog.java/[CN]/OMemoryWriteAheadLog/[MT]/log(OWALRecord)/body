{
  OLogSequenceNumber logSequenceNumber;
  syncObject.lock();
  try {
    logSequenceNumber=new OLogSequenceNumber(0,counter);
    counter++;
    if (record instanceof OAtomicUnitStartRecord)     records.clear();
    records.add(record);
    record.setLsn(logSequenceNumber);
  }
  finally {
    syncObject.unlock();
  }
  return logSequenceNumber;
}
