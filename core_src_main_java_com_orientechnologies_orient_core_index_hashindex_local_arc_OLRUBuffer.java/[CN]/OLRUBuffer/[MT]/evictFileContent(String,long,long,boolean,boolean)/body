{
  if (mangedExternally)   return;
  if (isDirty) {
    if (evictedItems.size() >= 1500) {
      for (      Map.Entry<FileLockKey,Long> entry : evictedItems.entrySet()) {
        long evictedDataPointer=entry.getValue();
        flushData(entry.getKey().fileName,entry.getKey().pageIndex,evictedDataPointer);
        directMemory.free(evictedDataPointer);
      }
      flushData(fileName,pageIndex,dataPointer);
      directMemory.free(dataPointer);
      evictedItems.clear();
    }
 else     evictedItems.put(new FileLockKey(fileName,pageIndex),dataPointer);
  }
 else {
    directMemory.free(dataPointer);
  }
  filesPages.get(fileName).remove(pageIndex);
}
