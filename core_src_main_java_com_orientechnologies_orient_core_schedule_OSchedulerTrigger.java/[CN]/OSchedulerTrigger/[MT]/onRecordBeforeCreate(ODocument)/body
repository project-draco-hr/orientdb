{
  String name=iDocument.field(OScheduler.PROP_NAME);
  OScheduler scheduler=ODatabaseRecordThreadLocal.INSTANCE.get().getMetadata().getSchedulerListener().getScheduler(name);
  if (scheduler != null) {
    throw new OException("Duplicate Scheduler");
  }
  boolean start=iDocument.field(OScheduler.PROP_STARTED) == null ? false : ((Boolean)iDocument.field(OScheduler.PROP_STARTED));
  if (start)   iDocument.field(OScheduler.PROP_STATUS,SCHEDULER_STATUS.WAITING.name());
 else   iDocument.field(OScheduler.PROP_STATUS,SCHEDULER_STATUS.STOPPED.name());
  iDocument.field(OScheduler.PROP_STARTED,start);
  return RESULT.RECORD_CHANGED;
}
