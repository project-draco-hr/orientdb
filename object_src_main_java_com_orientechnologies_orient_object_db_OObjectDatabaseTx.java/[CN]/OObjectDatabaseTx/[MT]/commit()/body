{
  try {
    ((ODatabaseRecordTx)underlying.getUnderlying()).commit();
    if (getTransaction().getAllRecordEntries() != null) {
      Object pojo=null;
      for (      ORecordOperation entry : getTransaction().getAllRecordEntries()) {
switch (entry.type) {
case ORecordOperation.CREATED:
case ORecordOperation.UPDATED:
          break;
case ORecordOperation.DELETED:
        unregisterPojo(pojo,(ODocument)entry.getRecord());
      break;
  }
}
}
}
  finally {
getTransaction().close();
}
return this;
}
