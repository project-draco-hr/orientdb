{
  try {
    super.create();
    metadata=new OMetadata(this);
    metadata.create();
    createRolesAndUsers();
    user=getMetadata().getSecurity().getUser(OUser.ADMIN);
    dictionary=(ODictionaryInternal<ORecordInternal<?>>)getStorage().createDictionary(this);
    dictionary.create();
    registerHook(new OUserTrigger());
    registerHook(new OPropertyIndexManager());
  }
 catch (  Exception e) {
    throw new ODatabaseException("Can't create database",e);
  }
  return (DB)this;
}
