{
  server=iServer;
  cluster=iCluster;
  final OStorage storage=openStorage(storageName);
  try {
    resolver=cluster.getConfictResolverClass().newInstance();
    resolver.startup(server,storageName);
  }
 catch (  Exception e) {
    ODistributedServerLog.error(this,cluster.getLocalNodeId(),null,DIRECTION.NONE,"cannot create the conflict resolver instance of class '%s'",cluster.getConfictResolverClass(),e);
  }
  final String logDirectory=OSystemVariableResolver.resolveSystemVariables(server.getDatabaseDirectory() + "/" + storageName);
  log=new ODatabaseJournal(iServer,storage,logDirectory);
}
