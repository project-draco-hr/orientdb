{
  name=document.field("name");
  if (document.field("type") != null)   type=OType.getById(((Long)document.field("type")).byteValue());
  offset=((Long)document.field("offset")).intValue();
  mandatory=(Boolean)document.field("mandatory");
  notNull=(Boolean)document.field("notNull");
  min=document.field("min");
  max=document.field("max");
  linkedClassName=(String)document.field("linkedClass");
  if (document.field("linkedType") != null)   linkedType=OType.getById(((Long)document.field("linkedType")).byteValue());
  final ODocument indexRecord=document.field("index");
  if (indexRecord != null && indexRecord.getIdentity().isValid()) {
    Boolean indexType=document.field("index-unique");
    if (indexType == null)     indexType=Boolean.TRUE;
    try {
      index=new OIndex(indexType,document.getDatabase(),OStorage.CLUSTER_INDEX_NAME,new ORecordId(indexRecord.getIdentity().toString()));
      index.load();
    }
 catch (    IOException e) {
      OLogManager.instance().error(this,"Can't load index for property %s",e,ODatabaseException.class,toString());
    }
  }
}
