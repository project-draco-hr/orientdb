{
  lock.acquireExclusiveLock();
  try {
    pendingLogs--;
    if (pendingLogs == 0 && file.getFreeSpace() < RECORD_SIZE)     file.shrink(0);
  }
  finally {
    lock.releaseExclusiveLock();
  }
}
