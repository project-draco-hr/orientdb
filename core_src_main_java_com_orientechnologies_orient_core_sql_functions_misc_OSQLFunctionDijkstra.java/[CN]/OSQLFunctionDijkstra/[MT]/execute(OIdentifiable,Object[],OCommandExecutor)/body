{
  final ODatabaseRecord currentDatabase=ODatabaseRecordThreadLocal.INSTANCE.get();
  db=(OGraphDatabase)(currentDatabase instanceof OGraphDatabase ? currentDatabase : new OGraphDatabase((ODatabaseRecordTx)currentDatabase));
  paramSourceVertex=(OIdentifiable)OSQLHelper.getValue(iParameters[0],(ORecordInternal<?>)iCurrentRecord.getRecord(),iRequester.getContext());
  paramDestinationVertex=(OIdentifiable)OSQLHelper.getValue(iParameters[1],(ORecordInternal<?>)iCurrentRecord.getRecord(),iRequester.getContext());
  paramWeightFieldName=(String)OSQLHelper.getValue(iParameters[2],(ORecordInternal<?>)iCurrentRecord.getRecord(),iRequester.getContext());
  settledNodes=new HashSet<OIdentifiable>();
  unSettledNodes=new HashSet<OIdentifiable>();
  distance=new HashMap<OIdentifiable,Float>();
  predecessors=new HashMap<OIdentifiable,OIdentifiable>();
  distance.put(paramSourceVertex,0f);
  unSettledNodes.add(paramSourceVertex);
  iCurrentRecord.getRecord();
  while (unSettledNodes.size() > 0) {
    OIdentifiable node=getMinimum(unSettledNodes);
    settledNodes.add(node);
    unSettledNodes.remove(node);
    findMinimalDistances(node);
  }
  return getPath(paramDestinationVertex);
}
