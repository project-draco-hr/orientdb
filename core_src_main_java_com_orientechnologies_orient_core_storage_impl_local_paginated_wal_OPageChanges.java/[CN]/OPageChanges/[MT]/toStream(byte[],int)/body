{
  OIntegerSerializer.INSTANCE.serializeNative(changeUnits.size(),content,offset);
  offset+=OIntegerSerializer.INT_SIZE;
  for (  ChangeUnit changeUnit : changeUnits) {
    OIntegerSerializer.INSTANCE.serializeNative(changeUnit.pageOffset,content,offset);
    offset+=OIntegerSerializer.INT_SIZE;
    OIntegerSerializer.INSTANCE.serializeNative(changeUnit.oldValues.length,content,offset);
    offset+=OIntegerSerializer.INT_SIZE;
    if (changeUnit.newValues != null) {
      content[offset]=1;
      offset++;
      System.arraycopy(changeUnit.newValues,0,content,offset,changeUnit.newValues.length);
      offset+=changeUnit.newValues.length;
    }
 else     offset++;
    System.arraycopy(changeUnit.oldValues,0,content,offset,changeUnit.oldValues.length);
    offset+=changeUnit.oldValues.length;
  }
  return offset;
}
