{
  database=ODatabaseDocumentPool.global().acquire(url,"admin","admin");
  ODocument vDoc=database.newInstance();
  vDoc.setClassName("Profile");
  vDoc.field("nick","Jacky").field("name","Jack").field("surname","Tramiel");
  vDoc.save();
  vDoc=database.newInstance();
  vDoc.setClassName("Profile");
  vDoc.field("nick","Jack").field("name","Jack").field("surname","Bauer");
  vDoc.save();
  OPropertyIndex indexName=database.getMetadata().getSchema().getClass("Profile").getProperty("name").getIndex();
  Set<OIdentifiable> vName1=indexName.getUnderlying().get("Jack");
  Assert.assertEquals(vName1.size(),2);
  database.delete(vDoc);
  vName1=indexName.getUnderlying().get("Jack");
  Assert.assertEquals(vName1.size(),1);
  database.close();
}
