{
  addUser();
  lock.acquireExclusiveLock();
  connectionUserName=iUserName;
  connectionUserPassword=iUserPassword;
  connectionOptions=new HashMap<String,Object>(iOptions);
  try {
    openRemoteDatabase();
    configuration=new OStorageConfiguration(this);
    configuration.load();
  }
 catch (  Exception e) {
    if (!OGlobalConfiguration.STORAGE_KEEP_OPEN.getValueAsBoolean())     close();
    if (e instanceof OException)     throw (OException)e;
 else     throw new OStorageException("Can't open the remote storage: " + name,e);
  }
 finally {
    lock.releaseExclusiveLock();
  }
}
