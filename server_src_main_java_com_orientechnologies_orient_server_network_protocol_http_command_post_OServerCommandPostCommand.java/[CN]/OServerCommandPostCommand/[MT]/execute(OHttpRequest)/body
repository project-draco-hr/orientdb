{
  String[] urlParts=checkSyntax(iRequest.url,3,"Syntax error: command/<database>/sql/[<command-text>]");
  final String text=urlParts.length > 3 ? urlParts[3].trim() : iRequest.content;
  iRequest.data.commandInfo="Command";
  iRequest.data.commandDetail=text;
  ODatabaseDocumentTx db=null;
  final Object response;
  try {
    db=getProfiledDatabaseInstance(iRequest,urlParts[1]);
    response=db.command(new OCommandSQL(text)).execute();
  }
  finally {
    if (db != null)     OSharedDocumentDatabase.release(db);
  }
  if (response instanceof List<?>)   sendRecordsContent(iRequest,(List<ORecord<?>>)response);
 else   if (response instanceof Integer)   sendTextContent(iRequest,OHttpUtils.STATUS_OK_CODE,"OK",null,OHttpUtils.CONTENT_TEXT_PLAIN,response);
 else   sendTextContent(iRequest,OHttpUtils.STATUS_OK_CODE,"OK",null,OHttpUtils.CONTENT_TEXT_PLAIN,response.toString());
  return false;
}
