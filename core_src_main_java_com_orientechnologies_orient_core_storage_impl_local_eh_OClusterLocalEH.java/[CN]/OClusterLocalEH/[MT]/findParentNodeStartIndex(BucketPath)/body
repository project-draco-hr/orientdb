{
  final BucketPath parentBucketPath=bucketPath.parent;
  final int pointersSize=1 << (maxLevelDepth - bucketPath.nodeLocalDepth);
  if (parentBucketPath.itemIndex < maxLevelSize / 2)   return (parentBucketPath.itemIndex / pointersSize) * pointersSize;
  return ((parentBucketPath.itemIndex - maxLevelSize / 2) / pointersSize) * pointersSize + maxLevelSize / 2;
}
