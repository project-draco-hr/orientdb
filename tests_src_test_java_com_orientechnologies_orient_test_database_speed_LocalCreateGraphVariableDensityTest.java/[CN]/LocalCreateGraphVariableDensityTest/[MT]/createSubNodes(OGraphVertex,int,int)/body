{
  if (iDeepLevel >= MAX_DEEP || nodeWrittenCounter >= MAX_NODES)   return;
  if (nodeWrittenCounter % 100000 == 0)   System.out.print(".");
  if (iDeepLevel > maxDeep)   maxDeep=iDeepLevel;
  OGraphVertex newNode;
  for (int i=0; i <= iDensity && nodeWrittenCounter < MAX_NODES; ++i) {
    newNode=database.createVertex().set("id",nodeWrittenCounter++);
    iNode.link(newNode);
    arcWrittenCounter++;
  }
  for (  OGraphVertex node : iNode.browseOutEdgesVertexes()) {
    if (iDensity * DENSITY_FACTOR / 100 > 0)     iDensity-=iDensity * DENSITY_FACTOR / 100;
 else     iDensity-=1;
    if (iDensity <= 0)     iDensity=1;
    createSubNodes(node,iDeepLevel + 1,iDensity);
  }
  iNode.save();
}
