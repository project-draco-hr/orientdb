{
  database.query(new OSQLAsynchQuery<Object>("select from " + name + " where "+ propertyName+ ".type() <> \""+ type.name()+ "\"",new OCommandResultListener(){
    @Override public boolean result(    Object iRecord){
      final ODocument record=((OIdentifiable)iRecord).getRecord();
      record.setFieldType(propertyName,type);
      record.field(propertyName,OType.convert(record.field(propertyName),type.getDefaultJavaType()),type);
      database.save(record);
      return true;
    }
    @Override public void end(){
    }
  }
));
}
