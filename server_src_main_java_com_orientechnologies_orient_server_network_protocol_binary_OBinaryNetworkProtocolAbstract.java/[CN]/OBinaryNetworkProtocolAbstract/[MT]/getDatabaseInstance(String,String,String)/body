{
  final String path;
  final OStorage stg=Orient.instance().getStorage(iDbName);
  if (stg != null)   path=stg.getURL();
 else   if (iStorageType.equals(OEngineLocal.NAME))   path=server.getConfiguration().getStoragePath(iDbName);
 else   if (iStorageType.equals(OEngineMemory.NAME))   path=server.getConfiguration().getStoragePath(iDbName);
 else   throw new IllegalArgumentException("Cannot create database: storage mode '" + iStorageType + "' is not supported.");
  return Orient.instance().getDatabaseFactory().createDatabase(iDbType,path);
}
