{
  pluginManager=new OServerPluginManager();
  pluginManager.config(this);
  pluginManager.startup();
  final OServerConfiguration configuration=serverCfg.getConfiguration();
  if (configuration.handlers != null) {
    OServerPlugin handler;
    for (    OServerHandlerConfiguration h : configuration.handlers) {
      if (h.parameters != null) {
        boolean enabled=true;
        for (        OServerParameterConfiguration p : h.parameters) {
          if (p.name.equals("enabled")) {
            enabled=false;
            String value=OSystemVariableResolver.resolveSystemVariables(p.value);
            if (value != null) {
              value=value.trim();
              if ("true".equalsIgnoreCase(value)) {
                enabled=true;
                break;
              }
            }
          }
        }
        if (!enabled)         continue;
      }
      try {
        handler=(OServerPlugin)loadClass(h.clazz).newInstance();
        if (handler instanceof ODistributedServerManager)         distributedManager=(ODistributedServerManager)handler;
        pluginManager.registerPlugin(new OServerPluginInfo(handler.getName(),null,null,null,handler,null,0,null));
        handler.config(this,h.parameters);
        handler.startup();
      }
 catch (      Exception handlerEx) {
        OLogManager.instance().error(this,"registerPlugins() Exception: ",handlerEx);
      }
    }
  }
}
