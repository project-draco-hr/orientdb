{
  iRequest.data.commandInfo="Database export";
  ODatabaseRecord database=getProfiledDatabaseInstance(iRequest);
  iResponse.writeStatus(OHttpUtils.STATUS_OK_CODE,OHttpUtils.STATUS_OK_DESCRIPTION);
  iResponse.writeHeaders(OHttpUtils.CONTENT_GZIP);
  iResponse.writeLine("Content-Disposition: attachment; filename=" + database.getName() + ".gz");
  iResponse.writeLine("Date: " + new Date());
  iResponse.writeLine(null);
  ODatabaseExport export=new ODatabaseExport(database,new GZIPOutputStream(iResponse.getOutputStream()),this);
  export.exportDatabase();
  try {
    iResponse.flush();
  }
 catch (  SocketException e) {
  }
}
