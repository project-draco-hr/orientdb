{
  OType type=null;
  if (fieldValue.getClass() == byte[].class)   type=OType.BINARY;
 else   if (fieldValue instanceof ORecord<?>) {
    if (fieldValue instanceof ODocument && ((ODocument)fieldValue).hasOwners()) {
      type=OType.EMBEDDED;
    }
 else     type=OType.LINK;
  }
 else   if (fieldValue instanceof ORID)   type=OType.LINK;
 else   if (fieldValue instanceof Date)   type=OType.DATETIME;
 else   if (fieldValue instanceof String)   type=OType.STRING;
 else   if (fieldValue instanceof Integer || fieldValue instanceof BigInteger)   type=OType.INTEGER;
 else   if (fieldValue instanceof Long)   type=OType.LONG;
 else   if (fieldValue instanceof Float)   type=OType.FLOAT;
 else   if (fieldValue instanceof Short)   type=OType.SHORT;
 else   if (fieldValue instanceof Byte)   type=OType.BYTE;
 else   if (fieldValue instanceof Double)   type=OType.DOUBLE;
 else   if (fieldValue instanceof BigDecimal)   type=OType.DECIMAL;
 else   if (fieldValue instanceof Boolean)   type=OType.BOOLEAN;
 else   if (fieldValue instanceof ORidBag)   type=OType.LINKBAG;
 else   if (fieldValue instanceof OMultiCollectionIterator<?>)   type=((OMultiCollectionIterator<?>)fieldValue).isEmbedded() ? OType.EMBEDDEDLIST : OType.LINKLIST;
 else   if (fieldValue.getClass().isArray()) {
    type=OType.EMBEDDEDLIST;
  }
 else   if (fieldValue instanceof Collection<?>) {
    if (fieldValue instanceof Set<?>) {
      type=OType.EMBEDDEDSET;
    }
 else {
      type=OType.EMBEDDEDLIST;
    }
  }
  return type;
}
