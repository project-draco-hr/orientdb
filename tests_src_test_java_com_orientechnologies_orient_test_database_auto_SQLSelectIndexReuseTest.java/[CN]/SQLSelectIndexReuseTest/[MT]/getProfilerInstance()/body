{
  if (isRemoteStorage()) {
    final JMXServiceURL url=new JMXServiceURL("service:jmx:rmi:///jndi/rmi://localhost:4321/jmxrmi");
    jmxConnector=JMXConnectorFactory.connect(url,null);
    final MBeanServerConnection mbsc=jmxConnector.getMBeanServerConnection();
    final ObjectName onProfiler=new ObjectName("OrientDB:type=Profiler");
    return JMX.newMBeanProxy(mbsc,onProfiler,OProfilerMBean.class,false);
  }
 else {
    return OProfiler.getInstance();
  }
}
