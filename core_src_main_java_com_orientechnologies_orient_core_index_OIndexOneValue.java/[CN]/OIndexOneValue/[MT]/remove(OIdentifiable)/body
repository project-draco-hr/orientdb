{
  checkForRebuild();
  modificationLock.requestModificationLock();
  try {
    acquireExclusiveLock();
    try {
      int tot=0;
      for (      final Entry<Object,OIdentifiable> entries : map.entrySet()) {
        if (entries.getValue().equals(iRecord)) {
          remove(entries.getKey(),iRecord);
          ++tot;
        }
      }
      return tot;
    }
  finally {
      releaseExclusiveLock();
    }
  }
  finally {
    modificationLock.releaseModificationLock();
  }
}
