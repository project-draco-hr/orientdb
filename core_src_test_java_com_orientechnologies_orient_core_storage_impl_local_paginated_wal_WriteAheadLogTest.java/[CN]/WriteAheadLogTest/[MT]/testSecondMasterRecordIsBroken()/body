{
  writeAheadLog.log(new TestRecord(30,false));
  OLogSequenceNumber checkPointLSN=writeAheadLog.logFuzzyCheckPointStart();
  writeAheadLog.logFuzzyCheckPointEnd();
  writeAheadLog.log(new TestRecord(OWALPage.PAGE_SIZE,false));
  writeAheadLog.logFuzzyCheckPointStart();
  OLogSequenceNumber end=writeAheadLog.logFuzzyCheckPointEnd();
  Assert.assertEquals(writeAheadLog.end(),end);
  writeAheadLog.close();
  RandomAccessFile mrFile=new RandomAccessFile(new File(writeAheadLog.getWalLocation(),"WriteAheadLogTest.wmr"),"rw");
  mrFile.seek(3 * OIntegerSerializer.INT_SIZE + OLongSerializer.LONG_SIZE);
  int bt=mrFile.read();
  mrFile.seek(3 * OIntegerSerializer.INT_SIZE + OLongSerializer.LONG_SIZE);
  mrFile.write(bt + 1);
  mrFile.close();
  writeAheadLog=createWAL();
  Assert.assertEquals(writeAheadLog.end(),end);
  Assert.assertEquals(writeAheadLog.getLastCheckpoint(),checkPointLSN);
}
