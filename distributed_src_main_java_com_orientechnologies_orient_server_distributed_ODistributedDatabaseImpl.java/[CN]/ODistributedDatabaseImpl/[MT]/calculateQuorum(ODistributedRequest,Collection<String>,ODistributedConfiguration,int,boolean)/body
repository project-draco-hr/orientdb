{
  final String clusterName=clusterNames == null || clusterNames.isEmpty() ? null : clusterNames.iterator().next();
  int quorum=1;
  final OCommandDistributedReplicateRequest.QUORUM_TYPE quorumType=iRequest.getTask().getQuorumType();
switch (quorumType) {
case NONE:
    break;
case READ:
  quorum=cfg.getReadQuorum(clusterName,availableNodes);
break;
case WRITE:
quorum=cfg.getWriteQuorum(clusterName,availableNodes);
break;
case ALL:
quorum=availableNodes;
break;
}
if (quorum < 0) quorum=0;
if (checkNodesAreOnline && quorum > availableNodes) throw new ODistributedException("Quorum (" + quorum + ") cannot be reached because it is major than available nodes ("+ availableNodes+ ")");
return quorum;
}
