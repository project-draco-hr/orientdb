{
  ODocument doc=new ODocument("Polygon");
  doc.field("coordinates",new ArrayList<List<List<Double>>>(){
{
      add(new ArrayList<List<Double>>(){
{
          add(Arrays.asList(-45d,30d));
          add(Arrays.asList(45d,30d));
          add(Arrays.asList(45d,-30d));
          add(Arrays.asList(-45d,-30d));
          add(Arrays.asList(-45d,30d));
        }
      }
);
    }
  }
);
  doc.save();
  List<Coordinate> coordinates=new ArrayList<Coordinate>();
  coordinates.add(new Coordinate(-45,30));
  coordinates.add(new Coordinate(45,30));
  coordinates.add(new Coordinate(45,-30));
  coordinates.add(new Coordinate(-45,-30));
  coordinates.add(new Coordinate(-45,30));
  OPolygonShapeBuilder builder=new OPolygonShapeBuilder();
  String p1=builder.asText(doc);
  Polygon polygon1=geometryFactory.createPolygon(coordinates.toArray(new Coordinate[coordinates.size()]));
  String p2=polygon1.toText();
  Assert.assertEquals(p2,p1);
}
