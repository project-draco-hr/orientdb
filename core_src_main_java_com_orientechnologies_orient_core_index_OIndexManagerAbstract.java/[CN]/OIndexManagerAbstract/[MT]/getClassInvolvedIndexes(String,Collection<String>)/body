{
  acquireSharedLock();
  try {
    fields=normalizeFieldNames(fields);
    final OMultiKey multiKey=new OMultiKey(fields);
    final Map<OMultiKey,Set<OIndex<?>>> propertyIndex=classPropertyIndex.get(className.toLowerCase());
    if (propertyIndex == null || !propertyIndex.containsKey(multiKey))     return Collections.emptySet();
    final Set<OIndex<?>> rawResult=propertyIndex.get(multiKey);
    final Set<OIndex<?>> transactionalResult=new HashSet<OIndex<?>>(rawResult.size());
    for (    final OIndex<?> index : rawResult) {
      transactionalResult.add(preProcessBeforeReturn((OIndexInternal<?>)index));
    }
    return transactionalResult;
  }
  finally {
    releaseSharedLock();
  }
}
