{
  super.config(iServer,iParams);
  if (nodeName == null) {
    nodeName="node" + System.currentTimeMillis();
    boolean found=false;
    final OServerConfiguration cfg=iServer.getConfiguration();
    for (    OServerHandlerConfiguration h : cfg.handlers) {
      if (h.clazz.equals(getClass().getName())) {
        for (        OServerParameterConfiguration p : h.parameters) {
          if (p.name.equals("nodeName")) {
            found=true;
            p.value=nodeName;
            break;
          }
        }
        if (!found) {
          h.parameters=OArrays.copyOf(h.parameters,h.parameters.length + 1);
          h.parameters[h.parameters.length - 1]=new OServerParameterConfiguration("nodeName",nodeName);
        }
        try {
          iServer.saveConfiguration();
        }
 catch (        IOException e) {
          throw new OConfigurationException("Cannot save server configuration",e);
        }
        break;
      }
    }
  }
  for (  OServerParameterConfiguration param : iParams) {
    if (param.name.equalsIgnoreCase("configuration.hazelcast"))     hazelcastConfigFile=OSystemVariableResolver.resolveSystemVariables(param.value);
  }
}
