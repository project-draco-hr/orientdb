{
  initialized=false;
  key=OBase64Utils.decode(OGlobalConfiguration.STORAGE_ENCRYPTION_AES_KEY.getValueAsString());
  SecretKeySpec ks=new SecretKeySpec(key,algorithmName);
  try {
    Cipher cipher=Cipher.getInstance(transformation);
    cipher.init(Cipher.ENCRYPT_MODE,ks);
  }
 catch (  NoSuchAlgorithmException e) {
    throw new OSecurityException("The AES alghorithm is not available on this platform",e);
  }
catch (  NoSuchPaddingException e) {
    throw new OSecurityException(e.getMessage(),e);
  }
catch (  InvalidKeyException e) {
    throw new OSecurityException("Invalid AES key.",e);
  }
  this.initialized=true;
}
