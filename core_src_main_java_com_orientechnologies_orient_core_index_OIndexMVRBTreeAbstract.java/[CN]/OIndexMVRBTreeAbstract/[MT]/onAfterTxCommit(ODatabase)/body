{
  acquireExclusiveLock();
  try {
    if (tempItems.size() > 0) {
      for (      Object key : tempItems) {
        ORecordLazySet set=map.get(key);
        if (set != null) {
          final ORecordLazySet newSet=new ORecordLazySet(configuration.getDatabase(),ODocument.RECORD_TYPE);
          newSet.addAll(set);
          map.put(key,newSet);
        }
      }
    }
    tempItems.clear();
  }
  finally {
    releaseExclusiveLock();
  }
}
