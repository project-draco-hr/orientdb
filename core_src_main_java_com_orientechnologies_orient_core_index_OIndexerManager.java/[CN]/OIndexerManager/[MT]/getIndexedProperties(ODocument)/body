{
  final ORecordSchemaAware<?> record=(ORecordSchemaAware<?>)iRecord;
  final OClass cls=record.getSchemaClass();
  if (cls == null)   return null;
  OTreeMapDatabase<String,ORecordId> index;
  Object fieldValue;
  String fieldValueString;
  Map<OProperty,String> indexedProperties=null;
  for (  OProperty prop : cls.properties()) {
    index=prop.getIndex();
    if (index != null) {
      fieldValue=record.field(prop.getName());
      if (fieldValue != null) {
        fieldValueString=fieldValue.toString();
        if (indexedProperties == null)         indexedProperties=new HashMap<OProperty,String>();
        indexedProperties.put(prop,fieldValueString);
      }
    }
  }
  return indexedProperties;
}
