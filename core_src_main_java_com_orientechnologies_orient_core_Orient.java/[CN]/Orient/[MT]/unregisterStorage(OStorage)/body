{
  for (  OOrientListener l : listeners)   l.onStorageUnregistered(iStorage);
  acquireExclusiveLock();
  try {
    for (    Entry<String,OStorage> s : storages.entrySet()) {
      if (s.getValue() == iStorage) {
        storages.remove(s.getKey());
        break;
      }
    }
  }
  finally {
    releaseExclusiveLock();
  }
}
