{
  database=getDatabase();
  init((OCommandRequestText)iRequest);
  parserRequiredKeyword("DELETE");
  parserRequiredKeyword("VERTEX");
  OClass clazz=null;
  String where=null;
  String word=parseOptionalWord(true);
  while (word != null) {
    if (word.startsWith("#")) {
      rid=new ORecordId(word);
    }
 else     if (word.equalsIgnoreCase("from")) {
      final StringBuilder q=new StringBuilder();
      final int newPos=OStringSerializerHelper.getEmbedded(parserText,parserGetCurrentPosition(),-1,q);
      query=database.command(new OSQLAsynchQuery<ODocument>(q.toString(),this));
      parserSetCurrentPosition(newPos);
    }
 else     if (word.equals(KEYWORD_WHERE)) {
      if (clazz == null)       clazz=database.getMetadata().getSchema().getClass(OrientVertexType.CLASS_NAME);
      where=parserGetCurrentPosition() > -1 ? " " + parserText.substring(parserGetPreviousPosition()) : "";
      query=database.command(new OSQLAsynchQuery<ODocument>("select from " + clazz.getName() + where,this));
      break;
    }
 else     if (word.length() > 0) {
      clazz=database.getMetadata().getSchema().getClass(word);
      if (clazz == null)       throw new OCommandSQLParsingException("Class '" + word + " was not found");
    }
    word=parseOptionalWord(true);
    if (parserIsEnded())     break;
  }
  if (where == null)   where="";
 else   where=" WHERE " + where;
  if (query == null && rid == null)   if (clazz == null)   query=database.command(new OSQLAsynchQuery<ODocument>("select from V" + where,this));
 else   query=database.command(new OSQLAsynchQuery<ODocument>("select from " + clazz.getName() + where,this));
  return this;
}
