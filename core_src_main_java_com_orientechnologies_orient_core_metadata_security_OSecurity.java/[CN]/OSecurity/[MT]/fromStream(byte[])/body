{
  ORecordColumn record=new ORecordColumn(database,buffer);
  Map<OUser,String> userInheritance=new HashMap<OUser,String>();
  OUser user;
  int usersNum=Integer.parseInt(record.next());
  int aclNum;
  String inheritUser;
  for (int u=0; u < usersNum; ++u) {
    user=new OUser(record.next());
    users.put(user.name.toLowerCase(),user);
    user.passwordEncoded(record.next());
    user.internalMode((byte)record.next().charAt(0));
    inheritUser=record.next();
    if (inheritUser != null && inheritUser.length() > 0)     userInheritance.put(user,inheritUser);
    aclNum=Integer.parseInt(record.next());
    for (int a=0; a < aclNum; ++a) {
      user.acl.put(record.next(),record.next().getBytes());
    }
  }
  for (  Entry<OUser,String> entry : userInheritance.entrySet()) {
    entry.getKey().inherit(users.get(entry.getValue().toLowerCase()));
  }
  return this;
}
