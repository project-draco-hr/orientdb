{
  final long timer=OProfiler.getInstance().startChrono();
  final boolean locked=lock.acquireSharedLock();
  try {
    final long offset=data.createRecord(iContent);
    final OCluster cluster=getClusterById(iClusterId);
    return cluster.addPhysicalPosition(0,offset,iRecordType);
  }
 catch (  IOException e) {
    throw new OStorageException("Error on create record in cluster: " + iClusterId,e);
  }
 finally {
    lock.releaseSharedLock(locked);
    OProfiler.getInstance().stopChrono("OStorageMemory.createRecord",timer);
  }
}
