{
  if (iDatabase instanceof ODatabaseRecord<?>)   ((ODatabaseRecord<?>)iDatabase).rollback();
  final OResourcePool<String,DB> pool=pools.get(iDatabase.getURL());
  if (pool == null)   throw new OLockException("Can't release a database URL not acquired before. URL: " + iDatabase.getURL());
  pool.returnResource(iDatabase);
}
