{
  database.open("writer","writer");
  adminRecord.field("user","writer-hacker");
  try {
    adminRecord.save();
  }
 catch (  OSecurityException e) {
  }
catch (  ORecordNotFoundException e) {
  }
catch (  OResponseProcessingException e) {
    final Throwable t=e.getCause();
    Assert.assertTrue(t instanceof OSecurityException || t instanceof ORecordNotFoundException);
  }
  database.close();
  database.open("admin","admin");
  Assert.assertEquals(((ODocument)adminRecord.reload()).field("user"),"admin");
}
