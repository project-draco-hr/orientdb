{
synchronized (syncObject) {
    LRUEntry lruEntry=a1in.get(fileId,pageIndex);
    if (lruEntry != null) {
      dirtyPages.get(fileId).add(pageIndex);
      lruEntry.isDirty=true;
      return;
    }
    lruEntry=am.get(fileId,pageIndex);
    if (lruEntry != null) {
      dirtyPages.get(fileId).add(pageIndex);
      lruEntry.isDirty=true;
    }
 else     throw new IllegalStateException("Requested page number " + pageIndex + " for file "+ files.get(fileId).getName()+ " is not in cache");
  }
}
