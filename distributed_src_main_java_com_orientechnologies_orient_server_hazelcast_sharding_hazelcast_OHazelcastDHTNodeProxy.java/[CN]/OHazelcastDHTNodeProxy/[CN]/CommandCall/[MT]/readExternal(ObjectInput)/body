{
  super.readExternal(in);
  storageName=(String)in.readObject();
  final Class<OCommandRequestText> clazz=(Class<OCommandRequestText>)in.readObject();
  final int size=in.readInt();
  final byte[] requestBytes=new byte[size];
  in.readFully(requestBytes);
  try {
    request=clazz.newInstance();
  }
 catch (  final Exception e) {
    throw new OCommandExecutionException("Failed to deserialize query",e);
  }
  request.fromStream(requestBytes);
  if (request.getResultListener() == null) {
    request.setResultListener(new OAggregatorResultListener());
  }
}
