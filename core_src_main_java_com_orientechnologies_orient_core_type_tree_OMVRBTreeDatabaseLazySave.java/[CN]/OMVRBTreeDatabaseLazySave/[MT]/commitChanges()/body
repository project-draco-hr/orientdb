{
  if (getDatabase().getTransaction() instanceof OTransactionOptimistic || maxUpdatesBeforeSave == 0 || (maxUpdatesBeforeSave > 0 && ++updates >= maxUpdatesBeforeSave)) {
    updates=0;
    return lazySave();
  }
  return 0;
}
