{
synchronized (syncObject) {
    OFileClassic fileClassic=files.get(fileId);
    if (fileClassic == null || !fileClassic.isOpen())     return;
    final Set<Long> pageIndexes=filePages.get(fileId);
    Long[] sortedPageIndexes=new Long[pageIndexes.size()];
    sortedPageIndexes=pageIndexes.toArray(sortedPageIndexes);
    Arrays.sort(sortedPageIndexes);
    final SortedMap<Long,OLogSequenceNumber> fileDirtyPages=dirtyPages.get(fileId);
    pageIndexes.clear();
    fileClassic.close();
  }
}
