{
  final OMemoryStream buffer=new OMemoryStream(iStream);
  text=buffer.getAsString();
  limit=buffer.getAsInteger();
  setFetchPlan(buffer.getAsString());
  final byte[] paramBuffer=buffer.getAsByteArray();
  if (paramBuffer.length == 0)   parameters=null;
 else {
    final ODocument param=new ODocument();
    param.fromStream(paramBuffer);
    final Map<String,Object> params=param.rawField("params");
    parameters=new HashMap<Object,Object>();
    for (    Entry<String,Object> p : params.entrySet()) {
      if (Character.isDigit(p.getKey().charAt(0)))       parameters.put(Integer.parseInt(p.getKey()),p.getValue());
 else       parameters.put(p.getKey(),p.getValue());
    }
  }
  return this;
}
