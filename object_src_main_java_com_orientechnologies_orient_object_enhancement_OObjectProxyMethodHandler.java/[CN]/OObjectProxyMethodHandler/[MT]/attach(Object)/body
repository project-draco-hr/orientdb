{
  for (Class<?> currentClass=self.getClass(); currentClass != Object.class; ) {
    if (Proxy.class.isAssignableFrom(currentClass)) {
      currentClass=currentClass.getSuperclass();
      continue;
    }
    for (    Field f : currentClass.getDeclaredFields()) {
      if (OObjectEntitySerializer.isTransientField(f.getDeclaringClass(),f.getName()) || OObjectEntitySerializer.isVersionField(f.getDeclaringClass(),f.getName()) || OObjectEntitySerializer.isIdField(f.getDeclaringClass(),f.getName()))       continue;
      Object value=OObjectEntitySerializer.getFieldValue(f,self);
      value=setValue(self,f.getName(),value);
      OObjectEntitySerializer.setFieldValue(f,self,value);
    }
    currentClass=currentClass.getSuperclass();
    if (currentClass == null || currentClass.equals(ODocument.class))     currentClass=Object.class;
  }
}
