{
  Parent parent=database.newInstance(Parent.class);
  parent.setName("Big Parent");
  EmbeddedChild embedded=database.newInstance(EmbeddedChild.class);
  embedded.setName("Little Child");
  parent.setEmbeddedChild(embedded);
  parent=database.save(parent);
  List<Parent> presult=database.query(new OSQLSynchQuery<Parent>("select from Parent"));
  List<EmbeddedChild> cresult=database.query(new OSQLSynchQuery<EmbeddedChild>("select from EmbeddedChild"));
  Assert.assertEquals(presult.size(),1);
  Assert.assertEquals(cresult.size(),0);
  EmbeddedChild child=database.newInstance(EmbeddedChild.class);
  child.setName("Little Child");
  parent.setChild(child);
  parent=database.save(parent);
  presult=database.query(new OSQLSynchQuery<Parent>("select from Parent"));
  cresult=database.query(new OSQLSynchQuery<EmbeddedChild>("select from EmbeddedChild"));
  Assert.assertEquals(presult.size(),1);
  Assert.assertEquals(cresult.size(),1);
  database.delete(parent);
  presult=database.query(new OSQLSynchQuery<Parent>("select * from Parent"));
  cresult=database.query(new OSQLSynchQuery<EmbeddedChild>("select * from EmbeddedChild"));
  Assert.assertEquals(presult.size(),0);
  Assert.assertEquals(cresult.size(),1);
  database.delete(child);
  presult=database.query(new OSQLSynchQuery<Parent>("select * from Parent"));
  cresult=database.query(new OSQLSynchQuery<EmbeddedChild>("select * from EmbeddedChild"));
  Assert.assertEquals(presult.size(),0);
  Assert.assertEquals(cresult.size(),0);
}
