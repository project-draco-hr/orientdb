{
  final List<OTransactionRecordEntry> tmpEntries=new ArrayList<OTransactionRecordEntry>();
  while (iTx.getCurrentRecordEntries().iterator().hasNext()) {
    for (    OTransactionRecordEntry txEntry : iTx.getCurrentRecordEntries())     tmpEntries.add(txEntry);
    iTx.clearRecordEntries();
    if (tmpEntries.size() > 0) {
      for (      OTransactionRecordEntry txEntry : tmpEntries)       commitEntry(iTx,txEntry,iTx.isUsingLog());
    }
  }
  OTransactionAbstract.updateCacheFromEntries(storage,iTx,iTx.getAllRecordEntries(),true);
}
