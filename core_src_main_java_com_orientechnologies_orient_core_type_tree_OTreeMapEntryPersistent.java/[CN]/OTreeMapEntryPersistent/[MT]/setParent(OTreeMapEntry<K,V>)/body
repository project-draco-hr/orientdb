{
  if (iParent != getParent()) {
    markDirty();
    this.parent=(OTreeMapEntryPersistent<K,V>)iParent;
    this.parentRid=iParent == null ? ORecordId.EMPTY_RECORD_ID : parent.record.getIdentity();
    if (parent != null) {
      if (parent.leftRid.isValid() && parent.leftRid.equals(record.getIdentity()))       parent.setLeft(this);
 else       if (parent.rightRid.isValid() && parent.rightRid.equals(record.getIdentity()))       parent.setRight(this);
    }
  }
  return iParent;
}
