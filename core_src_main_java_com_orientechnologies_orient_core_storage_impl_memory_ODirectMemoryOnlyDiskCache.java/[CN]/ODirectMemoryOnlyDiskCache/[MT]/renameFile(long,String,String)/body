{
  metadataLock.lock();
  try {
    String fileName=fileIdNameMap.get(fileId);
    if (fileName == null)     return;
    fileNameIdMap.remove(fileName);
    fileName=newFileName + fileName.substring(fileName.lastIndexOf(oldFileName) + fileName.length());
    fileIdNameMap.put(fileId,fileName);
    fileNameIdMap.put(fileName,fileId);
  }
  finally {
    metadataLock.unlock();
  }
}
