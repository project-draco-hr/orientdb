{
  if (indexType.equalsIgnoreCase(OClass.INDEX_TYPE.UNIQUE_HASH_INDEX.name()) || indexType.equalsIgnoreCase(OClass.INDEX_TYPE.NOTUNIQUE_HASH_INDEX.name()) || indexType.equalsIgnoreCase(OClass.INDEX_TYPE.DICTIONARY_HASH_INDEX.name()))   algorithm=OHashIndexFactory.HASH_INDEX_ALGORITHM;
  findFactoryByAlgorithm(algorithm);
  Iterator<OIndexFactory> ite;
  ite=getAllFactories();
  while (ite.hasNext()) {
    final OIndexFactory factory=ite.next();
    if (factory.getTypes().contains(indexType) && factory.getAlgorithms().contains(algorithm)) {
      return factory.createIndex(name,database,indexType,algorithm,valueContainerAlgorithm,metadata,version);
    }
  }
  throw new OIndexException("Index type: " + indexType + " is not supported. Types are "+ OCollections.toString(getIndexTypes()));
}
