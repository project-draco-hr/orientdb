{
  DataOutputStream output=new DataOutputStream(stream);
  OJwtHeader header=token.getHeader();
  output.writeByte(associetedTypes.get(header.getType()));
  output.writeByte(associetedKeys.get(header.getKeyId()));
  output.writeByte(associetedAlgorithms.get(header.getAlgorithm()));
  String toWrite=token.getDatabase();
  writeString(output,toWrite);
  output.writeByte(associetedDdTypes.get(token.getDatabaseType()));
  ORID id=token.getUserId();
  output.writeShort(id.getClusterId());
  output.writeLong(id.getClusterPosition());
  output.writeLong(token.getExpiry());
  output.writeShort(token.getProtocolVersion());
  writeString(output,token.getSerializer());
  writeString(output,token.getDriverName());
  writeString(output,token.getDriverVersion());
}
