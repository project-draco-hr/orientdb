{
  checkOpeness();
  final long timer=OProfiler.getInstance().startChrono();
  final boolean locked=acquireSharedLock();
  try {
    OCluster cluster;
    for (    int clusterId : iClusterId) {
      cluster=getClusterById(clusterId);
      browseCluster(iRequesterId,iListener,iRecord,cluster,iLockEntireCluster);
    }
  }
 catch (  IOException e) {
    OLogManager.instance().error(this,"Error on browsing elements of cluster: " + iClusterId,e);
  }
 finally {
    releaseSharedLock(locked);
    OProfiler.getInstance().stopChrono("OStorageLocal.foreach",timer);
  }
}
