{
  if (iDatabase instanceof ODatabaseRecord<?>)   ((ODatabaseRecord<?>)iDatabase).rollback();
  OResourcePool<String,DB> pool=pools.get(iURL);
  if (pool == null)   throw new OLockException("Can't release a database URL not acquired before. URL: " + iURL);
  pool.returnResource(iDatabase);
}
