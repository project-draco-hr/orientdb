{
  if (directory.exists() && directory.isDirectory()) {
    final File[] files=directory.listFiles();
    if (files != null)     for (    File db : files) {
      if (db.isDirectory()) {
        final File localFile=new File(db.getAbsolutePath() + "/default.odh");
        final File plocalFile=new File(db.getAbsolutePath() + "/default.pcl");
        final String dbPath=db.getPath().replace('\\','/');
        final int lastBS=dbPath.lastIndexOf('/',dbPath.length() - 1) + 1;
        if (localFile.exists()) {
          storages.put(OIOUtils.getDatabaseNameFromPath(dbPath.substring(lastBS)),"local:" + dbPath);
        }
 else         if (plocalFile.exists()) {
          storages.put(OIOUtils.getDatabaseNameFromPath(dbPath.substring(lastBS)),"plocal:" + dbPath);
        }
 else         scanDatabaseDirectory(db,storages);
      }
    }
  }
}
