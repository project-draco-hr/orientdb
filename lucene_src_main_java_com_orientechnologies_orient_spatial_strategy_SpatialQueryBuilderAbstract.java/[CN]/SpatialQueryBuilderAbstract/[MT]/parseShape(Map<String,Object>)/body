{
  Object geometry=query.get(SHAPE);
  if (geometry == null) {
    throw new OIndexEngineException("Invalid spatial query. Missing shape field " + query,null);
  }
  return factory.fromObject(geometry);
}
