{
  getDatabase().checkSecurity(ODatabaseSecurityResources.SCHEMA,ORole.PERMISSION_UPDATE);
  acquireSchemaWriteLock();
  try {
    if (iType == type)     return;
    boolean ok=false;
switch (type) {
case LINKLIST:
      ok=iType == OType.LINKSET;
    break;
case LINKSET:
  ok=iType == OType.LINKLIST;
break;
}
if (!ok) throw new IllegalArgumentException("Cannot change property type from " + type + " to "+ iType);
type=iType;
}
  finally {
releaseSchemaWriteLock();
}
}
