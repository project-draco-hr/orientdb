{
  database.command(new OCommandSQL("create index inIdx unique")).execute();
  database.getMetadata().getIndexManager().reload();
  Assert.assertNotNull(database.getMetadata().getIndexManager().getIndex("inIdx"));
  for (int key=0; key <= 5; key++) {
    database.command(new OCommandSQL("insert into index:inIdx (key,rid) values (" + key + ",#10:"+ key+ ")")).execute();
  }
  final OIndex<?> index=database.getMetadata().getIndexManager().getIndex("inIdx");
  final Collection<Integer> multiGetResults=new ArrayList<Integer>(Arrays.asList(1,3));
  final Collection<OIdentifiable> indexCollection=index.getValues(Arrays.asList(1,3),true);
  Assert.assertEquals(indexCollection.size(),2);
  for (  final OIdentifiable identifiable : indexCollection) {
    multiGetResults.remove(identifiable.getIdentity().getClusterPosition().intValue());
  }
  Assert.assertEquals(multiGetResults.size(),0);
  database.command(new OCommandSQL("drop index inIdx")).execute();
}
