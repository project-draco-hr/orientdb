{
  final long timer=OProfiler.getInstance().startChrono();
  try {
    if (embeddedStreaming && size > OGlobalConfiguration.MVRBTREE_SET_BINARY_THRESHOLD.getValueAsInteger())     embeddedStreaming=false;
    if (embeddedStreaming) {
      buffer.append('[');
      boolean first=true;
      for (      OIdentifiable rid : tree.keySet()) {
        if (!first)         buffer.append(',');
 else         first=false;
        rid.getIdentity().toString(buffer);
      }
      buffer.append(']');
    }
 else     buffer.append(toDocument().toString());
  }
  finally {
    OProfiler.getInstance().stopChrono("OMVRBTreeRIDProvider.toStream",timer);
  }
  return this;
}
