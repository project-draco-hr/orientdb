{
  ODatabaseDocumentTx db=null;
  final String[] urlParts=checkSyntax(iRequest.url,3,"Syntax error: document/<database>/<record-id>");
  iRequest.data.commandInfo="Load document";
  final ORecord<?> rec;
  final int parametersPos=urlParts[2].indexOf("?");
  final String rid=parametersPos > -1 ? urlParts[2].substring(0,parametersPos) : urlParts[2];
  try {
    db=getProfiledDatabaseInstance(iRequest,urlParts[1]);
    rec=db.load(new ORecordId(rid));
  }
  finally {
    if (db != null)     OSharedDocumentDatabase.release(db);
  }
  if (rec == null)   sendTextContent(iRequest,404,"Not Found",null,OHttpUtils.CONTENT_TEXT_PLAIN,"Record with id '" + urlParts[2] + "' was not found.");
 else   sendRecordContent(iRequest,rec);
}
