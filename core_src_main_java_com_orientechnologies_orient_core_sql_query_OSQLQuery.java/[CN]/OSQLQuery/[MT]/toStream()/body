{
  final OMemoryOutputStream buffer=new OMemoryOutputStream();
  try {
    buffer.add(text);
    buffer.add(limit);
    buffer.addAsFixed(beginRange.toStream());
    buffer.addAsFixed(endRange.toStream());
    buffer.add(fetchPlan);
  }
 catch (  IOException e) {
    throw new OSerializationException("Error while marshalling OSQLQuery",e);
  }
  return buffer.toByteArray();
}
