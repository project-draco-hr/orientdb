{
  if (isClosed())   return;
  vertexBaseClass=null;
  edgeBaseClass=null;
  checkOpeness();
  try {
    rollback();
  }
 catch (  Throwable t) {
  }
  try {
    ((ODatabaseRaw)underlying.getUnderlying()).callOnCloseListeners();
  }
 catch (  Throwable t) {
  }
  getLevel1Cache().clear();
  final OGraphDatabasePool pool=ownerPool;
  ownerPool=null;
  pool.release(this);
}
