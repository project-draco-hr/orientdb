{
  byte[] buffer=new byte[1024];
  int rb=0;
  while (zipInputStream.available() > 0) {
    final int b=zipInputStream.read(buffer,rb,buffer.length - rb);
    if (b == -1)     break;
    rb+=b;
    if (rb == buffer.length) {
      byte[] oldBuffer=buffer;
      buffer=new byte[buffer.length << 1];
      System.arraycopy(oldBuffer,0,buffer,0,oldBuffer.length);
    }
  }
  final File confFile=new File(storagePath,configurationFileName);
  final OFileClassic configuration=new OFileClassic(confFile.getAbsolutePath(),"rw");
  configuration.shrink(0);
  configuration.write(0,buffer,rb,0);
  configuration.synch();
  configuration.close();
}
