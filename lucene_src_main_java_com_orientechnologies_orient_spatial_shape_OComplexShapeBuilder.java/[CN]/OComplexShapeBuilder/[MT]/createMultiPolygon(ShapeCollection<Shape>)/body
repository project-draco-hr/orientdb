{
  Polygon[] polygons=new Polygon[geometries.size()];
  int i=0;
  for (  Shape geometry : geometries) {
    if (geometry instanceof JtsGeometry) {
      polygons[i]=(Polygon)((JtsGeometry)geometry).getGeom();
    }
 else {
      Rectangle rectangle=(Rectangle)geometry;
      Geometry geometryFrom=SPATIAL_CONTEXT.getGeometryFrom(rectangle);
      polygons[i]=(Polygon)geometryFrom;
    }
    i++;
  }
  MultiPolygon multiPolygon=GEOMETRY_FACTORY.createMultiPolygon(polygons);
  return SPATIAL_CONTEXT.makeShape(multiPolygon);
}
