{
  if (firstResponse == null)   throw new ODistributedException("No response received from any of nodes " + getExpectedNodes() + " for request "+ request);
switch (resultStrategy) {
case FIRST_RESPONSE:
    return firstResponse;
case MERGE:
  return firstResponse;
case UNION:
final Map<String,Object> payloads=new HashMap<String,Object>();
for (Map.Entry<String,Object> entry : responses.entrySet()) if (entry.getValue() != NO_RESPONSE) payloads.put(entry.getKey(),((ODistributedResponse)entry.getValue()).getPayload());
firstResponse.setPayload(payloads);
return firstResponse;
}
return firstResponse;
}
