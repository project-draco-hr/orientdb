{
  getDatabase().checkSecurity(ORule.ResourceGeneric.CLASS,ORole.PERMISSION_UPDATE);
  if (isSubClassOf(OSecurityShared.RESTRICTED_CLASSNAME))   throw new OSecurityException("Class " + getName() + " cannot be truncated because has record level security enabled (extends "+ OSecurityShared.RESTRICTED_CLASSNAME+ ")");
  final OStorage storage=getDatabase().getStorage();
  acquireSchemaReadLock();
  try {
    for (    int id : clusterIds)     storage.getClusterById(id).truncate();
    for (    OIndex<?> index : getClassIndexes())     index.clear();
  }
  finally {
    releaseSchemaReadLock();
  }
}
