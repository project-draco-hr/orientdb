{
  final List<Comparable> sortedKeys=new ArrayList<Comparable>((Collection<? extends Comparable>)iKeys);
  Collections.sort(sortedKeys);
  acquireExclusiveLock();
  try {
    final Set<OIdentifiable> result=new HashSet<OIdentifiable>();
    for (    final Object key : sortedKeys) {
      final OMVRBTreeRIDSet values=(OMVRBTreeRIDSet)map.get(key);
      if (values == null)       continue;
      if (!values.isEmpty()) {
        for (        final OIdentifiable value : values) {
          if (maxValuesToFetch > -1 && maxValuesToFetch == result.size())           return result;
          result.add(value);
        }
      }
    }
    return result;
  }
  finally {
    releaseExclusiveLock();
  }
}
