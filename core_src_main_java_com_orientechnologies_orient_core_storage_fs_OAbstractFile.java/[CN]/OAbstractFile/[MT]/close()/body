{
  acquireWriteLock();
  try {
    try {
      if (OGlobalConfiguration.FILE_LOCK.getValueAsBoolean())       unlock();
      if (channel != null && channel.isOpen()) {
        channel.close();
        channel=null;
      }
      if (accessFile != null) {
        accessFile.close();
        accessFile=null;
      }
    }
 catch (    Exception e) {
      OLogManager.instance().error(this,"Error on closing file " + osFile.getAbsolutePath(),e,OIOException.class);
    }
  }
  finally {
    releaseWriteLock();
  }
}
