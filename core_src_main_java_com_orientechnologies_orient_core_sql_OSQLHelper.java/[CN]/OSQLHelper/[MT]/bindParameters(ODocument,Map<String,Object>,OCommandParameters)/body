{
  if (iFields == null)   return;
  for (  Entry<String,Object> field : iFields.entrySet()) {
    final String fieldName=field.getKey();
    Object fieldValue=field.getValue();
    if (fieldValue != null) {
      final String fieldValueString=fieldValue.toString();
      if (fieldValueString.startsWith("(") && fieldValueString.endsWith(")")) {
        final OCommandSQL cmd=new OCommandSQL(fieldValueString.substring(1,fieldValueString.length() - 1));
        fieldValue=ODatabaseRecordThreadLocal.INSTANCE.get().command(cmd).execute();
      }
    }
    iDocument.field(fieldName,resolveFieldValue(iDocument,fieldName,fieldValue,iArguments));
  }
}
