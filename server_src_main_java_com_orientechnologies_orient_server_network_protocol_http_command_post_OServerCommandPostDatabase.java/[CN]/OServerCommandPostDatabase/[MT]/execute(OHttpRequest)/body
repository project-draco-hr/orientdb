{
  String[] urlParts=checkSyntax(iRequest.url,3,"Syntax error: database/<db>/<type>");
  iRequest.data.commandInfo="Create database";
  try {
    final String databaseName=urlParts[1];
    final String storageMode=urlParts[2];
    final String path=getStoragePath(databaseName,storageMode);
    if (path != null) {
      ODatabaseDocumentTx database=new ODatabaseDocumentTx(path);
      if (database.exists())       throw new ODatabaseException("Database '" + database.getURL() + "' already exists");
      for (      OStorage stg : Orient.instance().getStorages()) {
        if (stg.getName().equalsIgnoreCase(database.getName()) && stg.exists())         throw new ODatabaseException("Database '" + database.getURL() + "' already exists: "+ stg);
      }
      OLogManager.instance().info(this,"Creating database " + path);
      database.create();
      sendDatabaseInfo(iRequest,database);
    }
 else {
      throw new OCommandExecutionException("The '" + storageMode + "' storage mode doesn't exists.");
    }
  }
  finally {
  }
  return false;
}
