{
  OLogSequenceNumber lsn=new OLogSequenceNumber(5,100);
  List<OPageDiff<?>> diffs=new ArrayList<OPageDiff<?>>();
  diffs.add(new OBinaryDiff(new byte[]{7,4,8},13));
  diffs.add(new OIntDiff(19,42));
  diffs.add(new OLongDiff(37L,213));
  OUpdatePageRecord serializedUpdatePageRecord=new OUpdatePageRecord(12,100,lsn,diffs);
  byte[] content=new byte[serializedUpdatePageRecord.serializedSize() + 1];
  int toStreamOffset=serializedUpdatePageRecord.toStream(content,1);
  Assert.assertEquals(toStreamOffset,content.length);
  OUpdatePageRecord restoredUpdatePageRecord=new OUpdatePageRecord();
  int fromStreamOffset=restoredUpdatePageRecord.fromStream(content,1);
  Assert.assertEquals(fromStreamOffset,content.length);
  Assert.assertEquals(restoredUpdatePageRecord,serializedUpdatePageRecord);
}
