{
  try {
    acquireExclusiveLock();
    if (storages.containsKey(iStorage.getName()))     throw new IllegalStateException("Storage " + iStorage + " has been already registered");
    storages.put(iStorage.getName(),iStorage);
  }
  finally {
    releaseExclusiveLock();
  }
}
