{
  lock.lock();
  try {
    final boolean updated;
    final boolean alreadyExecuted=lastExecuted[0] == iRunId && lastExecuted[1] >= iOperationSerial;
    if (alreadyExecuted && !iForce) {
      ODistributedServerLog.debug(this,cluster.getLocalNodeName(),null,DIRECTION.NONE,"skipped updating journal last task db='%s' op=%d.%d found=%d.%d",storage.getName(),iRunId,iOperationSerial,lastExecuted[0],lastExecuted[1]);
      updated=false;
    }
 else {
      ODistributedServerLog.debug(this,cluster.getLocalNodeName(),null,DIRECTION.NONE,"updating journal last task db='%s' op=%d.%d found=%d.%d force=%s",storage.getName(),iRunId,iOperationSerial,lastExecuted[0],lastExecuted[1],iForce);
      lastExecuted[0]=iRunId;
      lastExecuted[1]=iOperationSerial;
      lastExecuted[2]=System.currentTimeMillis();
      updated=true;
    }
    return updated;
  }
  finally {
    lock.unlock();
  }
}
