{
  if (iDateAsString != null)   if (globalRef.getType() == OType.DATE) {
    try {
      owner.owner.getDocument().getDatabase().getStorage().getConfiguration().getDateFormatInstance().parse(iDateAsString);
    }
 catch (    ParseException e) {
      throw new OSchemaException("Invalid date format while formatting date '" + iDateAsString + "'",e);
    }
  }
 else   if (globalRef.getType() == OType.DATETIME) {
    try {
      owner.owner.getDocument().getDatabase().getStorage().getConfiguration().getDateTimeFormatInstance().parse(iDateAsString);
    }
 catch (    ParseException e) {
      throw new OSchemaException("Invalid datetime format while formatting date '" + iDateAsString + "'",e);
    }
  }
}
