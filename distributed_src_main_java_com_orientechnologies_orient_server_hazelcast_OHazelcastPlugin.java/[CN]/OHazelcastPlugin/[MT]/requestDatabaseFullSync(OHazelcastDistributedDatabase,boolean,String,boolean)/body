{
  final ODistributedConfiguration cfg=getDatabaseConfiguration(databaseName);
  final Collection<String> nodes=cfg.getServers(null,nodeName);
  final List<String> selectedNodes=new ArrayList<String>();
  if (!iAskToAllNodes) {
    final Iterator<String> it=nodes.iterator();
    while (it.hasNext()) {
      final String f=it.next();
      if (isNodeAvailable(f,databaseName)) {
        selectedNodes.add(f);
        break;
      }
    }
  }
  if (selectedNodes.isEmpty())   selectedNodes.addAll(nodes);
  ODistributedServerLog.warn(this,nodeName,selectedNodes.toString(),DIRECTION.OUT,"requesting deploy of database '%s' on local server...",databaseName);
  final OAbstractReplicatedTask deployTask=new OSyncDatabaseTask();
  final Map<String,Object> results=(Map<String,Object>)sendRequest(databaseName,null,selectedNodes,deployTask,EXECUTION_MODE.RESPONSE,null);
  ODistributedServerLog.debug(this,nodeName,selectedNodes.toString(),DIRECTION.OUT,"deploy returned: %s",results);
  final String dbPath=serverInstance.getDatabaseDirectory() + databaseName;
  for (  Entry<String,Object> r : results.entrySet()) {
    final Object value=r.getValue();
    if (value instanceof Boolean)     continue;
 else     if (value instanceof ODiscardedResponse) {
      ODistributedServerLog.warn(this,nodeName,selectedNodes.toString(),DIRECTION.OUT,"requesting deploy of database '%s' on local server failed, retrying...",databaseName);
      return false;
    }
 else     if (value instanceof Throwable) {
      ODistributedServerLog.error(this,nodeName,r.getKey(),DIRECTION.IN,"error on installing database %s in %s",(Exception)value,databaseName,dbPath);
    }
 else     if (value instanceof ODistributedDatabaseChunk) {
      if (backupDatabase)       backupCurrentDatabase(databaseName);
      final Set<String> toSyncClusters=installDatabaseFromNetwork(dbPath,databaseName,distrDatabase,r.getKey(),(ODistributedDatabaseChunk)value,false);
      for (      String cl : toSyncClusters) {
        OCommandExecutorSQLSyncCluster.replaceCluster(this,serverInstance,databaseName,cl);
      }
      return true;
    }
 else     throw new IllegalArgumentException("Type " + value + " not supported");
  }
  throw new ODistributedException("No response received from remote nodes for auto-deploy of database");
}
