{
  final OServerConfigurationManager cfgManager=new OServerConfigurationManager(new OServerConfiguration());
  Assert.assertNull(cfgManager.getConfiguration().users);
  cfgManager.setUser("a0","b","c");
  Assert.assertNotNull(cfgManager.getConfiguration().users);
  Assert.assertEquals(cfgManager.getConfiguration().users.length,1);
  cfgManager.setUser("a1","b","c");
  cfgManager.setUser("a2","b","c");
  cfgManager.setUser("a3","b","c");
  Assert.assertEquals(cfgManager.getConfiguration().users.length,4);
  Assert.assertEquals(cfgManager.getUsers().size(),4);
  Assert.assertTrue(cfgManager.existsUser("a0"));
  Assert.assertTrue(cfgManager.existsUser("A1"));
  Assert.assertTrue(cfgManager.existsUser("a2"));
  Assert.assertTrue(cfgManager.existsUser("A0"));
  Assert.assertFalse(cfgManager.existsUser("A00"));
  cfgManager.dropUser("A3");
  cfgManager.dropUser("A2");
  cfgManager.dropUser("A1");
  cfgManager.dropUser("A0");
  Assert.assertEquals(cfgManager.getConfiguration().users.length,0);
  cfgManager.setUser("a0","b","c");
  Assert.assertEquals(cfgManager.getConfiguration().users.length,1);
  cfgManager.setUser("a1","b","c");
  cfgManager.setUser("a2","b","c");
  cfgManager.setUser("a3","b","c");
  Assert.assertEquals(cfgManager.getConfiguration().users.length,4);
  cfgManager.dropUser("A0");
  cfgManager.dropUser("A1");
  cfgManager.dropUser("A2");
  cfgManager.dropUser("A3");
  Assert.assertEquals(cfgManager.getConfiguration().users.length,0);
  cfgManager.setUser("a0","b","c");
  Assert.assertEquals(cfgManager.getConfiguration().users.length,1);
  cfgManager.setUser("a1","b","c");
  cfgManager.setUser("a2","b","c");
  cfgManager.setUser("a3","b","c");
  Assert.assertEquals(cfgManager.getConfiguration().users.length,4);
  cfgManager.dropUser("A2");
  cfgManager.dropUser("A1");
  cfgManager.dropUser("A0");
  cfgManager.dropUser("A3");
  Assert.assertEquals(cfgManager.getConfiguration().users.length,0);
}
