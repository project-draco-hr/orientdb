{
  ODistributedServerLog.warn(this,serverInstance.getDistributedManager().getLocalNodeId(),iRemoteNode,DIRECTION.IN,"CONFLICT on UDPATE record %s/%s (current=v%d, other=v%d)...",database.getName(),iCurrentRID,iCurrentVersion.getCounter(),iOtherVersion.getCounter());
  if (!existConflictsForRecord(iCurrentRID)) {
    final ODocument doc=createConflictDocument(ORecordOperation.UPDATED,iCurrentRID,iRemoteNode);
    try {
      doc.field(FIELD_CURRENT_VERSION,iCurrentVersion.getCounter());
      doc.field(FIELD_OTHER_VERSION,iOtherVersion.getCounter());
      doc.save();
    }
 catch (    Exception e) {
      errorOnWriteConflict(iRemoteNode,doc);
    }
  }
}
