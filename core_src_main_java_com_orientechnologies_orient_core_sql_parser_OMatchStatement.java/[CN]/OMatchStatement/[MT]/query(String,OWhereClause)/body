{
  final ODatabaseDocument database=getDatabase();
  OClass schemaClass=database.getMetadata().getSchema().getClass(className);
  database.checkSecurity(ORule.ResourceGeneric.CLASS,ORole.PERMISSION_READ,schemaClass.getName().toLowerCase());
  Iterable<ORecord> baseIterable=fetchFromIndex(schemaClass,oWhereClause);
  if (baseIterable == null) {
    baseIterable=new ORecordIteratorClass<ORecord>((ODatabaseDocumentInternal)database,(ODatabaseDocumentInternal)database,className,true,true);
  }
  Iterable<OIdentifiable> result=new FilteredIterator(baseIterable,oWhereClause);
  return result;
}
