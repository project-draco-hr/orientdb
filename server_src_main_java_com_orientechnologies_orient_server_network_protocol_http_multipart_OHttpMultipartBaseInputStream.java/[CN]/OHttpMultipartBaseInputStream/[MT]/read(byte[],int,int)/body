{
  if (buffer.length() > 0) {
    int tot2Read=Math.min(buffer.length(),len);
    for (int i=0; i < tot2Read; ++i) {
      b[i]=(byte)buffer.charAt(0);
      buffer.deleteCharAt(0);
      contentLength--;
    }
    return tot2Read;
  }
  int totRead=wrappedInputStream.read(b,off,len);
  contentLength-=totRead;
  return totRead;
}
