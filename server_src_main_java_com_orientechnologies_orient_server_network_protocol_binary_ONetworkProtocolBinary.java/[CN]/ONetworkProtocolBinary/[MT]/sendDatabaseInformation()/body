{
  final int clusters=connection.database.getClusters();
  if (connection.data.protocolVersion >= 7)   channel.writeShort((short)clusters);
 else   channel.writeInt(clusters);
  for (  OCluster c : (connection.database.getStorage()).getClusterInstances()) {
    if (c != null) {
      channel.writeString(c.getName());
      channel.writeShort((short)c.getId());
      channel.writeString(c.getType());
      if (connection.data.protocolVersion >= 12)       channel.writeShort((short)c.getDataSegmentId());
    }
  }
}
