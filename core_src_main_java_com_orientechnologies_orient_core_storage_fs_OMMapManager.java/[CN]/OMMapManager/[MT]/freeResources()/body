{
  final long memoryThreshold=(long)(maxMemory * 0.75);
  if (OLogManager.instance().isDebugEnabled())   OLogManager.instance().debug(null,"Free mmmap blocks, at least %d MB...",(totalMemory - memoryThreshold) / 1000000);
  Collections.sort(bufferPoolLRU,new Comparator<OMMapBufferEntry>(){
    public int compare(    final OMMapBufferEntry o1,    final OMMapBufferEntry o2){
      return (int)(o1.counter - o2.counter);
    }
  }
);
  for (Iterator<OMMapBufferEntry> it=bufferPoolLRU.iterator(); it.hasNext(); ) {
    final OMMapBufferEntry entry=it.next();
    if (removeEntry(entry))     it.remove();
    if (totalMemory < memoryThreshold)     break;
  }
}
