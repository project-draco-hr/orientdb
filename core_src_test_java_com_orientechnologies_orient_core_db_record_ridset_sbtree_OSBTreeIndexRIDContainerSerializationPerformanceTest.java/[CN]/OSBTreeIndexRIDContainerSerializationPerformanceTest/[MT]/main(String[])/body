{
  ODatabaseDocumentTx db=new ODatabaseDocumentTx("plocal:target/testdb/OSBTreeRIDSetTest");
  if (db.exists()) {
    db.open("admin","admin");
    db.drop();
  }
  db.create();
  ODatabaseRecordThreadLocal.INSTANCE.set(db);
  Set<OIdentifiable> data=new HashSet<OIdentifiable>(8);
  data.add(new ORecordId("#77:12"));
  data.add(new ORecordId("#77:13"));
  data.add(new ORecordId("#77:14"));
  data.add(new ORecordId("#77:15"));
  data.add(new ORecordId("#77:16"));
  for (int i=0; i < WARMUP_CYCLE_COUNT; i++) {
    cycle(data);
  }
  System.gc();
  Thread.sleep(1000);
  long time=System.currentTimeMillis();
  for (int i=0; i < CYCLE_COUNT; i++) {
    cycle(data);
  }
  time=System.currentTimeMillis() - time;
  System.out.println("Time: " + time + "ms.");
  System.out.println("Throughput: " + (((double)CYCLE_COUNT) * 1000 / time) + " rec/sec.");
}
