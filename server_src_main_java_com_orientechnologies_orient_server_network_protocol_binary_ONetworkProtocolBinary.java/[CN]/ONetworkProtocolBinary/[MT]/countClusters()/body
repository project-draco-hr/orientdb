{
  setDataCommandInfo("Count cluster elements");
  checkDatabase();
  int[] clusterIds=new int[channel.readShort()];
  for (int i=0; i < clusterIds.length; ++i)   clusterIds[i]=channel.readShort();
  boolean countTombstones=false;
  if (connection.data.protocolVersion >= 12)   countTombstones=channel.readByte() > 0;
  final long count=connection.database.countClusterElements(clusterIds,countTombstones);
  beginResponse();
  try {
    sendOk(clientTxId);
    channel.writeLong(count);
  }
  finally {
    endResponse();
  }
}
