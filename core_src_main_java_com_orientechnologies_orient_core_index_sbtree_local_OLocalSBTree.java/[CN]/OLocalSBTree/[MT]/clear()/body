{
  acquireExclusiveLock();
  try {
    try {
      diskCache.truncateFile(fileId);
      OCacheEntry cacheEntry=diskCache.load(fileId,ROOT_INDEX);
      OCachePointer rootPointer=cacheEntry.getCachePointer();
      rootPointer.acquireExclusiveLock();
      try {
        OSBTreeBucket<K> rootBucket=new OSBTreeBucket<K>(rootPointer.getDataPointer(),true,keySerializer,com.orientechnologies.orient.core.storage.impl.local.paginated.OAbstractPLocalPage.TrackMode.BOTH);
        rootBucket.setKeySerializerId(keySerializer.getId());
        rootBucket.setTreeSize(0);
        cacheEntry.markDirty();
      }
  finally {
        rootPointer.releaseExclusiveLock();
        diskCache.release(cacheEntry);
      }
    }
 catch (    IOException e) {
      throw new OIndexException("Error during clear of sbtree with name " + name,e);
    }
  }
  finally {
    releaseExclusiveLock();
  }
}
