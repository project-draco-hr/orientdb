{
  final PerformanceCounters pf=performanceCounters.get();
  if (pf != null) {
    final AtomicReference<OTimeCounter> cacheHits=pf.cacheHits;
    OTimeCounter oldCacheHits=cacheHits.get();
    OTimeCounter newCacheHits=new OTimeCounter(oldCacheHits.getTime() + (cacheHit ? 1 : 0),oldCacheHits.getCounter() + 1);
    while (!cacheHits.compareAndSet(oldCacheHits,newCacheHits)) {
      oldCacheHits=cacheHits.get();
      newCacheHits=new OTimeCounter(oldCacheHits.getTime() + (cacheHit ? 1 : 0),oldCacheHits.getCounter() + 1);
    }
  }
}
