{
  int counter=-1;
  final boolean locked=lock.acquireSharedLock();
  try {
    OMVRBTreeEntry<K,V> entry=getFirstEntry();
    while (entry != null) {
      entry=successor(entry);
      counter++;
    }
  }
  finally {
    lock.releaseSharedLock(locked);
  }
  return counter;
}
